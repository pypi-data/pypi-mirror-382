import{c as l,m as u,s as a,i as f,a as d}from"./index-CRSv9aMb.js";function c(e,t){let r=d(e).resolveInner(t,-1);for(;r;){if(r.type.name==="String")return!0;r=r.parent}return!1}function m(e,t){const o=e.doc;let n=t-1;for(;n>=0;){const r=o.sliceString(n,n+1);if(/[a-zA-Z0-9_]/.test(r)){n--;continue}else if(r==="."){if(n>0){const s=o.sliceString(n-1,n);return/[a-zA-Z0-9_)\]]/.test(s)}return!1}else break}return!1}function p(e,t){const n=e.doc.lineAt(t),r=n.text,s=t-n.from,i=r.slice(0,s);return s>0&&/[a-zA-Z0-9_]/.test(i[i.length-1])?!c(e,t):!!/\b(import|from|class|def|if|elif|else|for|while|with|as|return|yield|except|raise|assert|global|nonlocal)\s+$/.test(i)}function b(){return{key:"Tab",preventDefault:!1,run:e=>{const t=e.state,o=t.selection.main.head;return l(t)==="active"?u(!0)(e):c(t,o)?a(e):m(t,o)?a(e):p(t,o)?a(e):f(e)}}}export{b as customTabHandler};
