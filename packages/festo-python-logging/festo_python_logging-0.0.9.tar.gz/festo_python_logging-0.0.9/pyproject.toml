[build-system]
requires = ["poetry-core>=1.0.0", "poetry-dynamic-versioning>=1.0.0,<2.0.0"]
build-backend = "poetry_dynamic_versioning.backend"


[tool.poetry]
name = "festo-python-logging"
version = "0.0.9"
license = "Proprietary"
authors = [
  "Charles Wilmot <charles.wilmot@festo.com>",
]
maintainers = [
  "Charles Wilmot <charles.wilmot@festo.com>",
]
description = "Convenience function to configure python logging."



[tool.poetry.requires-plugins]
poetry-dynamic-versioning = { version = ">=1.0.0,<2.0.0", extras = ["plugin"] }



[tool.poetry-dynamic-versioning]
enable = false



[tool.poetry.dependencies]
python = ">=3.10"



[tool.poetry.group.dev]
optional = true
[tool.poetry.group.dev.dependencies]
ruff="*"
pytest="*"



[tool.ruff]
line-length = 120
fix = true



[tool.ruff.lint]
select = ["E", "F", "B", "D", "I", "PT", "NPY", "COM"]
ignore = [
    "C901",   # mccabe complexity
    "PT003",  # pytest-extraneous-scope-function - on some functions we make this intentionally explicit for
    # clarity purposess
    "F821",    # disabled pending better integration for omni packages
    "ANN401",  # at the moment a lot of these annotations are necessary due to missing upstream typing support,
    "D100",    # not enforced pending decision on documentation requirements
    "D104",    # not enforced pending decision on documentation requirements
    "D107",    # missing docstring in __init__
    "D401",    # Do not enforce first word being in impertative
    "D203",    # 1 blank line before class docstring
    "D211",
    "D213",
    "TRY003",  # raise-vanilla-args
    "PLR0913", # too-many-function-args
    "PLC1901", # compare-to-empty string
    "TRY300",  #

    "D105",   # undocumented-magic-method
    "RET505", # superfluous-else-return
    "RET506", # superfluous-else-raise
    "RET507", # superfluous-else-continue
    "RET508", # superfluous-else-break
]



[tool.ruff.format]
skip-magic-trailing-comma = false
docstring-code-format = false
docstring-code-line-length = "dynamic"



[tool.ruff.lint.per-file-ignores]
"tests/*" = [
    "S101",
    "D",
    "PT018",
    "SIM223",  # both to support assert False and "Infotext" assertions for assert clarity
    "ANN201",  # missing-return-type-undocumented-public-function
    "SLF001",  # private-member-access
    "ANN202",  # missing-return-type-private-function
    "PLR2004", # magic-value-comparison
]
"setup.py" = ["ALL"]
# temporarily excludes conftest.py file from linting due to autofix incompatibilities
"conftest.py" = ["ALL"]
