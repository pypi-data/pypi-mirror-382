description = 'MOKE setup'

group = 'basic'

includes = []

sysconfig = dict(
    datasinks = [],
)

tango_base = 'tango://localhost:10000/moke/'

devices = {
    'Intensity': device('nicos_jcns.moke01.devices.moke.MokeVoltmeter',
        description = 'Voltmeter reads intensity of laser beam reflected from the sample',
        tangodevice = tango_base + 'keithley/voltage',
        temperature = 'lab_temperature',
        fmtstr = '%.3f',
        pollinterval = 60,
        calibration_date = '2010-01-01',
    ),
    'lab_temperature': device('nicos.devices.entangle.Sensor',
        description = 'Ambient temperature in the MOKE lab',
        tangodevice = tango_base + 'arduino/temperature',
        fmtstr = '%.2f',
        pollinterval = 60,
    ),
    'lab_humidity': device('nicos.devices.entangle.Sensor',
        description = 'Ambient humidity in the MOKE lab',
        tangodevice = tango_base + 'arduino/humidity',
        fmtstr = '%.2f',
        pollinterval = 60,
    ),
    'MagB': device('nicos_jcns.moke01.devices.moke.MokeMagnet',
        description = 'Magnetic coils powered by Sigmaphi powersupply',
        intensity = 'Intensity',
        magsensor = 'Mag_sensor',
        currentsource = 'PS_current',
        maxramp = 400.0,
        fmtstr = '%.3f',
        pollinterval = 60,
    ),
    'Mag_sensor': device('nicos_jcns.moke01.devices.moke.MokeTeslameter',
        description = 'Value of magnetic field generated by magnetic coils',
        tangodevice = tango_base + 'tesla/sensor',
        temperature = 'lab_temperature',
        fmtstr = '%.3f',
        pollinterval = 0.5,
        probe_wire_length = 3.5,
        calibration_date = '2011-01-01',
        visibility = (),
    ),
    'PS_current': device('nicos_jcns.moke01.devices.moke.MokePowerSupply',
        description = 'Sigmaphi Powersupply supplies current in magnetic coils',
        tangodevice = tango_base + 'sigmaphi/powersupply',
        fmtstr = '%.3f',
        precision = 0.1,
        pollinterval = 0.5,
    ),
    'PS_voltage': device('nicos_jcns.moke01.devices.moke.MokePSVoltage',
        description = 'Sigmaphi Powersupply voltage reading',
        tangodevice = tango_base + 'sigmaphi/powersupply',
        pollinterval = 60,
        visibility = (),
    ),
}

startupcode = '''
'''

extended = dict(
#    representative = '',
)
