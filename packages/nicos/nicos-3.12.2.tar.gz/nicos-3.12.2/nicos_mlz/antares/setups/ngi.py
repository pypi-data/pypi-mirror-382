description = 'Neutron Grating Interferometer'

group = 'optional'

tango_base = 'tango://antareshw.antares.frm2.tum.de:10000/antares/'

devices = dict(
    G0rz = device('nicos.devices.entangle.Motor',
        speed = 1,
        unit = 'deg',
        description = 'Rotation of G0 grating around beam direction',
        tangodevice = tango_base + 'fzjs7/G0rz',
        abslimits = (-400, 400),
        maxage = 5,
        pollinterval = 3,
        precision = 0.01,
    ),
    G0ry = device('nicos.devices.entangle.Motor',
        speed = 1,
        unit = 'deg',
        description = 'Rotation of G0 grating around vertical axis',
        tangodevice = tango_base + 'fzjs7/G0ry',
        abslimits = (-1, 400),
        maxage = 5,
        pollinterval = 3,
        precision = 0.01,
    ),
    G0tz = device('nicos.devices.entangle.Motor',
        speed = 0.5,
        unit = 'mm',
        description = 'Stepping of G0 perpendicular to the beam direction',
        tangodevice = tango_base + 'fzjs7/G0tx',
        abslimits = (-2, 25),
        maxage = 5,
        pollinterval = 3,
        precision = 0.01,
    ),
    G1tx = device('nicos.devices.entangle.Motor',
        speed = 50,
        unit = 'mum',
        description = 'Stepping of G1 perpendicular to the beam direction',
        tangodevice = tango_base + 'copley/m09',
        abslimits = (0, 25000),
        userlimits = (0, 25000),
        maxage = 5,
        pollinterval = 3,
        precision = 0.1,
    ),
    G1tz = device('nicos.devices.entangle.Motor',
        speed = 5,
        unit = 'mm',
        description = 'Translation of G1 parallel to the beam direction',
        tangodevice = tango_base + 'copley/m12',
        abslimits = (-1, 101),
        userlimits = (0, 100),
        maxage = 5,
        pollinterval = 3,
        precision = 0.001,
    ),
    G1rz = device('nicos.devices.entangle.Motor',
        speed = 5,
        unit = 'deg',
        description = 'Rotation of G1 around the beam axis',
        tangodevice = tango_base + 'copley/m10',
        abslimits = (-400, 400),
        userlimits = (-400, 400),
        maxage = 5,
        pollinterval = 3,
        precision = 0.001,
    ),
    G1ry = device('nicos.devices.entangle.Motor',
        speed = 5,
        unit = 'deg',
        description = 'Rotation of G1 around the y-axis',
        tangodevice = tango_base + 'copley/m14',
        abslimits = (-400,400),
        userlimits = (-400,400),
        maxage = 5,
        pollinterval = 3,
        precision = 0.001,
    ),
    G1gx = device('nicos.devices.entangle.Motor',
        speed = 5,
        unit = 'deg',
        description = 'Rotation of G1 around the x-axis',
        tangodevice = tango_base + 'copley/m15',
        abslimits = (-20, 20),
        userlimits = (-20, 20),
        maxage = 5,
        pollinterval = 3,
        precision = 0.001,
    ),
    G2rz_p = device('nicos.devices.entangle.Motor',
        speed = 0.2,
        unit = 'deg',
        description = 'Rotation of G1 grating around beam direction',
        tangodevice = tango_base + 'fzjs7/G1rz',
        abslimits = (-400, 400),
        maxage = 5,
        pollinterval = 3,
        precision = 0.0005,
    ),
    G2tz = device('nicos.devices.entangle.Motor',
        speed = 1,
        unit = 'mm',
        description = 'Translation of G1 in beam direction. (Talbot distance)',
        tangodevice = tango_base + 'fzjs7/G1tz',
        abslimits = (0, 20),
        maxage = 5,
        pollinterval = 3,
        precision = 0.05,
    ),
    G2rz = device('nicos.devices.entangle.Motor',
        speed = 1,
        unit = 'deg',
        description = 'Rotation of G2 and G1 around beam axis',
        tangodevice = tango_base + 'fzjs7/G12rz',
        abslimits = (-400, 400),
        userlimits = (-250, 250),
        maxage = 5,
        pollinterval = 3,
        precision = 0.01,
    ),
)

monitor_blocks = dict(
    default = Block('Neutron Grating Interferometer',
        [
            BlockRow(
                Field(name='G0rz', dev='G0rz'),
                Field(name='G0ry', dev='G0ry'),
                Field(name='G0tz', dev='G0tz'),
            ),
            BlockRow(
                Field(name='G1rz', dev='G1rz'),
                Field(name='G1tz', dev='G1tz'),
                Field(name='G2rz', dev='G2rz'),
            ),
        ],
        setups=setupname,  # 'ngi or ngi_jcns',
    ),
)
