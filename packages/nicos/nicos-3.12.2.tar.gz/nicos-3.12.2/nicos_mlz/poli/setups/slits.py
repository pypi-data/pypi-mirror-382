description = 'POLI slits'

group = 'lowlevel'

includes = ['mono']

tango_base = 'tango://phys.poli.frm2:10000/poli/'
s7_motor = tango_base + 's7_motor/'
bp_motor = tango_base + 'piezo/'
bd_motor = tango_base + 'piezo/'

devices = dict(
    bmv = device('nicos.devices.entangle.Motor',
        description = 'Monochromator vertical opening slit',
        tangodevice = s7_motor + 'bmv',
        fmtstr = '%.2f',
        abslimits = (114.5, 188),
        precision = 0.2,
    ),
    bmh = device('nicos.devices.entangle.Motor',
        description = 'Monochromator horizontal opening slit',
        tangodevice = s7_motor + 'bmh',
        fmtstr = '%.2f',
        abslimits = (6.5, 80),
        precision = 0.2,
    ),
    bm = device('nicos.devices.generic.TwoAxisSlit',
        description = 'Monochromator slit',
        pollinterval = 15,
        maxage = 61,
        fmtstr = '%.2f %.2f',
        horizontal = 'bmh',
        vertical = 'bmv',
    ),

    bpl = device('nicos.devices.entangle.Motor',
        description = 'Left blade of the SmarAct piezo slit',
        tangodevice = bp_motor + 'left1',
        unit = 'mm',
        precision = 0.01,
        fmtstr = '%.2f',
        visibility = (),
    ),
    bpr = device('nicos.devices.entangle.Motor',
        description = 'Left blade of the SmarAct piezo slit',
        tangodevice = bp_motor + 'right1',
        unit = 'mm',
        precision = 0.01,
        fmtstr = '%.2f',
        visibility = (),
    ),
    bpt = device('nicos.devices.entangle.Motor',
        description = 'Left blade of the SmarAct piezo slit',
        tangodevice = bp_motor + 'top1',
        unit = 'mm',
        precision = 0.01,
        fmtstr = '%.2f',
        visibility = (),
    ),
    bpb = device('nicos.devices.entangle.Motor',
        description = 'Left blade of the SmarAct piezo slit',
        tangodevice = bp_motor + 'bottom1',
        unit = 'mm',
        precision = 0.01,
        fmtstr = '%.2f',
        visibility = (),
    ),
    bp = device('nicos.devices.generic.Slit',
        description = 'Aperture before sample',
        left = 'bpl',
        right = 'bpr',
        bottom = 'bpb',
        top = 'bpt',
        coordinates = 'opposite',
        opmode = '4blades_opposite',
    ),

    bdl = device('nicos.devices.entangle.Motor',
        description = 'Left blade of the SmarAct piezo slit',
        tangodevice = bd_motor + 'left2',
        unit = 'mm',
        precision = 0.01,
        fmtstr = '%.2f',
        visibility = (),
    ),
    bdr = device('nicos.devices.entangle.Motor',
        description = 'Left blade of the SmarAct piezo slit',
        tangodevice = bd_motor + 'right2',
        unit = 'mm',
        precision = 0.01,
        fmtstr = '%.2f',
        visibility = (),
    ),
    bdt = device('nicos.devices.entangle.Motor',
        description = 'Left blade of the SmarAct piezo slit',
        tangodevice = bd_motor + 'top2',
        unit = 'mm',
        precision = 0.01,
        fmtstr = '%.2f',
        visibility = (),
    ),
    bdb = device('nicos.devices.entangle.Motor',
        description = 'Left blade of the SmarAct piezo slit',
        tangodevice = bd_motor + 'bottom2',
        unit = 'mm',
        precision = 0.01,
        fmtstr = '%.2f',
        visibility = (),
    ),
    bd = device('nicos.devices.generic.Slit',
        description = 'Aperture before detector',
        left = 'bdl',
        right = 'bdr',
        bottom = 'bdb',
        top = 'bdt',
        coordinates = 'opposite',
        opmode = '4blades_opposite',
    ),
)
