description = 'Primary slit devices'

group = 'lowlevel'

devices = dict(
    slits_u = device('nicos.devices.generic.VirtualReferenceMotor',
        fmtstr = '%.2f',
        unit = 'mm',
        abslimits = (-10, 43),
        visibility = (),
        speed = 1,
        refswitch = 'high',
        refpos = 45,
    ),
    slits_d = device('nicos.devices.generic.VirtualReferenceMotor',
        fmtstr = '%.2f',
        unit = 'mm',
        abslimits = (-10, 43),
        visibility = (),
        speed = 1,
        refswitch = 'high',
        refpos = 45,
    ),
    slits_l = device('nicos.devices.generic.VirtualReferenceMotor',
        fmtstr = '%.2f',
        unit = 'mm',
        abslimits = (-10, 26),
        visibility = (),
        speed = 1,
        refswitch = 'high',
        refpos = 27,
    ),
    slits_r = device('nicos.devices.generic.VirtualReferenceMotor',
        fmtstr = '%.2f',
        unit = 'mm',
        abslimits = (-10, 26),
        visibility = (),
        speed = 1,
        refswitch = 'high',
        refpos = 27,
    ),
    slits = device('nicos.devices.generic.Slit',
        description = 'sample slit 4 blades',
        left = 'slits_l',
        right = 'slits_r',
        bottom = 'slits_d',
        top = 'slits_u',
        opmode = 'centered',
        coordinates = 'opposite',
        pollinterval = 5,
        maxage = 10,
        parallel_ref = True,
    ),
    slitm_w_m = device('nicos.devices.generic.VirtualMotor',
        abslimits = (-1, 97),
        curvalue = 59.94,
        speed = 1,
        unit = 'mm',
        fmtstr = '%.2f',
        visibility = (),
    ),
    slitm_w = device('nicos.devices.generic.Axis',
        motor = 'slitm_w_m',
        fmtstr = '%.2f',
        precision = 0.1,
        visibility = (),
    ),
    slitm_h_m = device('nicos.devices.generic.VirtualMotor',
        abslimits = (0, 148),
        curvalue = 90,
        speed = 1,
        unit = 'mm',
        fmtstr = '%.2f',
        visibility = (),
    ),
    slitm_h = device('nicos.devices.generic.Axis',
        motor = 'slitm_h_m',
        fmtstr = '%.2f',
        precision = 0.1,
        visibility = (),
    ),
    slitm = device('nicos.devices.generic.TwoAxisSlit',
        description = 'Monochromator entry slit',
        horizontal = 'slitm_w',
        vertical = 'slitm_h',
    ),
    slitm_e_m = device('nicos.devices.generic.VirtualMotor',
        unit = 'mm',
        abslimits = (0, 60),
        speed = 1,
        curvalue = 60,
        fmtstr = '%.2f',
        visibility = (),
    ),
    slitm_e = device('nicos.devices.generic.Axis',
        description = 'Monochromator exit slit width',
        motor = 'slitm_e_m',
        fmtstr = '%.2f',
        precision = 0.1,
    ),
)
