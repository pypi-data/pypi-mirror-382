{"version":3,"file":"ordinal-DfAQgscy.js","sources":["../node_modules/internmap/src/index.js","../node_modules/d3-scale/src/ordinal.js"],"sourcesContent":["export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n"],"names":["InternMap","entries","key","keyof","value","intern_get","intern_set","intern_delete","_intern","_key","implicit","ordinal","index","domain","range","unknown","scale","d","_","initRange"],"mappings":"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","x_google_ignoreList":[0,1]}