<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe Reader</title>
    <link rel="icon" type="image/png" href="/static/favicon.png">
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="nav-controls">
                <button id="toggleSidebar" class="nav-btn">☰</button>
                <button id="tmuxBtn" class="nav-btn tab-btn active">Tmux</button>
                <button id="filesBtn" class="nav-btn tab-btn">Files</button>
                <button id="configBtn" class="nav-btn tab-btn">Config</button>
                <div class="nav-spacer"></div>
                <div class="tmux-controls">
                    <button id="autoScrollBtn" class="nav-btn active">Auto↓</button>
                    <button id="autoRefreshBtn" class="nav-btn">Auto⟳</button>
                    <button id="refreshBtn" class="nav-btn">Refresh</button>
                </div>
            </div>
        </header>

        <!-- Tmux View -->
        <div id="tmuxView" class="view active">
            <div class="sidebar" id="tmuxSidebar">
                <div id="tmuxTree" class="tree"></div>
            </div>
            <div class="main-content">
                <div class="scroll-controls">
                    <button id="pageUpTmux" class="scroll-btn">Page ↑</button>
                    <button id="pageDownTmux" class="scroll-btn">Page ↓</button>
                </div>
                <pre id="tmuxContent" class="content-box"></pre>
            </div>
        </div>

        <!-- Files View -->
        <div id="filesView" class="view">
            <div class="sidebar" id="filesSidebar">
                <div class="path-input">
                    <input type="text" id="filePath" value="." placeholder="Path...">
                    <button id="loadFiles">Go</button>
                </div>
                <div id="fileList" class="file-list"></div>
            </div>
            <div class="main-content">
                <div class="scroll-controls">
                    <button id="pageUpFiles" class="scroll-btn">Page ↑</button>
                    <button id="pageDownFiles" class="scroll-btn">Page ↓</button>
                </div>
                <div id="fileContentContainer" class="content-box code-container code-mode" data-language="TEXT" data-mode="PLAIN" aria-live="polite">
                    <div id="fileContent" class="file-content"></div>
                </div>
            </div>
        </div>

        <!-- Config View -->
        <div id="configView" class="view">
            <div class="config-container">
                <h2>Configuration</h2>

                <div class="config-section">
                    <h3>Tmux Settings</h3>
                    <label>
                        Scrollback lines:
                        <input type="number" id="scrollbackLines" value="1000" min="100" max="10000" step="100">
                    </label>
                </div>

                <div class="config-section">
                    <h3>Display Settings</h3>
                    <label>
                        Font size:
                        <select id="fontSize">
                            <option value="12">12px</option>
                            <option value="14" selected>14px</option>
                            <option value="16">16px</option>
                            <option value="18">18px</option>
                            <option value="20">20px</option>
                        </select>
                    </label>
                    <label>
                        <input type="checkbox" id="enableSyntaxHighlighting">
                        Enable syntax highlighting (slower on eink)
                    </label>
                </div>

                <div class="config-section">
                    <h3>Auto Refresh</h3>
                    <label>
                        Refresh interval (seconds):
                        <select id="refreshInterval">
                            <option value="1">1s</option>
                            <option value="2">2s</option>
                            <option value="3">3s</option>
                            <option value="5" selected>5s</option>
                            <option value="10">10s</option>
                            <option value="30">30s</option>
                            <option value="60">60s</option>
                        </select>
                    </label>
                    <label>
                        Idle timeout (minutes):
                        <select id="refreshIdleTimeout">
                            <option value="5">5m</option>
                            <option value="10" selected>10m</option>
                            <option value="15">15m</option>
                            <option value="30">30m</option>
                        </select>
                    </label>
                </div>

                <button id="saveConfig" class="config-save-btn">Save Settings</button>
            </div>
        </div>
    </div>
    <script src="/static/app.js"></script>
</body>
</html>
