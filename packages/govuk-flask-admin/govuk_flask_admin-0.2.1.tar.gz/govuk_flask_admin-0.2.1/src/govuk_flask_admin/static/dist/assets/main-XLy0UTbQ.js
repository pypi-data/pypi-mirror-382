function W(o){const t=`--govuk-breakpoint-${o}`,e=window.getComputedStyle(document.documentElement).getPropertyValue(t);return{property:t,value:e||void 0}}function Y(o,t={}){var e;const s=o.getAttribute("tabindex");s||o.setAttribute("tabindex","-1");function i(){o.addEventListener("blur",n,{once:!0})}function n(){var r;(r=t.onBlur)==null||r.call(o),s||o.removeAttribute("tabindex")}o.addEventListener("focus",i,{once:!0}),(e=t.onBeforeFocus)==null||e.call(o),o.focus()}function ut(o,t){return o instanceof HTMLElement&&o.hasAttribute(`data-${t}-init`)}function Z(o=document.body){return o?o.classList.contains("govuk-frontend-supported"):!1}function ct(o){return Array.isArray(o)}function m(o){return!!o&&typeof o=="object"&&!ct(o)}function Q(o){return!!o&&(o instanceof Element||o instanceof Document)}function C(o,t){return`${o.moduleName}: ${t}`}class _ extends Error{constructor(...t){super(...t),this.name="GOVUKFrontendError"}}class U extends _{constructor(t=document.body){const e="noModule"in HTMLScriptElement.prototype?'GOV.UK Frontend initialised without `<body class="govuk-frontend-supported">` from template `<script>` snippet':"GOV.UK Frontend is not supported in this browser";super(t?e:'GOV.UK Frontend initialised without `<script type="module">`'),this.name="SupportError"}}class G extends _{constructor(...t){super(...t),this.name="ConfigError"}}class u extends _{constructor(t){let e=typeof t=="string"?t:"";if(m(t)){const{component:s,identifier:i,element:n,expectedType:r}=t;e=i,e+=n?` is not of type ${r??"HTMLElement"}`:" not found",s&&(e=C(s,e))}super(e),this.name="ElementError"}}class X extends _{constructor(t){const e=typeof t=="string"?t:C(t,"Root element (`$root`) already initialised");super(e),this.name="InitError"}}class p{get $root(){return this._$root}constructor(t){this._$root=void 0;const e=this.constructor;if(typeof e.moduleName!="string")throw new X("`moduleName` not defined in component");if(t instanceof e.elementType)this._$root=t;else throw new u({element:t,component:e,identifier:"Root element (`$root`)",expectedType:e.elementType.name});e.checkSupport(),this.checkInitialised();const s=e.moduleName;this.$root.setAttribute(`data-${s}-init`,"")}checkInitialised(){const t=this.constructor,e=t.moduleName;if(e&&ut(this.$root,e))throw new X(t)}static checkSupport(){if(!Z())throw new U}}p.elementType=HTMLElement;const z=Symbol.for("configOverride");class d extends p{[z](t){return{}}get config(){return this._config}constructor(t,e){super(t),this._config=void 0;const s=this.constructor;if(!m(s.defaults))throw new G(C(s,"Config passed as parameter into constructor but no defaults defined"));const i=ht(s,this._$root.dataset);this._config=nt(s.defaults,e??{},this[z](i),i)}}function st(o,t){const e=o?o.trim():"";let s,i=t==null?void 0:t.type;switch(i||(["true","false"].includes(e)&&(i="boolean"),e.length>0&&isFinite(Number(e))&&(i="number")),i){case"boolean":s=e==="true";break;case"number":s=Number(e);break;default:s=o}return s}function ht(o,t){if(!m(o.schema))throw new G(C(o,"Config passed as parameter into constructor but no schema defined"));const e={},s=Object.entries(o.schema.properties);for(const i of s){const[n,r]=i,a=n.toString();a in t&&(e[a]=st(t[a],r)),(r==null?void 0:r.type)==="object"&&(e[a]=mt(o.schema,t,n))}return e}function it(o){let t=document,e;if(m(o)){const s=o;(Q(s.scope)||s.scope===null)&&(t=s.scope),typeof s.onError=="function"&&(e=s.onError)}return Q(o)?t=o:o===null?t=null:typeof o=="function"&&(e=o),{scope:t,onError:e}}function nt(...o){const t={};for(const e of o)for(const s of Object.keys(e)){const i=t[s],n=e[s];m(i)&&m(n)?t[s]=nt(i,n):t[s]=n}return t}function dt(o,t){const e=[];for(const[s,i]of Object.entries(o)){const n=[];if(Array.isArray(i)){for(const{required:r,errorMessage:a}of i)r.every(l=>!!t[l])||n.push(a);s==="anyOf"&&!(i.length-n.length>=1)&&e.push(...n)}}return e}function mt(o,t,e){const s=o.properties[e];if((s==null?void 0:s.type)!=="object")return;const i={[e]:{}};for(const[n,r]of Object.entries(t)){let a=i;const l=n.split(".");for(const[c,h]of l.entries())m(a)&&(c<l.length-1?(m(a[h])||(a[h]={}),a=a[h]):n!==e&&(a[h]=st(r)))}return i[e]}class S{constructor(t={},e={}){var s;this.translations=void 0,this.locale=void 0,this.translations=t,this.locale=(s=e.locale)!=null?s:document.documentElement.lang||"en"}t(t,e){if(!t)throw new Error("i18n: lookup key missing");let s=this.translations[t];if(typeof(e==null?void 0:e.count)=="number"&&m(s)){const i=s[this.getPluralSuffix(t,e.count)];i&&(s=i)}if(typeof s=="string"){if(s.match(/%{(.\S+)}/)){if(!e)throw new Error("i18n: cannot replace placeholders in string if no option data provided");return this.replacePlaceholders(s,e)}return s}return t}replacePlaceholders(t,e){const s=Intl.NumberFormat.supportedLocalesOf(this.locale).length?new Intl.NumberFormat(this.locale):void 0;return t.replace(/%{(.\S+)}/g,function(i,n){if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];return r===!1||typeof r!="number"&&typeof r!="string"?"":typeof r=="number"?s?s.format(r):`${r}`:r}throw new Error(`i18n: no data found to replace ${i} placeholder in string`)})}hasIntlPluralRulesSupport(){return!!("PluralRules"in window.Intl&&Intl.PluralRules.supportedLocalesOf(this.locale).length)}getPluralSuffix(t,e){if(e=Number(e),!isFinite(e))return"other";const s=this.translations[t],i=this.hasIntlPluralRulesSupport()?new Intl.PluralRules(this.locale).select(e):"other";if(m(s)){if(i in s)return i;if("other"in s)return console.warn(`i18n: Missing plural form ".${i}" for "${this.locale}" locale. Falling back to ".other".`),"other"}throw new Error(`i18n: Plural form ".other" is required for "${this.locale}" locale`)}}/**
 * Accordion component
 *
 * This allows a collection of sections to be collapsed by default, showing only
 * their headers. Sections can be expanded or collapsed individually by clicking
 * their headers. A "Show all sections" button is also added to the top of the
 * accordion, which switches to "Hide all sections" when all the sections are
 * expanded.
 *
 * The state of each section is saved to the DOM via the `aria-expanded`
 * attribute, which also provides accessibility.
 *
 * @preserve
 * @augments ConfigurableComponent<AccordionConfig>
 */class g extends d{constructor(t,e={}){super(t,e),this.i18n=void 0,this.controlsClass="govuk-accordion__controls",this.showAllClass="govuk-accordion__show-all",this.showAllTextClass="govuk-accordion__show-all-text",this.sectionClass="govuk-accordion__section",this.sectionExpandedClass="govuk-accordion__section--expanded",this.sectionButtonClass="govuk-accordion__section-button",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionHeadingDividerClass="govuk-accordion__section-heading-divider",this.sectionHeadingTextClass="govuk-accordion__section-heading-text",this.sectionHeadingTextFocusClass="govuk-accordion__section-heading-text-focus",this.sectionShowHideToggleClass="govuk-accordion__section-toggle",this.sectionShowHideToggleFocusClass="govuk-accordion__section-toggle-focus",this.sectionShowHideTextClass="govuk-accordion__section-toggle-text",this.upChevronIconClass="govuk-accordion-nav__chevron",this.downChevronIconClass="govuk-accordion-nav__chevron--down",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionSummaryFocusClass="govuk-accordion__section-summary-focus",this.sectionContentClass="govuk-accordion__section-content",this.$sections=void 0,this.$showAllButton=null,this.$showAllIcon=null,this.$showAllText=null,this.i18n=new S(this.config.i18n);const s=this.$root.querySelectorAll(`.${this.sectionClass}`);if(!s.length)throw new u({component:g,identifier:`Sections (\`<div class="${this.sectionClass}">\`)`});this.$sections=s,this.initControls(),this.initSectionHeaders(),this.updateShowAllButton(this.areAllSectionsOpen())}initControls(){this.$showAllButton=document.createElement("button"),this.$showAllButton.setAttribute("type","button"),this.$showAllButton.setAttribute("class",this.showAllClass),this.$showAllButton.setAttribute("aria-expanded","false"),this.$showAllIcon=document.createElement("span"),this.$showAllIcon.classList.add(this.upChevronIconClass),this.$showAllButton.appendChild(this.$showAllIcon);const t=document.createElement("div");t.setAttribute("class",this.controlsClass),t.appendChild(this.$showAllButton),this.$root.insertBefore(t,this.$root.firstChild),this.$showAllText=document.createElement("span"),this.$showAllText.classList.add(this.showAllTextClass),this.$showAllButton.appendChild(this.$showAllText),this.$showAllButton.addEventListener("click",()=>this.onShowOrHideAllToggle()),"onbeforematch"in document&&document.addEventListener("beforematch",e=>this.onBeforeMatch(e))}initSectionHeaders(){this.$sections.forEach((t,e)=>{const s=t.querySelector(`.${this.sectionHeaderClass}`);if(!s)throw new u({component:g,identifier:`Section headers (\`<div class="${this.sectionHeaderClass}">\`)`});this.constructHeaderMarkup(s,e),this.setExpanded(this.isExpanded(t),t),s.addEventListener("click",()=>this.onSectionToggle(t)),this.setInitialState(t)})}constructHeaderMarkup(t,e){const s=t.querySelector(`.${this.sectionButtonClass}`),i=t.querySelector(`.${this.sectionHeadingClass}`),n=t.querySelector(`.${this.sectionSummaryClass}`);if(!i)throw new u({component:g,identifier:`Section heading (\`.${this.sectionHeadingClass}\`)`});if(!s)throw new u({component:g,identifier:`Section button placeholder (\`<span class="${this.sectionButtonClass}">\`)`});const r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("aria-controls",`${this.$root.id}-content-${e+1}`);for(const f of Array.from(s.attributes))f.name!=="id"&&r.setAttribute(f.name,f.value);const a=document.createElement("span");a.classList.add(this.sectionHeadingTextClass),a.id=s.id;const l=document.createElement("span");l.classList.add(this.sectionHeadingTextFocusClass),a.appendChild(l),Array.from(s.childNodes).forEach(f=>l.appendChild(f));const c=document.createElement("span");c.classList.add(this.sectionShowHideToggleClass),c.setAttribute("data-nosnippet","");const h=document.createElement("span");h.classList.add(this.sectionShowHideToggleFocusClass),c.appendChild(h);const v=document.createElement("span"),D=document.createElement("span");if(D.classList.add(this.upChevronIconClass),h.appendChild(D),v.classList.add(this.sectionShowHideTextClass),h.appendChild(v),r.appendChild(a),r.appendChild(this.getButtonPunctuationEl()),n){const f=document.createElement("span"),V=document.createElement("span");V.classList.add(this.sectionSummaryFocusClass),f.appendChild(V);for(const M of Array.from(n.attributes))f.setAttribute(M.name,M.value);Array.from(n.childNodes).forEach(M=>V.appendChild(M)),n.remove(),r.appendChild(f),r.appendChild(this.getButtonPunctuationEl())}r.appendChild(c),i.removeChild(s),i.appendChild(r)}onBeforeMatch(t){const e=t.target;if(!(e instanceof Element))return;const s=e.closest(`.${this.sectionClass}`);s&&this.setExpanded(!0,s)}onSectionToggle(t){const e=!this.isExpanded(t);this.setExpanded(e,t),this.storeState(t,e)}onShowOrHideAllToggle(){const t=!this.areAllSectionsOpen();this.$sections.forEach(e=>{this.setExpanded(t,e),this.storeState(e,t)}),this.updateShowAllButton(t)}setExpanded(t,e){const s=e.querySelector(`.${this.upChevronIconClass}`),i=e.querySelector(`.${this.sectionShowHideTextClass}`),n=e.querySelector(`.${this.sectionButtonClass}`),r=e.querySelector(`.${this.sectionContentClass}`);if(!r)throw new u({component:g,identifier:`Section content (\`<div class="${this.sectionContentClass}">\`)`});if(!s||!i||!n)return;const a=t?this.i18n.t("hideSection"):this.i18n.t("showSection");i.textContent=a,n.setAttribute("aria-expanded",`${t}`);const l=[],c=e.querySelector(`.${this.sectionHeadingTextClass}`);c&&l.push(c.textContent.trim());const h=e.querySelector(`.${this.sectionSummaryClass}`);h&&l.push(h.textContent.trim());const v=t?this.i18n.t("hideSectionAriaLabel"):this.i18n.t("showSectionAriaLabel");l.push(v),n.setAttribute("aria-label",l.join(" , ")),t?(r.removeAttribute("hidden"),e.classList.add(this.sectionExpandedClass),s.classList.remove(this.downChevronIconClass)):(r.setAttribute("hidden","until-found"),e.classList.remove(this.sectionExpandedClass),s.classList.add(this.downChevronIconClass)),this.updateShowAllButton(this.areAllSectionsOpen())}isExpanded(t){return t.classList.contains(this.sectionExpandedClass)}areAllSectionsOpen(){return Array.from(this.$sections).every(t=>this.isExpanded(t))}updateShowAllButton(t){!this.$showAllButton||!this.$showAllText||!this.$showAllIcon||(this.$showAllButton.setAttribute("aria-expanded",t.toString()),this.$showAllText.textContent=t?this.i18n.t("hideAllSections"):this.i18n.t("showAllSections"),this.$showAllIcon.classList.toggle(this.downChevronIconClass,!t))}getIdentifier(t){const e=t.querySelector(`.${this.sectionButtonClass}`);return e==null?void 0:e.getAttribute("aria-controls")}storeState(t,e){if(!this.config.rememberExpanded)return;const s=this.getIdentifier(t);if(s)try{window.sessionStorage.setItem(s,e.toString())}catch{}}setInitialState(t){if(!this.config.rememberExpanded)return;const e=this.getIdentifier(t);if(e)try{const s=window.sessionStorage.getItem(e);s!==null&&this.setExpanded(s==="true",t)}catch{}}getButtonPunctuationEl(){const t=document.createElement("span");return t.classList.add("govuk-visually-hidden",this.sectionHeadingDividerClass),t.textContent=", ",t}}g.moduleName="govuk-accordion";g.defaults=Object.freeze({i18n:{hideAllSections:"Hide all sections",hideSection:"Hide",hideSectionAriaLabel:"Hide this section",showAllSections:"Show all sections",showSection:"Show",showSectionAriaLabel:"Show this section"},rememberExpanded:!0});g.schema=Object.freeze({properties:{i18n:{type:"object"},rememberExpanded:{type:"boolean"}}});const pt=1;/**
 * JavaScript enhancements for the Button component
 *
 * @preserve
 * @augments ConfigurableComponent<ButtonConfig>
 */class j extends d{constructor(t,e={}){super(t,e),this.debounceFormSubmitTimer=null,this.$root.addEventListener("keydown",s=>this.handleKeyDown(s)),this.$root.addEventListener("click",s=>this.debounce(s))}handleKeyDown(t){const e=t.target;t.key===" "&&e instanceof HTMLElement&&e.getAttribute("role")==="button"&&(t.preventDefault(),e.click())}debounce(t){if(this.config.preventDoubleClick){if(this.debounceFormSubmitTimer)return t.preventDefault(),!1;this.debounceFormSubmitTimer=window.setTimeout(()=>{this.debounceFormSubmitTimer=null},pt*1e3)}}}j.moduleName="govuk-button";j.defaults=Object.freeze({preventDoubleClick:!1});j.schema=Object.freeze({properties:{preventDoubleClick:{type:"boolean"}}});function J(o,t){const e=o.closest(`[${t}]`);return e?e.getAttribute(t):null}/**
 * Character count component
 *
 * Tracks the number of characters or words in the `.govuk-js-character-count`
 * `<textarea>` inside the element. Displays a message with the remaining number
 * of characters/words available, or the number of characters/words in excess.
 *
 * You can configure the message to only appear after a certain percentage
 * of the available characters/words has been entered.
 *
 * @preserve
 * @augments ConfigurableComponent<CharacterCountConfig>
 */class b extends d{[z](t){let e={};return("maxwords"in t||"maxlength"in t)&&(e={maxlength:void 0,maxwords:void 0}),e}constructor(t,e={}){var s,i;super(t,e),this.$textarea=void 0,this.$visibleCountMessage=void 0,this.$screenReaderCountMessage=void 0,this.lastInputTimestamp=null,this.lastInputValue="",this.valueChecker=null,this.i18n=void 0,this.maxLength=void 0;const n=this.$root.querySelector(".govuk-js-character-count");if(!(n instanceof HTMLTextAreaElement||n instanceof HTMLInputElement))throw new u({component:b,element:n,expectedType:"HTMLTextareaElement or HTMLInputElement",identifier:"Form field (`.govuk-js-character-count`)"});const r=dt(b.schema,this.config);if(r[0])throw new G(C(b,r[0]));this.i18n=new S(this.config.i18n,{locale:J(this.$root,"lang")}),this.maxLength=(s=(i=this.config.maxwords)!=null?i:this.config.maxlength)!=null?s:1/0,this.$textarea=n;const a=`${this.$textarea.id}-info`,l=document.getElementById(a);if(!l)throw new u({component:b,element:l,identifier:`Count message (\`id="${a}"\`)`});this.$errorMessage=this.$root.querySelector(".govuk-error-message"),l.textContent.match(/^\s*$/)&&(l.textContent=this.i18n.t("textareaDescription",{count:this.maxLength})),this.$textarea.insertAdjacentElement("afterend",l);const c=document.createElement("div");c.className="govuk-character-count__sr-status govuk-visually-hidden",c.setAttribute("aria-live","polite"),this.$screenReaderCountMessage=c,l.insertAdjacentElement("afterend",c);const h=document.createElement("div");h.className=l.className,h.classList.add("govuk-character-count__status"),h.setAttribute("aria-hidden","true"),this.$visibleCountMessage=h,l.insertAdjacentElement("afterend",h),l.classList.add("govuk-visually-hidden"),this.$textarea.removeAttribute("maxlength"),this.bindChangeEvents(),window.addEventListener("pageshow",()=>this.updateCountMessage()),this.updateCountMessage()}bindChangeEvents(){this.$textarea.addEventListener("keyup",()=>this.handleKeyUp()),this.$textarea.addEventListener("focus",()=>this.handleFocus()),this.$textarea.addEventListener("blur",()=>this.handleBlur())}handleKeyUp(){this.updateVisibleCountMessage(),this.lastInputTimestamp=Date.now()}handleFocus(){this.valueChecker=window.setInterval(()=>{(!this.lastInputTimestamp||Date.now()-500>=this.lastInputTimestamp)&&this.updateIfValueChanged()},1e3)}handleBlur(){this.valueChecker&&window.clearInterval(this.valueChecker)}updateIfValueChanged(){this.$textarea.value!==this.lastInputValue&&(this.lastInputValue=this.$textarea.value,this.updateCountMessage())}updateCountMessage(){this.updateVisibleCountMessage(),this.updateScreenReaderCountMessage()}updateVisibleCountMessage(){const e=this.maxLength-this.count(this.$textarea.value)<0;this.$visibleCountMessage.classList.toggle("govuk-character-count__message--disabled",!this.isOverThreshold()),this.$errorMessage||this.$textarea.classList.toggle("govuk-textarea--error",e),this.$visibleCountMessage.classList.toggle("govuk-error-message",e),this.$visibleCountMessage.classList.toggle("govuk-hint",!e),this.$visibleCountMessage.textContent=this.getCountMessage()}updateScreenReaderCountMessage(){this.isOverThreshold()?this.$screenReaderCountMessage.removeAttribute("aria-hidden"):this.$screenReaderCountMessage.setAttribute("aria-hidden","true"),this.$screenReaderCountMessage.textContent=this.getCountMessage()}count(t){if(this.config.maxwords){var e;return((e=t.match(/\S+/g))!=null?e:[]).length}return t.length}getCountMessage(){const t=this.maxLength-this.count(this.$textarea.value),e=this.config.maxwords?"words":"characters";return this.formatCountMessage(t,e)}formatCountMessage(t,e){if(t===0)return this.i18n.t(`${e}AtLimit`);const s=t<0?"OverLimit":"UnderLimit";return this.i18n.t(`${e}${s}`,{count:Math.abs(t)})}isOverThreshold(){if(!this.config.threshold)return!0;const t=this.count(this.$textarea.value);return this.maxLength*this.config.threshold/100<=t}}b.moduleName="govuk-character-count";b.defaults=Object.freeze({threshold:0,i18n:{charactersUnderLimit:{one:"You have %{count} character remaining",other:"You have %{count} characters remaining"},charactersAtLimit:"You have 0 characters remaining",charactersOverLimit:{one:"You have %{count} character too many",other:"You have %{count} characters too many"},wordsUnderLimit:{one:"You have %{count} word remaining",other:"You have %{count} words remaining"},wordsAtLimit:"You have 0 words remaining",wordsOverLimit:{one:"You have %{count} word too many",other:"You have %{count} words too many"},textareaDescription:{other:""}}});b.schema=Object.freeze({properties:{i18n:{type:"object"},maxwords:{type:"number"},maxlength:{type:"number"},threshold:{type:"number"}},anyOf:[{required:["maxwords"],errorMessage:'Either "maxlength" or "maxwords" must be provided'},{required:["maxlength"],errorMessage:'Either "maxlength" or "maxwords" must be provided'}]});/**
 * Checkboxes component
 *
 * @preserve
 */class A extends p{constructor(t){super(t),this.$inputs=void 0;const e=this.$root.querySelectorAll('input[type="checkbox"]');if(!e.length)throw new u({component:A,identifier:'Form inputs (`<input type="checkbox">`)'});this.$inputs=e,this.$inputs.forEach(s=>{const i=s.getAttribute("data-aria-controls");if(i){if(!document.getElementById(i))throw new u({component:A,identifier:`Conditional reveal (\`id="${i}"\`)`});s.setAttribute("aria-controls",i),s.removeAttribute("data-aria-controls")}}),window.addEventListener("pageshow",()=>this.syncAllConditionalReveals()),this.syncAllConditionalReveals(),this.$root.addEventListener("click",s=>this.handleClick(s))}syncAllConditionalReveals(){this.$inputs.forEach(t=>this.syncConditionalRevealWithInputState(t))}syncConditionalRevealWithInputState(t){const e=t.getAttribute("aria-controls");if(!e)return;const s=document.getElementById(e);if(s!=null&&s.classList.contains("govuk-checkboxes__conditional")){const i=t.checked;t.setAttribute("aria-expanded",i.toString()),s.classList.toggle("govuk-checkboxes__conditional--hidden",!i)}}unCheckAllInputsExcept(t){document.querySelectorAll(`input[type="checkbox"][name="${t.name}"]`).forEach(s=>{t.form===s.form&&s!==t&&(s.checked=!1,this.syncConditionalRevealWithInputState(s))})}unCheckExclusiveInputs(t){document.querySelectorAll(`input[data-behaviour="exclusive"][type="checkbox"][name="${t.name}"]`).forEach(s=>{t.form===s.form&&(s.checked=!1,this.syncConditionalRevealWithInputState(s))})}handleClick(t){const e=t.target;if(!(e instanceof HTMLInputElement)||e.type!=="checkbox"||(e.getAttribute("aria-controls")&&this.syncConditionalRevealWithInputState(e),!e.checked))return;e.getAttribute("data-behaviour")==="exclusive"?this.unCheckAllInputsExcept(e):this.unCheckExclusiveInputs(e)}}A.moduleName="govuk-checkboxes";/**
 * Error summary component
 *
 * Takes focus on initialisation for accessible announcement, unless disabled in
 * configuration.
 *
 * @preserve
 * @augments ConfigurableComponent<ErrorSummaryConfig>
 */class I extends d{constructor(t,e={}){super(t,e),this.config.disableAutoFocus||Y(this.$root),this.$root.addEventListener("click",s=>this.handleClick(s))}handleClick(t){const e=t.target;e&&this.focusTarget(e)&&t.preventDefault()}focusTarget(t){if(!(t instanceof HTMLAnchorElement))return!1;const e=t.hash.replace("#","");if(!e)return!1;const s=document.getElementById(e);if(!s)return!1;const i=this.getAssociatedLegendOrLabel(s);return i?(i.scrollIntoView(),s.focus({preventScroll:!0}),!0):!1}getAssociatedLegendOrLabel(t){var e;const s=t.closest("fieldset");if(s){const i=s.getElementsByTagName("legend");if(i.length){const n=i[0];if(t instanceof HTMLInputElement&&(t.type==="checkbox"||t.type==="radio"))return n;const r=n.getBoundingClientRect().top,a=t.getBoundingClientRect();if(a.height&&window.innerHeight&&a.top+a.height-r<window.innerHeight/2)return n}}return(e=document.querySelector(`label[for='${t.getAttribute("id")}']`))!=null?e:t.closest("label")}}I.moduleName="govuk-error-summary";I.defaults=Object.freeze({disableAutoFocus:!1});I.schema=Object.freeze({properties:{disableAutoFocus:{type:"boolean"}}});/**
 * Exit this page component
 *
 * @preserve
 * @augments ConfigurableComponent<ExitThisPageConfig>
 */class L extends d{constructor(t,e={}){super(t,e),this.i18n=void 0,this.$button=void 0,this.$skiplinkButton=null,this.$updateSpan=null,this.$indicatorContainer=null,this.$overlay=null,this.keypressCounter=0,this.lastKeyWasModified=!1,this.timeoutTime=5e3,this.keypressTimeoutId=null,this.timeoutMessageId=null;const s=this.$root.querySelector(".govuk-exit-this-page__button");if(!(s instanceof HTMLAnchorElement))throw new u({component:L,element:s,expectedType:"HTMLAnchorElement",identifier:"Button (`.govuk-exit-this-page__button`)"});this.i18n=new S(this.config.i18n),this.$button=s;const i=document.querySelector(".govuk-js-exit-this-page-skiplink");i instanceof HTMLAnchorElement&&(this.$skiplinkButton=i),this.buildIndicator(),this.initUpdateSpan(),this.initButtonClickHandler(),"govukFrontendExitThisPageKeypress"in document.body.dataset||(document.addEventListener("keyup",this.handleKeypress.bind(this),!0),document.body.dataset.govukFrontendExitThisPageKeypress="true"),window.addEventListener("pageshow",this.resetPage.bind(this))}initUpdateSpan(){this.$updateSpan=document.createElement("span"),this.$updateSpan.setAttribute("role","status"),this.$updateSpan.className="govuk-visually-hidden",this.$root.appendChild(this.$updateSpan)}initButtonClickHandler(){this.$button.addEventListener("click",this.handleClick.bind(this)),this.$skiplinkButton&&this.$skiplinkButton.addEventListener("click",this.handleClick.bind(this))}buildIndicator(){this.$indicatorContainer=document.createElement("div"),this.$indicatorContainer.className="govuk-exit-this-page__indicator",this.$indicatorContainer.setAttribute("aria-hidden","true");for(let t=0;t<3;t++){const e=document.createElement("div");e.className="govuk-exit-this-page__indicator-light",this.$indicatorContainer.appendChild(e)}this.$button.appendChild(this.$indicatorContainer)}updateIndicator(){if(!this.$indicatorContainer)return;this.$indicatorContainer.classList.toggle("govuk-exit-this-page__indicator--visible",this.keypressCounter>0),this.$indicatorContainer.querySelectorAll(".govuk-exit-this-page__indicator-light").forEach((e,s)=>{e.classList.toggle("govuk-exit-this-page__indicator-light--on",s<this.keypressCounter)})}exitPage(){this.$updateSpan&&(this.$updateSpan.textContent="",document.body.classList.add("govuk-exit-this-page-hide-content"),this.$overlay=document.createElement("div"),this.$overlay.className="govuk-exit-this-page-overlay",this.$overlay.setAttribute("role","alert"),document.body.appendChild(this.$overlay),this.$overlay.textContent=this.i18n.t("activated"),window.location.href=this.$button.href)}handleClick(t){t.preventDefault(),this.exitPage()}handleKeypress(t){this.$updateSpan&&(t.key==="Shift"&&!this.lastKeyWasModified?(this.keypressCounter+=1,this.updateIndicator(),this.timeoutMessageId&&(window.clearTimeout(this.timeoutMessageId),this.timeoutMessageId=null),this.keypressCounter>=3?(this.keypressCounter=0,this.keypressTimeoutId&&(window.clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=null),this.exitPage()):this.keypressCounter===1?this.$updateSpan.textContent=this.i18n.t("pressTwoMoreTimes"):this.$updateSpan.textContent=this.i18n.t("pressOneMoreTime"),this.setKeypressTimer()):this.keypressTimeoutId&&this.resetKeypressTimer(),this.lastKeyWasModified=t.shiftKey)}setKeypressTimer(){this.keypressTimeoutId&&window.clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=window.setTimeout(this.resetKeypressTimer.bind(this),this.timeoutTime)}resetKeypressTimer(){if(!this.$updateSpan)return;this.keypressTimeoutId&&(window.clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=null);const t=this.$updateSpan;this.keypressCounter=0,t.textContent=this.i18n.t("timedOut"),this.timeoutMessageId=window.setTimeout(()=>{t.textContent=""},this.timeoutTime),this.updateIndicator()}resetPage(){document.body.classList.remove("govuk-exit-this-page-hide-content"),this.$overlay&&(this.$overlay.remove(),this.$overlay=null),this.$updateSpan&&(this.$updateSpan.setAttribute("role","status"),this.$updateSpan.textContent=""),this.updateIndicator(),this.keypressTimeoutId&&window.clearTimeout(this.keypressTimeoutId),this.timeoutMessageId&&window.clearTimeout(this.timeoutMessageId)}}L.moduleName="govuk-exit-this-page";L.defaults=Object.freeze({i18n:{activated:"Loading.",timedOut:"Exit this page expired.",pressTwoMoreTimes:"Shift, press 2 more times to exit.",pressOneMoreTime:"Shift, press 1 more time to exit."}});L.schema=Object.freeze({properties:{i18n:{type:"object"}}});/**
 * File upload component
 *
 * @preserve
 * @augments ConfigurableComponent<FileUploadConfig>
 */class $ extends d{constructor(t,e={}){super(t,e),this.$input=void 0,this.$button=void 0,this.$status=void 0,this.i18n=void 0,this.id=void 0,this.$announcements=void 0,this.enteredAnotherElement=void 0;const s=this.$root.querySelector("input");if(s===null)throw new u({component:$,identifier:'File inputs (`<input type="file">`)'});if(s.type!=="file")throw new u(C($,'File input (`<input type="file">`) attribute (`type`) is not `file`'));if(this.$input=s,!this.$input.id)throw new u({component:$,identifier:'File input (`<input type="file">`) attribute (`id`)'});this.id=this.$input.id,this.i18n=new S(this.config.i18n,{locale:J(this.$root,"lang")});const i=this.findLabel();i.id||(i.id=`${this.id}-label`),this.$input.id=`${this.id}-input`,this.$input.setAttribute("hidden","true");const n=document.createElement("button");n.classList.add("govuk-file-upload-button"),n.type="button",n.id=this.id,n.classList.add("govuk-file-upload-button--empty");const r=this.$input.getAttribute("aria-describedby");r&&n.setAttribute("aria-describedby",r);const a=document.createElement("span");a.className="govuk-body govuk-file-upload-button__status",a.setAttribute("aria-live","polite"),a.innerText=this.i18n.t("noFileChosen"),n.appendChild(a);const l=document.createElement("span");l.className="govuk-visually-hidden",l.innerText=", ",l.id=`${this.id}-comma`,n.appendChild(l);const c=document.createElement("span");c.className="govuk-file-upload-button__pseudo-button-container";const h=document.createElement("span");h.className="govuk-button govuk-button--secondary govuk-file-upload-button__pseudo-button",h.innerText=this.i18n.t("chooseFilesButton"),c.appendChild(h),c.insertAdjacentText("beforeend"," ");const v=document.createElement("span");v.className="govuk-body govuk-file-upload-button__instruction",v.innerText=this.i18n.t("dropInstruction"),c.appendChild(v),n.appendChild(c),n.setAttribute("aria-labelledby",`${i.id} ${l.id} ${n.id}`),n.addEventListener("click",this.onClick.bind(this)),n.addEventListener("dragover",D=>{D.preventDefault()}),this.$root.insertAdjacentElement("afterbegin",n),this.$input.setAttribute("tabindex","-1"),this.$input.setAttribute("aria-hidden","true"),this.$button=n,this.$status=a,this.$input.addEventListener("change",this.onChange.bind(this)),this.updateDisabledState(),this.observeDisabledState(),this.$announcements=document.createElement("span"),this.$announcements.classList.add("govuk-file-upload-announcements"),this.$announcements.classList.add("govuk-visually-hidden"),this.$announcements.setAttribute("aria-live","assertive"),this.$root.insertAdjacentElement("afterend",this.$announcements),this.$button.addEventListener("drop",this.onDrop.bind(this)),document.addEventListener("dragenter",this.updateDropzoneVisibility.bind(this)),document.addEventListener("dragenter",()=>{this.enteredAnotherElement=!0}),document.addEventListener("dragleave",()=>{!this.enteredAnotherElement&&!this.$button.disabled&&(this.hideDraggingState(),this.$announcements.innerText=this.i18n.t("leftDropZone")),this.enteredAnotherElement=!1})}updateDropzoneVisibility(t){this.$button.disabled||t.target instanceof Node&&(this.$root.contains(t.target)?t.dataTransfer&&tt(t.dataTransfer)&&(this.$button.classList.contains("govuk-file-upload-button--dragging")||(this.showDraggingState(),this.$announcements.innerText=this.i18n.t("enteredDropZone"))):this.$button.classList.contains("govuk-file-upload-button--dragging")&&(this.hideDraggingState(),this.$announcements.innerText=this.i18n.t("leftDropZone")))}showDraggingState(){this.$button.classList.add("govuk-file-upload-button--dragging")}hideDraggingState(){this.$button.classList.remove("govuk-file-upload-button--dragging")}onDrop(t){t.preventDefault(),t.dataTransfer&&tt(t.dataTransfer)&&(this.$input.files=t.dataTransfer.files,this.$input.dispatchEvent(new CustomEvent("change")),this.hideDraggingState())}onChange(){const t=this.$input.files.length;t===0?(this.$status.innerText=this.i18n.t("noFileChosen"),this.$button.classList.add("govuk-file-upload-button--empty")):(t===1?this.$status.innerText=this.$input.files[0].name:this.$status.innerText=this.i18n.t("multipleFilesChosen",{count:t}),this.$button.classList.remove("govuk-file-upload-button--empty"))}findLabel(){const t=document.querySelector(`label[for="${this.$input.id}"]`);if(!t)throw new u({component:$,identifier:`Field label (\`<label for=${this.$input.id}>\`)`});return t}onClick(){this.$input.click()}observeDisabledState(){new MutationObserver(e=>{for(const s of e)s.type==="attributes"&&s.attributeName==="disabled"&&this.updateDisabledState()}).observe(this.$input,{attributes:!0})}updateDisabledState(){this.$button.disabled=this.$input.disabled,this.$root.classList.toggle("govuk-drop-zone--disabled",this.$button.disabled)}}$.moduleName="govuk-file-upload";$.defaults=Object.freeze({i18n:{chooseFilesButton:"Choose file",dropInstruction:"or drop file",noFileChosen:"No file chosen",multipleFilesChosen:{one:"%{count} file chosen",other:"%{count} files chosen"},enteredDropZone:"Entered drop zone",leftDropZone:"Left drop zone"}});$.schema=Object.freeze({properties:{i18n:{type:"object"}}});function tt(o){const t=o.types.length===0,e=o.types.some(s=>s==="Files");return t||e}/**
 * Header component
 *
 * @preserve
 */class w extends p{constructor(t){super(t),this.$menuButton=void 0,this.$menu=void 0,this.menuIsOpen=!1,this.mql=null;const e=this.$root.querySelector(".govuk-js-header-toggle");if(!e)return this;this.$root.classList.add("govuk-header--with-js-navigation");const s=e.getAttribute("aria-controls");if(!s)throw new u({component:w,identifier:'Navigation button (`<button class="govuk-js-header-toggle">`) attribute (`aria-controls`)'});const i=document.getElementById(s);if(!i)throw new u({component:w,element:i,identifier:`Navigation (\`<ul id="${s}">\`)`});this.$menu=i,this.$menuButton=e,this.setupResponsiveChecks(),this.$menuButton.addEventListener("click",()=>this.handleMenuButtonClick())}setupResponsiveChecks(){const t=W("desktop");if(!t.value)throw new u({component:w,identifier:`CSS custom property (\`${t.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${t.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",()=>this.checkMode()):this.mql.addListener(()=>this.checkMode()),this.checkMode()}checkMode(){!this.mql||!this.$menu||!this.$menuButton||(this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen.toString()),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden","")))}handleMenuButtonClick(){this.menuIsOpen=!this.menuIsOpen,this.checkMode()}}w.moduleName="govuk-header";/**
 * Notification Banner component
 *
 * @preserve
 * @augments ConfigurableComponent<NotificationBannerConfig>
 */class H extends d{constructor(t,e={}){super(t,e),this.$root.getAttribute("role")==="alert"&&!this.config.disableAutoFocus&&Y(this.$root)}}H.moduleName="govuk-notification-banner";H.defaults=Object.freeze({disableAutoFocus:!1});H.schema=Object.freeze({properties:{disableAutoFocus:{type:"boolean"}}});/**
 * Password input component
 *
 * @preserve
 * @augments ConfigurableComponent<PasswordInputConfig>
 */class k extends d{constructor(t,e={}){super(t,e),this.i18n=void 0,this.$input=void 0,this.$showHideButton=void 0,this.$screenReaderStatusMessage=void 0;const s=this.$root.querySelector(".govuk-js-password-input-input");if(!(s instanceof HTMLInputElement))throw new u({component:k,element:s,expectedType:"HTMLInputElement",identifier:"Form field (`.govuk-js-password-input-input`)"});if(s.type!=="password")throw new u("Password input: Form field (`.govuk-js-password-input-input`) must be of type `password`.");const i=this.$root.querySelector(".govuk-js-password-input-toggle");if(!(i instanceof HTMLButtonElement))throw new u({component:k,element:i,expectedType:"HTMLButtonElement",identifier:"Button (`.govuk-js-password-input-toggle`)"});if(i.type!=="button")throw new u("Password input: Button (`.govuk-js-password-input-toggle`) must be of type `button`.");this.$input=s,this.$showHideButton=i,this.i18n=new S(this.config.i18n,{locale:J(this.$root,"lang")}),this.$showHideButton.removeAttribute("hidden");const n=document.createElement("div");n.className="govuk-password-input__sr-status govuk-visually-hidden",n.setAttribute("aria-live","polite"),this.$screenReaderStatusMessage=n,this.$input.insertAdjacentElement("afterend",n),this.$showHideButton.addEventListener("click",this.toggle.bind(this)),this.$input.form&&this.$input.form.addEventListener("submit",()=>this.hide()),window.addEventListener("pageshow",r=>{r.persisted&&this.$input.type!=="password"&&this.hide()}),this.hide()}toggle(t){if(t.preventDefault(),this.$input.type==="password"){this.show();return}this.hide()}show(){this.setType("text")}hide(){this.setType("password")}setType(t){if(t===this.$input.type)return;this.$input.setAttribute("type",t);const e=t==="password",s=e?"show":"hide",i=e?"passwordHidden":"passwordShown";this.$showHideButton.innerText=this.i18n.t(`${s}Password`),this.$showHideButton.setAttribute("aria-label",this.i18n.t(`${s}PasswordAriaLabel`)),this.$screenReaderStatusMessage.innerText=this.i18n.t(`${i}Announcement`)}}k.moduleName="govuk-password-input";k.defaults=Object.freeze({i18n:{showPassword:"Show",hidePassword:"Hide",showPasswordAriaLabel:"Show password",hidePasswordAriaLabel:"Hide password",passwordShownAnnouncement:"Your password is visible",passwordHiddenAnnouncement:"Your password is hidden"}});k.schema=Object.freeze({properties:{i18n:{type:"object"}}});/**
 * Radios component
 *
 * @preserve
 */class T extends p{constructor(t){super(t),this.$inputs=void 0;const e=this.$root.querySelectorAll('input[type="radio"]');if(!e.length)throw new u({component:T,identifier:'Form inputs (`<input type="radio">`)'});this.$inputs=e,this.$inputs.forEach(s=>{const i=s.getAttribute("data-aria-controls");if(i){if(!document.getElementById(i))throw new u({component:T,identifier:`Conditional reveal (\`id="${i}"\`)`});s.setAttribute("aria-controls",i),s.removeAttribute("data-aria-controls")}}),window.addEventListener("pageshow",()=>this.syncAllConditionalReveals()),this.syncAllConditionalReveals(),this.$root.addEventListener("click",s=>this.handleClick(s))}syncAllConditionalReveals(){this.$inputs.forEach(t=>this.syncConditionalRevealWithInputState(t))}syncConditionalRevealWithInputState(t){const e=t.getAttribute("aria-controls");if(!e)return;const s=document.getElementById(e);if(s!=null&&s.classList.contains("govuk-radios__conditional")){const i=t.checked;t.setAttribute("aria-expanded",i.toString()),s.classList.toggle("govuk-radios__conditional--hidden",!i)}}handleClick(t){const e=t.target;if(!(e instanceof HTMLInputElement)||e.type!=="radio")return;const s=document.querySelectorAll('input[type="radio"][aria-controls]'),i=e.form,n=e.name;s.forEach(r=>{const a=r.form===i;r.name===n&&a&&this.syncConditionalRevealWithInputState(r)})}}T.moduleName="govuk-radios";/**
 * Service Navigation component
 *
 * @preserve
 */class x extends p{constructor(t){super(t),this.$menuButton=void 0,this.$menu=void 0,this.menuIsOpen=!1,this.mql=null;const e=this.$root.querySelector(".govuk-js-service-navigation-toggle");if(!e)return this;const s=e.getAttribute("aria-controls");if(!s)throw new u({component:x,identifier:'Navigation button (`<button class="govuk-js-service-navigation-toggle">`) attribute (`aria-controls`)'});const i=document.getElementById(s);if(!i)throw new u({component:x,element:i,identifier:`Navigation (\`<ul id="${s}">\`)`});this.$menu=i,this.$menuButton=e,this.setupResponsiveChecks(),this.$menuButton.addEventListener("click",()=>this.handleMenuButtonClick())}setupResponsiveChecks(){const t=W("tablet");if(!t.value)throw new u({component:x,identifier:`CSS custom property (\`${t.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${t.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",()=>this.checkMode()):this.mql.addListener(()=>this.checkMode()),this.checkMode()}checkMode(){!this.mql||!this.$menu||!this.$menuButton||(this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen.toString()),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden","")))}handleMenuButtonClick(){this.menuIsOpen=!this.menuIsOpen,this.checkMode()}}x.moduleName="govuk-service-navigation";/**
 * Skip link component
 *
 * @preserve
 * @augments Component<HTMLAnchorElement>
 */class B extends p{constructor(t){var e;super(t);const s=this.$root.hash,i=(e=this.$root.getAttribute("href"))!=null?e:"";if(this.$root.origin!==window.location.origin||this.$root.pathname!==window.location.pathname)return;const n=s.replace("#","");if(!n)throw new u(`Skip link: Target link (\`href="${i}"\`) has no hash fragment`);const r=document.getElementById(n);if(!r)throw new u({component:B,element:r,identifier:`Target content (\`id="${n}"\`)`});this.$root.addEventListener("click",()=>Y(r,{onBeforeFocus(){r.classList.add("govuk-skip-link-focused-element")},onBlur(){r.classList.remove("govuk-skip-link-focused-element")}}))}}B.elementType=HTMLAnchorElement;B.moduleName="govuk-skip-link";/**
 * Tabs component
 *
 * @preserve
 */class y extends p{constructor(t){super(t),this.$tabs=void 0,this.$tabList=void 0,this.$tabListItems=void 0,this.jsHiddenClass="govuk-tabs__panel--hidden",this.changingHash=!1,this.boundTabClick=void 0,this.boundTabKeydown=void 0,this.boundOnHashChange=void 0,this.mql=null;const e=this.$root.querySelectorAll("a.govuk-tabs__tab");if(!e.length)throw new u({component:y,identifier:'Links (`<a class="govuk-tabs__tab">`)'});this.$tabs=e,this.boundTabClick=this.onTabClick.bind(this),this.boundTabKeydown=this.onTabKeydown.bind(this),this.boundOnHashChange=this.onHashChange.bind(this);const s=this.$root.querySelector(".govuk-tabs__list"),i=this.$root.querySelectorAll("li.govuk-tabs__list-item");if(!s)throw new u({component:y,identifier:'List (`<ul class="govuk-tabs__list">`)'});if(!i.length)throw new u({component:y,identifier:'List items (`<li class="govuk-tabs__list-item">`)'});this.$tabList=s,this.$tabListItems=i,this.setupResponsiveChecks()}setupResponsiveChecks(){const t=W("tablet");if(!t.value)throw new u({component:y,identifier:`CSS custom property (\`${t.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${t.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",()=>this.checkMode()):this.mql.addListener(()=>this.checkMode()),this.checkMode()}checkMode(){var t;(t=this.mql)!=null&&t.matches?this.setup():this.teardown()}setup(){var t;this.$tabList.setAttribute("role","tablist"),this.$tabListItems.forEach(s=>{s.setAttribute("role","presentation")}),this.$tabs.forEach(s=>{this.setAttributes(s),s.addEventListener("click",this.boundTabClick,!0),s.addEventListener("keydown",this.boundTabKeydown,!0),this.hideTab(s)});const e=(t=this.getTab(window.location.hash))!=null?t:this.$tabs[0];this.showTab(e),window.addEventListener("hashchange",this.boundOnHashChange,!0)}teardown(){this.$tabList.removeAttribute("role"),this.$tabListItems.forEach(t=>{t.removeAttribute("role")}),this.$tabs.forEach(t=>{t.removeEventListener("click",this.boundTabClick,!0),t.removeEventListener("keydown",this.boundTabKeydown,!0),this.unsetAttributes(t)}),window.removeEventListener("hashchange",this.boundOnHashChange,!0)}onHashChange(){const t=window.location.hash,e=this.getTab(t);if(!e)return;if(this.changingHash){this.changingHash=!1;return}const s=this.getCurrentTab();s&&(this.hideTab(s),this.showTab(e),e.focus())}hideTab(t){this.unhighlightTab(t),this.hidePanel(t)}showTab(t){this.highlightTab(t),this.showPanel(t)}getTab(t){return this.$root.querySelector(`a.govuk-tabs__tab[href="${t}"]`)}setAttributes(t){const e=t.hash.replace("#","");if(!e)return;t.setAttribute("id",`tab_${e}`),t.setAttribute("role","tab"),t.setAttribute("aria-controls",e),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");const s=this.getPanel(t);s&&(s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledby",t.id),s.classList.add(this.jsHiddenClass))}unsetAttributes(t){t.removeAttribute("id"),t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex");const e=this.getPanel(t);e&&(e.removeAttribute("role"),e.removeAttribute("aria-labelledby"),e.classList.remove(this.jsHiddenClass))}onTabClick(t){const e=this.getCurrentTab(),s=t.currentTarget;!e||!(s instanceof HTMLAnchorElement)||(t.preventDefault(),this.hideTab(e),this.showTab(s),this.createHistoryEntry(s))}createHistoryEntry(t){const e=this.getPanel(t);if(!e)return;const s=e.id;e.id="",this.changingHash=!0,window.location.hash=s,e.id=s}onTabKeydown(t){switch(t.key){case"ArrowLeft":case"Left":this.activatePreviousTab(),t.preventDefault();break;case"ArrowRight":case"Right":this.activateNextTab(),t.preventDefault();break}}activateNextTab(){const t=this.getCurrentTab();if(!(t!=null&&t.parentElement))return;const e=t.parentElement.nextElementSibling;if(!e)return;const s=e.querySelector("a.govuk-tabs__tab");s&&(this.hideTab(t),this.showTab(s),s.focus(),this.createHistoryEntry(s))}activatePreviousTab(){const t=this.getCurrentTab();if(!(t!=null&&t.parentElement))return;const e=t.parentElement.previousElementSibling;if(!e)return;const s=e.querySelector("a.govuk-tabs__tab");s&&(this.hideTab(t),this.showTab(s),s.focus(),this.createHistoryEntry(s))}getPanel(t){const e=t.hash.replace("#","");return e?this.$root.querySelector(`#${e}`):null}showPanel(t){const e=this.getPanel(t);e&&e.classList.remove(this.jsHiddenClass)}hidePanel(t){const e=this.getPanel(t);e&&e.classList.add(this.jsHiddenClass)}unhighlightTab(t){t.parentElement&&(t.setAttribute("aria-selected","false"),t.parentElement.classList.remove("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","-1"))}highlightTab(t){t.parentElement&&(t.setAttribute("aria-selected","true"),t.parentElement.classList.add("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","0"))}getCurrentTab(){return this.$root.querySelector(".govuk-tabs__list-item--selected a.govuk-tabs__tab")}}y.moduleName="govuk-tabs";function gt(o={}){const t=m(o)?o:{},e=it(o);try{if(!Z())throw new U;if(e.scope===null)throw new u({element:e.scope,identifier:"GOV.UK Frontend scope element (`$scope`)"})}catch(i){e.onError?e.onError(i,{config:t}):console.log(i);return}[[g,t.accordion],[j,t.button],[b,t.characterCount],[A],[I,t.errorSummary],[L,t.exitThisPage],[$,t.fileUpload],[w],[H,t.notificationBanner],[k,t.passwordInput],[T],[x],[B],[y]].forEach(([i,n])=>{ot(i,n,e)})}function ot(o,t,e){let s;const i=it(e);try{var n;if(!Z())throw new U;if(i.scope===null)throw new u({element:i.scope,component:o,identifier:"Scope element (`$scope`)"});s=(n=i.scope)==null?void 0:n.querySelectorAll(`[data-module="${o.moduleName}"]`)}catch(r){return i.onError?i.onError(r,{component:o,config:t}):console.log(r),[]}return Array.from(s??[]).map(r=>{try{return typeof t<"u"?new o(r,t):new o(r)}catch(a){return i.onError?i.onError(a,{element:r,component:o,config:t}):console.log(a),null}}).filter(Boolean)}class rt extends p{constructor(t){super(t),this.$root.addEventListener("click",this.onRemoveButtonClick.bind(this)),this.$root.addEventListener("click",this.onAddButtonClick.bind(this)),this.$root.querySelectorAll(".moj-add-another__add-button, moj-add-another__remove-button").forEach(s=>{s instanceof HTMLButtonElement&&(s.type="button")})}onAddButtonClick(t){const e=t.target;if(!e||!(e instanceof HTMLButtonElement)||!e.classList.contains("moj-add-another__add-button"))return;const s=this.getItems(),i=this.getNewItem();if(!i||!(i instanceof HTMLElement))return;this.updateAttributes(i,s.length),this.resetItem(i);const n=s[0];this.hasRemoveButton(n)||this.createRemoveButton(n),s[s.length-1].after(i);const r=i.querySelector("input, textarea, select");r&&r instanceof HTMLInputElement&&r.focus()}hasRemoveButton(t){return t.querySelectorAll(".moj-add-another__remove-button").length}getItems(){return this.$root?Array.from(this.$root.querySelectorAll(".moj-add-another__item")).filter(e=>e instanceof HTMLElement):[]}getNewItem(){const e=this.getItems()[0].cloneNode(!0);if(!(!e||!(e instanceof HTMLElement)))return this.hasRemoveButton(e)||this.createRemoveButton(e),e}updateAttributes(t,e){t.querySelectorAll("[data-name]").forEach(s=>{if(!this.isValidInputElement(s))return;const i=s.getAttribute("data-name")||"",n=s.getAttribute("data-id")||"",r=s.id;s.name=i.replace(/%index%/,`${e}`),s.id=n.replace(/%index%/,`${e}`);const a=s.parentElement.querySelector("label")||s.closest("label")||t.querySelector(`[for="${r}"]`);a&&a instanceof HTMLLabelElement&&(a.htmlFor=s.id)})}createRemoveButton(t){const e=document.createElement("button");e.type="button",e.classList.add("govuk-button","govuk-button--secondary","moj-add-another__remove-button"),e.textContent="Remove",t.append(e)}resetItem(t){t.querySelectorAll("[data-name], [data-id]").forEach(e=>{if(this.isValidInputElement(e))if(e instanceof HTMLSelectElement)e.selectedIndex=-1,e.value="";else if(e instanceof HTMLTextAreaElement)e.value="";else switch(e.type){case"checkbox":case"radio":e.checked=!1;break;default:e.value=""}})}onRemoveButtonClick(t){const e=t.target;if(!e||!(e instanceof HTMLButtonElement)||!e.classList.contains("moj-add-another__remove-button"))return;e.closest(".moj-add-another__item").remove();const s=this.getItems();s.length===1&&s[0].querySelector(".moj-add-another__remove-button").remove(),s.forEach((i,n)=>{this.updateAttributes(i,n)}),this.focusHeading()}focusHeading(){const t=this.$root.querySelector(".moj-add-another__heading");t&&t instanceof HTMLElement&&t.focus()}isValidInputElement(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement}}rt.moduleName="moj-add-another";function et(o,t={}){var e;const s=o.getAttribute("tabindex");s||o.setAttribute("tabindex","-1");function i(){o.addEventListener("blur",n,{once:!0})}function n(){var r;(r=t.onBlur)==null||r.call(o),s||o.removeAttribute("tabindex")}o.addEventListener("focus",i,{once:!0}),(e=t.onBeforeFocus)==null||e.call(o),o.focus()}function ft(o,t){if(!o||!(o instanceof HTMLElement))return;let e=o.previousElementSibling;for(;e;){if(e.matches(t))return e;e=e.previousElementSibling}}function bt(o,t){if(!o||!(o instanceof HTMLElement)||!t)return;let e=o;for(;e;){if(e.matches(t))return e;let s=e.previousElementSibling;for(;s;){if(s.matches(t))return s;s=s.previousElementSibling}e=e.parentElement}}class q extends d{constructor(t,e={}){super(t,e),this.$root.getAttribute("role")==="alert"&&!this.config.disableAutoFocus&&et(this.$root),this.$dismissButton=this.$root.querySelector(".moj-alert__dismiss"),this.config.dismissible&&this.$dismissButton&&(this.$dismissButton.innerHTML=this.config.dismissText,this.$dismissButton.removeAttribute("hidden"),this.$root.addEventListener("click",s=>{s.target instanceof Node&&this.$dismissButton.contains(s.target)&&this.dimiss()}))}dimiss(){let t;if(this.config.focusOnDismissSelector&&(t=document.querySelector(this.config.focusOnDismissSelector)),!t){const e=this.$root.nextElementSibling;e&&e.matches(".moj-alert")&&(t=e)}t||(t=ft(this.$root,".moj-alert, h1, h2, h3, h4, h5, h6")),t||(t=bt(this.$root,"h1, h2, h3, h4, h5, h6, main, body")),t instanceof HTMLElement&&et(t),this.$root.remove()}}q.moduleName="moj-alert";q.defaults=Object.freeze({dismissible:!1,dismissText:"Dismiss",disableAutoFocus:!1});q.schema=Object.freeze({properties:{dismissible:{type:"boolean"},dismissText:{type:"string"},disableAutoFocus:{type:"boolean"},focusOnDismissSelector:{type:"string"}}});class F extends d{constructor(t,e={}){if(super(t,e),this.$root.children.length===1){const s=this.$root.children[0];s.classList.forEach(i=>{i.startsWith("govuk-button-")&&s.classList.remove(i),s.classList.remove("moj-button-menu__item"),s.classList.add("moj-button-menu__single-button")}),this.config.buttonClasses&&s.classList.add(...this.config.buttonClasses.split(" "))}this.$root.children.length>1&&this.initMenu()}initMenu(){this.$menu=this.createMenu(),this.$root.insertAdjacentHTML("afterbegin",this.toggleTemplate()),this.setupMenuItems(),this.$menuToggle=this.$root.querySelector(":scope > button"),this.$items=this.$menu.querySelectorAll("a, button"),this.$menuToggle.addEventListener("click",t=>{this.toggleMenu(t)}),this.$root.addEventListener("keydown",t=>{this.handleKeyDown(t)}),document.addEventListener("click",t=>{t.target instanceof Node&&!this.$root.contains(t.target)&&this.closeMenu(!1)})}createMenu(){const t=document.createElement("ul");for(t.setAttribute("role","list"),t.hidden=!0,t.classList.add("moj-button-menu__wrapper"),this.config.alignMenu==="right"&&t.classList.add("moj-button-menu__wrapper--right"),this.$root.appendChild(t);this.$root.firstChild!==t;)t.appendChild(this.$root.firstChild);return t}setupMenuItems(){Array.from(this.$menu.children).forEach(t=>{const e=document.createElement("li");this.$menu.insertBefore(e,t),e.appendChild(t),t.setAttribute("tabindex","-1"),t.tagName==="BUTTON"&&t.setAttribute("type","button"),t.classList.forEach(s=>{s.startsWith("govuk-button")&&t.classList.remove(s)}),t.addEventListener("click",()=>{setTimeout(()=>{this.closeMenu(!1)},50)})})}toggleTemplate(){return`
    <button type="button" class="govuk-button moj-button-menu__toggle-button ${this.config.buttonClasses||""}" aria-haspopup="true" aria-expanded="false">
      <span>
       ${this.config.buttonText}
       <svg width="11" height="5" viewBox="0 0 11 5"  xmlns="http://www.w3.org/2000/svg">
         <path d="M5.5 0L11 5L0 5L5.5 0Z" fill="currentColor"/>
       </svg>
      </span>
    </button>`}isOpen(){return this.$menuToggle.getAttribute("aria-expanded")==="true"}toggleMenu(t){t.preventDefault();const s=t.detail===0?0:-1;this.isOpen()?this.closeMenu():this.openMenu(s)}openMenu(t=0){this.$menu.hidden=!1,this.$menuToggle.setAttribute("aria-expanded","true"),t!==-1&&this.focusItem(t)}closeMenu(t=!0){this.$menu.hidden=!0,this.$menuToggle.setAttribute("aria-expanded","false"),t&&this.$menuToggle.focus()}focusItem(t){t>=this.$items.length&&(t=0),t<0&&(t=this.$items.length-1);const e=this.$items.item(t);e&&e.focus()}currentFocusIndex(){const t=document.activeElement,e=Array.from(this.$items);return(t instanceof HTMLAnchorElement||t instanceof HTMLButtonElement)&&e.indexOf(t)}handleKeyDown(t){if(t.target===this.$menuToggle)switch(t.key){case"ArrowDown":t.preventDefault(),this.openMenu();break;case"ArrowUp":t.preventDefault(),this.openMenu(this.$items.length-1);break}if(t.target instanceof Node&&this.$menu.contains(t.target)&&this.isOpen())switch(t.key){case"ArrowDown":t.preventDefault(),this.currentFocusIndex()!==-1&&this.focusItem(this.currentFocusIndex()+1);break;case"ArrowUp":t.preventDefault(),this.currentFocusIndex()!==-1&&this.focusItem(this.currentFocusIndex()-1);break;case"Home":t.preventDefault(),this.focusItem(0);break;case"End":t.preventDefault(),this.focusItem(this.$items.length-1);break}t.key==="Escape"&&this.isOpen()&&this.closeMenu(),t.key==="Tab"&&this.isOpen()&&this.closeMenu(!1)}}F.moduleName="moj-button-menu";F.defaults=Object.freeze({buttonText:"Actions",alignMenu:"left",buttonClasses:""});F.schema=Object.freeze({properties:{buttonText:{type:"string"},buttonClasses:{type:"string"},alignMenu:{type:"string"}}});class O extends d{constructor(t,e={}){var s;super(t,e);const i=(s=this.config.input.element)!=null?s:this.$root.querySelector(this.config.input.selector);if(!i||!(i instanceof HTMLInputElement))return this;this.$input=i,this.dayLabels=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.monthLabels=["January","February","March","April","May","June","July","August","September","October","November","December"],this.currentDate=new Date,this.currentDate.setHours(0,0,0,0),this.calendarDays=[],this.excludedDates=[],this.excludedDays=[],this.buttonClass="moj-datepicker__button",this.selectedDayButtonClass="moj-datepicker__button--selected",this.currentDayButtonClass="moj-datepicker__button--current",this.todayButtonClass="moj-datepicker__button--today",this.setOptions(),this.initControls()}initControls(){this.id=`datepicker-${this.$input.id}`,this.$dialog=this.createDialog(),this.createCalendarHeaders();const t=document.createElement("div"),e=document.createElement("div");t.classList.add("moj-datepicker__wrapper"),e.classList.add("govuk-input__wrapper"),this.$input.parentElement.insertBefore(t,this.$input),t.appendChild(e),e.appendChild(this.$input),e.insertAdjacentHTML("beforeend",this.toggleTemplate()),t.insertAdjacentElement("beforeend",this.$dialog),this.$calendarButton=this.$root.querySelector(".moj-js-datepicker-toggle"),this.$dialogTitle=this.$dialog.querySelector(".moj-js-datepicker-month-year"),this.createCalendar(),this.$prevMonthButton=this.$dialog.querySelector(".moj-js-datepicker-prev-month"),this.$prevYearButton=this.$dialog.querySelector(".moj-js-datepicker-prev-year"),this.$nextMonthButton=this.$dialog.querySelector(".moj-js-datepicker-next-month"),this.$nextYearButton=this.$dialog.querySelector(".moj-js-datepicker-next-year"),this.$cancelButton=this.$dialog.querySelector(".moj-js-datepicker-cancel"),this.$okButton=this.$dialog.querySelector(".moj-js-datepicker-ok"),this.$prevMonthButton.addEventListener("click",i=>this.focusPreviousMonth(i,!1)),this.$prevYearButton.addEventListener("click",i=>this.focusPreviousYear(i,!1)),this.$nextMonthButton.addEventListener("click",i=>this.focusNextMonth(i,!1)),this.$nextYearButton.addEventListener("click",i=>this.focusNextYear(i,!1)),this.$cancelButton.addEventListener("click",i=>{i.preventDefault(),this.closeDialog()}),this.$okButton.addEventListener("click",()=>{this.selectDate(this.currentDate)});const s=this.$dialog.querySelectorAll('button:not([disabled="true"])');this.$firstButtonInDialog=s[0],this.$lastButtonInDialog=s[s.length-1],this.$firstButtonInDialog.addEventListener("keydown",i=>this.firstButtonKeydown(i)),this.$lastButtonInDialog.addEventListener("keydown",i=>this.lastButtonKeydown(i)),this.$calendarButton.addEventListener("click",i=>this.toggleDialog(i)),this.$dialog.addEventListener("keydown",i=>{i.key==="Escape"&&(this.closeDialog(),i.preventDefault(),i.stopPropagation())}),document.body.addEventListener("mouseup",i=>{this.backgroundClick(i)}),this.updateCalendar()}createDialog(){const t=`datepicker-title-${this.$input.id}`,e=document.createElement("div");return e.id=this.id,e.setAttribute("class","moj-datepicker__dialog"),e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-labelledby",t),e.innerHTML=this.dialogTemplate(t),e.hidden=!0,e}createCalendar(){const t=this.$dialog.querySelector("tbody");let e=0;for(let s=0;s<6;s++){const i=t.insertRow(s);for(let n=0;n<7;n++){const r=document.createElement("td");i.appendChild(r);const a=document.createElement("button");a.setAttribute("type","button"),r.appendChild(a);const l=new $t(a,e,s,n,this);this.calendarDays.push(l),e++}}}toggleTemplate(){return`<button class="moj-datepicker__toggle moj-js-datepicker-toggle" type="button" aria-haspopup="dialog" aria-controls="${this.id}" aria-expanded="false">
            <span class="govuk-visually-hidden">Choose date</span>
            <svg width="32" height="24" focusable="false" class="moj-datepicker-icon" aria-hidden="true" role="img" viewBox="0 0 22 22">
              <path
                fill="currentColor"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M16.1333 2.93333H5.86668V4.4C5.86668 5.21002 5.21003 5.86667 4.40002 5.86667C3.59 5.86667 2.93335 5.21002 2.93335 4.4V2.93333H2C0.895431 2.93333 0 3.82877 0 4.93334V19.2667C0 20.3712 0.89543 21.2667 2 21.2667H20C21.1046 21.2667 22 20.3712 22 19.2667V4.93333C22 3.82876 21.1046 2.93333 20 2.93333H19.0667V4.4C19.0667 5.21002 18.41 5.86667 17.6 5.86667C16.79 5.86667 16.1333 5.21002 16.1333 4.4V2.93333ZM20.5333 8.06667H1.46665V18.8C1.46665 19.3523 1.91436 19.8 2.46665 19.8H19.5333C20.0856 19.8 20.5333 19.3523 20.5333 18.8V8.06667Z"
              ></path>
              <rect x="3.66669" width="1.46667" height="5.13333" rx="0.733333" fill="currentColor"></rect>
              <rect x="16.8667" width="1.46667" height="5.13333" rx="0.733333" fill="currentColor"></rect>
            </svg>
          </button>`}dialogTemplate(t){return`<div class="moj-datepicker__dialog-header">
            <div class="moj-datepicker__dialog-navbuttons">
              <button type="button" class="moj-datepicker__button moj-js-datepicker-prev-year">
                <span class="govuk-visually-hidden">Previous year</span>
                <svg width="44" height="40" viewBox="0 0 44 40" fill="none" fill="none" focusable="false" aria-hidden="true" role="img">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M23.1643 20L28.9572 14.2071L27.5429 12.7929L20.3358 20L27.5429 27.2071L28.9572 25.7929L23.1643 20Z" fill="currentColor"/>
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M17.1643 20L22.9572 14.2071L21.5429 12.7929L14.3358 20L21.5429 27.2071L22.9572 25.7929L17.1643 20Z" fill="currentColor"/>
                </svg>
              </button>

              <button type="button" class="moj-datepicker__button moj-js-datepicker-prev-month">
                <span class="govuk-visually-hidden">Previous month</span>
                <svg width="44" height="40" viewBox="0 0 44 40" fill="none" focusable="false" aria-hidden="true" role="img">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M20.5729 20L25.7865 14.2071L24.5137 12.7929L18.0273 20L24.5137 27.2071L25.7865 25.7929L20.5729 20Z" fill="currentColor"/>
                </svg>
              </button>
            </div>

            <h2 id="${t}" class="moj-datepicker__dialog-title moj-js-datepicker-month-year" aria-live="polite">June 2020</h2>

            <div class="moj-datepicker__dialog-navbuttons">
              <button type="button" class="moj-datepicker__button moj-js-datepicker-next-month">
                <span class="govuk-visually-hidden">Next month</span>
                <svg width="44" height="40" viewBox="0 0 44 40" fill="none"  focusable="false" aria-hidden="true" role="img">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M23.4271 20L18.2135 14.2071L19.4863 12.7929L25.9727 20L19.4863 27.2071L18.2135 25.7929L23.4271 20Z" fill="currentColor"/>
                </svg>
              </button>

              <button type="button" class="moj-datepicker__button moj-js-datepicker-next-year">
                <span class="govuk-visually-hidden">Next year</span>
                <svg width="44" height="40" viewBox="0 0 44 40" fill="none" fill="none" focusable="false" aria-hidden="true" role="img">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M20.8357 20L15.0428 14.2071L16.4571 12.7929L23.6642 20L16.4571 27.2071L15.0428 25.7929L20.8357 20Z" fill="currentColor"/>
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M26.8357 20L21.0428 14.2071L22.4571 12.7929L29.6642 20L22.4571 27.2071L21.0428 25.7929L26.8357 20Z" fill="currentColor"/>
                </svg>
              </button>
            </div>
          </div>

          <table class="moj-datepicker__calendar moj-js-datepicker-grid" role="application" aria-labelledby="${t}">
            <thead>
              <tr></tr>
            </thead>

            <tbody></tbody>
          </table>

          <div class="govuk-button-group">
            <button type="button" class="govuk-button moj-js-datepicker-ok">Select</button>
            <button type="button" class="govuk-button govuk-button--secondary moj-js-datepicker-cancel">Close</button>
          </div>`}createCalendarHeaders(){this.dayLabels.forEach(t=>{const e=`<th scope="col"><span aria-hidden="true">${t.substring(0,3)}</span><span class="govuk-visually-hidden">${t}</span></th>`;this.$dialog.querySelector("thead > tr").insertAdjacentHTML("beforeend",e)})}leadingZeros(t,e=2){let s=t.toString();for(;s.length<e;)s=`0${s}`;return s}setOptions(){this.setMinAndMaxDatesOnCalendar(),this.setExcludedDates(),this.setExcludedDays(),this.setWeekStartDay()}setMinAndMaxDatesOnCalendar(){this.config.minDate&&(this.minDate=this.formattedDateFromString(this.config.minDate,null),this.minDate&&this.currentDate<this.minDate&&(this.currentDate=this.minDate)),this.config.maxDate&&(this.maxDate=this.formattedDateFromString(this.config.maxDate,null),this.maxDate&&this.currentDate>this.maxDate&&(this.currentDate=this.maxDate))}setExcludedDates(){this.config.excludedDates&&(this.excludedDates=this.config.excludedDates.replace(/\s+/," ").split(" ").map(t=>t.includes("-")?this.parseDateRangeString(t):[this.formattedDateFromString(t)]).reduce((t,e)=>t.concat(e)).filter(t=>t))}parseDateRangeString(t){const e=[],[s,i]=t.split("-").map(n=>this.formattedDateFromString(n,null));if(s&&i){const n=new Date(s.getTime());for(;n<=i;)e.push(new Date(n)),n.setDate(n.getDate()+1)}return e}setExcludedDays(){if(this.config.excludedDays){const t=this.dayLabels.map(e=>e.toLowerCase());this.config.weekStartDay==="monday"&&t.unshift(t.pop()),this.excludedDays=this.config.excludedDays.replace(/\s+/," ").toLowerCase().split(" ").map(e=>t.indexOf(e)).filter(e=>e!==-1)}}setWeekStartDay(){const t=this.config.weekStartDay;t&&t.toLowerCase()==="sunday"?(this.config.weekStartDay="sunday",this.dayLabels.unshift(this.dayLabels.pop())):this.config.weekStartDay="monday"}isExcludedDate(t){if(this.minDate&&this.minDate>t||this.maxDate&&this.maxDate<t)return!0;for(const e of this.excludedDates)if(t.toDateString()===e.toDateString())return!0;return!!this.excludedDays.includes(t.getDay())}formattedDateFromString(t,e=new Date){let s=null;const i=/(\d{1,2})([-/,. ])(\d{1,2})\2(\d{4})/;if(!i.test(t))return e;const n=i.exec(t),r=n[1],a=n[3],l=n[4];return s=new Date(`${l}-${a}-${r}`),s instanceof Date&&Number.isFinite(s.getTime())?s:e}formattedDateFromDate(t){return this.config.leadingZeros?`${this.leadingZeros(t.getDate())}/${this.leadingZeros(t.getMonth()+1)}/${t.getFullYear()}`:`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}formattedDateHuman(t){return`${this.dayLabels[(t.getDay()+6)%7]} ${t.getDate()} ${this.monthLabels[t.getMonth()]} ${t.getFullYear()}`}backgroundClick(t){this.isOpen()&&t.target instanceof Node&&!this.$dialog.contains(t.target)&&!this.$input.contains(t.target)&&!this.$calendarButton.contains(t.target)&&(t.preventDefault(),this.closeDialog())}firstButtonKeydown(t){t.key==="Tab"&&t.shiftKey&&(this.$lastButtonInDialog.focus(),t.preventDefault())}lastButtonKeydown(t){t.key==="Tab"&&!t.shiftKey&&(this.$firstButtonInDialog.focus(),t.preventDefault())}updateCalendar(){this.$dialogTitle.innerHTML=`${this.monthLabels[this.currentDate.getMonth()]} ${this.currentDate.getFullYear()}`;const t=this.currentDate,e=new Date(t.getFullYear(),t.getMonth(),1);let s;this.config.weekStartDay==="monday"?s=e.getDay()===0?6:e.getDay()-1:s=e.getDay(),e.setDate(e.getDate()-s);const i=new Date(e);for(const n of this.calendarDays){const r=i.getMonth()!==t.getMonth(),a=this.isExcludedDate(i);n.update(i,r,a),i.setDate(i.getDate()+1)}}setCurrentDate(t=!0){const{currentDate:e}=this;if(this.calendarDays.forEach(s=>{s.$button.classList.add("moj-datepicker__button"),s.$button.classList.add("moj-datepicker__calendar-day"),s.$button.setAttribute("tabindex","-1"),s.$button.classList.remove(this.selectedDayButtonClass);const i=s.date;i.setHours(0,0,0,0);const n=new Date;n.setHours(0,0,0,0),i.getTime()===e.getTime()&&t&&(s.$button.setAttribute("tabindex","0"),s.$button.focus(),s.$button.classList.add(this.selectedDayButtonClass)),this.inputDate&&i.getTime()===this.inputDate.getTime()?(s.$button.classList.add(this.currentDayButtonClass),s.$button.setAttribute("aria-current","date")):(s.$button.classList.remove(this.currentDayButtonClass),s.$button.removeAttribute("aria-current")),i.getTime()===n.getTime()?s.$button.classList.add(this.todayButtonClass):s.$button.classList.remove(this.todayButtonClass)}),!t){const s=this.calendarDays.filter(i=>window.getComputedStyle(i.$button).display==="block"&&!i.$button.disabled);s[0].$button.setAttribute("tabindex","0"),this.currentDate=s[0].date}}selectDate(t){if(this.isExcludedDate(t))return;this.$calendarButton.querySelector("span").innerText=`Choose date. Selected date is ${this.formattedDateHuman(t)}`,this.$input.value=this.formattedDateFromDate(t);const e=new Event("change",{bubbles:!0,cancelable:!0});this.$input.dispatchEvent(e),this.closeDialog()}isOpen(){return this.$dialog.classList.contains("moj-datepicker__dialog--open")}toggleDialog(t){t.preventDefault(),this.isOpen()?this.closeDialog():(this.setMinAndMaxDatesOnCalendar(),this.openDialog())}openDialog(){this.$dialog.hidden=!1,this.$dialog.classList.add("moj-datepicker__dialog--open"),this.$calendarButton.setAttribute("aria-expanded","true"),this.$input.offsetWidth>this.$dialog.offsetWidth&&(this.$dialog.style.right="0px"),this.$dialog.style.top=`${this.$input.offsetHeight+3}px`,this.inputDate=this.formattedDateFromString(this.$input.value),this.currentDate=this.inputDate,this.currentDate.setHours(0,0,0,0),this.updateCalendar(),this.setCurrentDate()}closeDialog(){this.$dialog.hidden=!0,this.$dialog.classList.remove("moj-datepicker__dialog--open"),this.$calendarButton.setAttribute("aria-expanded","false"),this.$calendarButton.focus()}goToDate(t,e){const s=this.currentDate;this.currentDate=t,(s.getMonth()!==this.currentDate.getMonth()||s.getFullYear()!==this.currentDate.getFullYear())&&this.updateCalendar(),this.setCurrentDate(e)}focusNextDay(){const t=new Date(this.currentDate);t.setDate(t.getDate()+1),this.goToDate(t)}focusPreviousDay(){const t=new Date(this.currentDate);t.setDate(t.getDate()-1),this.goToDate(t)}focusNextWeek(){const t=new Date(this.currentDate);t.setDate(t.getDate()+7),this.goToDate(t)}focusPreviousWeek(){const t=new Date(this.currentDate);t.setDate(t.getDate()-7),this.goToDate(t)}focusFirstDayOfWeek(){const t=new Date(this.currentDate),e=this.config.weekStartDay==="sunday"?0:1,s=t.getDay(),i=s>=e?s-e:6-s;t.setDate(t.getDate()-i),t.setHours(0,0,0,0),this.goToDate(t)}focusLastDayOfWeek(){const t=new Date(this.currentDate),e=this.config.weekStartDay==="sunday"?6:0,s=t.getDay(),i=s<=e?e-s:7-s;t.setDate(t.getDate()+i),t.setHours(0,0,0,0),this.goToDate(t)}focusNextMonth(t,e=!0){t.preventDefault();const s=new Date(this.currentDate);s.setMonth(s.getMonth()+1,1),this.goToDate(s,e)}focusPreviousMonth(t,e=!0){t.preventDefault();const s=new Date(this.currentDate);s.setMonth(s.getMonth()-1,1),this.goToDate(s,e)}focusNextYear(t,e=!0){t.preventDefault();const s=new Date(this.currentDate);s.setFullYear(s.getFullYear()+1,s.getMonth(),1),this.goToDate(s,e)}focusPreviousYear(t,e=!0){t.preventDefault();const s=new Date(this.currentDate);s.setFullYear(s.getFullYear()-1,s.getMonth(),1),this.goToDate(s,e)}}O.moduleName="moj-date-picker";O.defaults=Object.freeze({leadingZeros:!1,weekStartDay:"monday",input:{selector:".moj-js-datepicker-input"}});O.schema=Object.freeze({properties:{excludedDates:{type:"string"},excludedDays:{type:"string"},leadingZeros:{type:"boolean"},maxDate:{type:"string"},minDate:{type:"string"},weekStartDay:{type:"string"},input:{type:"object"}}});class $t{constructor(t,e,s,i,n){this.index=e,this.row=s,this.column=i,this.$button=t,this.picker=n,this.date=new Date,this.$button.addEventListener("keydown",this.keyPress.bind(this)),this.$button.addEventListener("click",this.click.bind(this))}update(t,e,s){const i=t.getDate();let n=this.picker.formattedDateHuman(t);s?(this.$button.setAttribute("aria-disabled","true"),n=`Excluded date, ${n}`):this.$button.removeAttribute("aria-disabled"),e?this.$button.style.display="none":this.$button.style.display="block",this.$button.setAttribute("data-testid",this.picker.formattedDateFromDate(t)),this.$button.innerHTML=`<span class="govuk-visually-hidden">${n}</span><span aria-hidden="true">${i}</span>`,this.date=new Date(t)}click(t){this.picker.goToDate(this.date),this.picker.selectDate(this.date),t.stopPropagation(),t.preventDefault()}keyPress(t){let e=!0;switch(t.key){case"ArrowLeft":this.picker.focusPreviousDay();break;case"ArrowRight":this.picker.focusNextDay();break;case"ArrowUp":this.picker.focusPreviousWeek();break;case"ArrowDown":this.picker.focusNextWeek();break;case"Home":this.picker.focusFirstDayOfWeek();break;case"End":this.picker.focusLastDayOfWeek();break;case"PageUp":{t.shiftKey?this.picker.focusPreviousYear(t):this.picker.focusPreviousMonth(t);break}case"PageDown":{t.shiftKey?this.picker.focusNextYear(t):this.picker.focusNextMonth(t);break}default:e=!1;break}e&&(t.preventDefault(),t.stopPropagation())}}class at extends p{constructor(t){super(t),this.initHeader()}initHeader(){this.$tabOpenClass="probation-common-header__toggle-open";const t=this.$root.querySelector(".probation-common-header__user-menu-toggle"),e=this.$root.querySelector("#probation-common-header-user-menu");if(!t||!e||!(t instanceof HTMLElement)||!(e instanceof HTMLElement))return 0;this.hideFallbackLinks(),t.removeAttribute("hidden"),this.closeTabs([[t,e]]),t.addEventListener("click",s=>{this.toggleMenu(t,e)})}closeTabs(t){t.forEach(([e,s])=>{s&&e&&(s.setAttribute("hidden","hidden"),e.classList.remove(this.$tabOpenClass),e.parentElement.classList.remove("item-open"),e.setAttribute("aria-expanded","false"),e.dataset.textForShow&&e.setAttribute("aria-label",e.dataset.textForShow))})}toggleMenu(t,e){!e.getAttribute("hidden")?this.closeTabs([[t,e]]):e&&t&&(e.removeAttribute("hidden"),t.classList.add(this.$tabOpenClass),t.parentElement.classList.add("item-open"),t.setAttribute("aria-expanded","true"),t.dataset.textForHide&&t.setAttribute("aria-label",t.dataset.textForHide))}hideFallbackLinks(){const t=this.$root.querySelector(".probation-common-header__user-menu-link");t&&t.setAttribute("hidden","hidden")}}at.moduleName="pds-header";class N extends d{constructor(t,e={}){var s,i;super(t,e);const n=(s=this.config.toggleButtonContainer.element)!=null?s:document.querySelector(this.config.toggleButtonContainer.selector),r=(i=this.config.closeButtonContainer.element)!=null?i:this.$root.querySelector(this.config.closeButtonContainer.selector);if(!(n instanceof HTMLElement&&r instanceof HTMLElement))return this;this.$toggleButtonContainer=n,this.$closeButtonContainer=r,this.createToggleButton(),this.setupResponsiveChecks(),this.$root.setAttribute("tabindex","-1"),this.config.startHidden&&this.hideMenu()}setupResponsiveChecks(){this.mq=window.matchMedia(this.config.bigModeMediaQuery),this.mq.addListener(this.checkMode.bind(this)),this.checkMode()}createToggleButton(){this.$menuButton=document.createElement("button"),this.$menuButton.setAttribute("type","button"),this.$menuButton.setAttribute("aria-haspopup","true"),this.$menuButton.setAttribute("aria-expanded","false"),this.$menuButton.className=`govuk-button ${this.config.toggleButton.classes}`,this.$menuButton.textContent=this.config.toggleButton.showText,this.$menuButton.addEventListener("click",this.onMenuButtonClick.bind(this)),this.$toggleButtonContainer.append(this.$menuButton)}checkMode(){this.mq.matches?this.enableBigMode():this.enableSmallMode()}enableBigMode(){this.showMenu(),this.removeCloseButton()}enableSmallMode(){this.hideMenu(),this.addCloseButton()}addCloseButton(){this.$closeButton=document.createElement("button"),this.$closeButton.setAttribute("type","button"),this.$closeButton.className=this.config.closeButton.classes,this.$closeButton.textContent=this.config.closeButton.text,this.$closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.$closeButtonContainer.append(this.$closeButton)}onCloseClick(){this.hideMenu(),this.$menuButton.focus()}removeCloseButton(){this.$closeButton&&(this.$closeButton.remove(),this.$closeButton=null)}hideMenu(){this.$menuButton.setAttribute("aria-expanded","false"),this.$root.classList.add("moj-js-hidden"),this.$menuButton.textContent=this.config.toggleButton.showText}showMenu(){this.$menuButton.setAttribute("aria-expanded","true"),this.$root.classList.remove("moj-js-hidden"),this.$menuButton.textContent=this.config.toggleButton.hideText}onMenuButtonClick(){this.toggle()}toggle(){this.$menuButton.getAttribute("aria-expanded")==="false"?(this.showMenu(),this.$root.focus()):this.hideMenu()}}N.moduleName="moj-filter";N.defaults=Object.freeze({bigModeMediaQuery:"(min-width: 48.0625em)",startHidden:!0,toggleButton:{showText:"Show filter",hideText:"Hide filter",classes:"govuk-button--secondary"},toggleButtonContainer:{selector:".moj-action-bar__filter"},closeButton:{text:"Close",classes:"moj-filter__close"},closeButtonContainer:{selector:".moj-filter__header-action"}});N.schema=Object.freeze({properties:{bigModeMediaQuery:{type:"string"},startHidden:{type:"boolean"},toggleButton:{type:"object"},toggleButtonContainer:{type:"object"},closeButton:{type:"object"},closeButtonContainer:{type:"object"}}});class P extends d{constructor(t,e={}){var s;super(t,e);const i=this.$root.querySelector(`#${this.config.idPrefix}select-all`),n=(s=this.config.checkboxes.items)!=null?s:this.$root.querySelectorAll(this.config.checkboxes.selector);if(!i||!(i instanceof HTMLElement)||!n.length)return this;this.setupToggle(this.config.idPrefix),this.$toggleButton=this.$toggle.querySelector("input"),this.$toggleButton.addEventListener("click",this.onButtonClick.bind(this)),this.$container=i,this.$container.append(this.$toggle),this.$checkboxes=Array.from(n),this.$checkboxes.forEach(r=>r.addEventListener("click",this.onCheckboxClick.bind(this))),this.checked=e.checked||!1}setupToggle(t=""){const e=`${t}checkboxes-all`,s=document.createElement("div"),i=document.createElement("label"),n=document.createElement("input"),r=document.createElement("span");s.classList.add("govuk-checkboxes__item","govuk-checkboxes--small","moj-multi-select__checkbox"),n.id=e,n.type="checkbox",n.classList.add("govuk-checkboxes__input"),i.setAttribute("for",e),i.classList.add("govuk-label","govuk-checkboxes__label","moj-multi-select__toggle-label"),r.classList.add("govuk-visually-hidden"),r.textContent="Select all",i.append(r),s.append(n,i),this.$toggle=s}onButtonClick(){this.checked?(this.uncheckAll(),this.$toggleButton.checked=!1):(this.checkAll(),this.$toggleButton.checked=!0)}checkAll(){this.$checkboxes.forEach(t=>{t.checked=!0}),this.checked=!0}uncheckAll(){this.$checkboxes.forEach(t=>{t.checked=!1}),this.checked=!1}onCheckboxClick(t){t.target instanceof HTMLInputElement&&(t.target.checked?this.$checkboxes.filter(e=>e.checked).length===this.$checkboxes.length&&(this.$toggleButton.checked=!0,this.checked=!0):(this.$toggleButton.checked=!1,this.checked=!1))}}P.moduleName="moj-multi-select";P.defaults=Object.freeze({idPrefix:"",checkboxes:{selector:"tbody input.govuk-checkboxes__input"}});P.schema=Object.freeze({properties:{idPrefix:{type:"string"},checked:{type:"boolean"},checkboxes:{type:"object"}}});class lt extends p{constructor(t){super(t);const e=this.$root.querySelector(".govuk-input");if(!e||!(e instanceof HTMLInputElement))return this;this.$input=e,this.$input.setAttribute("spellcheck","false"),this.createButton()}createButton(){this.$group=document.createElement("div"),this.$button=document.createElement("button"),this.$button.setAttribute("type","button"),this.$root.classList.add("moj-password-reveal"),this.$group.classList.add("moj-password-reveal__wrapper"),this.$button.classList.add("govuk-button","govuk-button--secondary","moj-password-reveal__button"),this.$button.innerHTML='Show <span class="govuk-visually-hidden">password</span>',this.$button.addEventListener("click",this.onButtonClick.bind(this)),this.$group.append(this.$input,this.$button),this.$root.append(this.$group)}onButtonClick(){this.$input.type==="password"?(this.$input.type="text",this.$button.innerHTML='Hide <span class="govuk-visually-hidden">password</span>'):(this.$input.type="password",this.$button.innerHTML='Show <span class="govuk-visually-hidden">password</span>')}}lt.moduleName="moj-password-reveal";class E extends d{constructor(t,e={}){if(super(t,e),!E.isSupported())return this;const s=this.$root.querySelector(".govuk-textarea");if(!s||!(s instanceof HTMLTextAreaElement))return this;this.$textarea=s,this.createToolbar(),this.hideDefault(),this.configureToolbar(),this.keys={left:37,right:39,up:38,down:40},this.$content.addEventListener("input",this.onEditorInput.bind(this)),this.$root.querySelector("label").addEventListener("click",this.onLabelClick.bind(this)),this.$toolbar.addEventListener("keydown",this.onToolbarKeydown.bind(this))}onToolbarKeydown(t){let e;switch(t.keyCode){case this.keys.right:case this.keys.down:{if(e=this.$buttons.find(s=>s.getAttribute("tabindex")==="0"),e){const s=e.nextElementSibling;s&&s instanceof HTMLButtonElement&&(s.focus(),e.setAttribute("tabindex","-1"),s.setAttribute("tabindex","0"))}break}case this.keys.left:case this.keys.up:{if(e=this.$buttons.find(s=>s.getAttribute("tabindex")==="0"),e){const s=e.previousElementSibling;s&&s instanceof HTMLButtonElement&&(s.focus(),e.setAttribute("tabindex","-1"),s.setAttribute("tabindex","0"))}break}}}getToolbarHtml(){let t="";return t+='<div class="moj-rich-text-editor__toolbar" role="toolbar">',this.config.toolbar.bold&&(t+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--bold" type="button" data-command="bold"><span class="govuk-visually-hidden">Bold</span></button>'),this.config.toolbar.italic&&(t+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--italic" type="button" data-command="italic"><span class="govuk-visually-hidden">Italic</span></button>'),this.config.toolbar.underline&&(t+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--underline" type="button" data-command="underline"><span class="govuk-visually-hidden">Underline</span></button>'),this.config.toolbar.bullets&&(t+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--unordered-list" type="button" data-command="insertUnorderedList"><span class="govuk-visually-hidden">Unordered list</span></button>'),this.config.toolbar.numbers&&(t+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--ordered-list" type="button" data-command="insertOrderedList"><span class="govuk-visually-hidden">Ordered list</span></button>'),t+="</div>",t}getEnhancedHtml(){return`${this.getToolbarHtml()}<div class="govuk-textarea moj-rich-text-editor__content" contenteditable="true" spellcheck="false"></div>`}hideDefault(){this.$textarea.classList.add("govuk-visually-hidden"),this.$textarea.setAttribute("aria-hidden","true"),this.$textarea.setAttribute("tabindex","-1")}createToolbar(){this.$toolbar=document.createElement("div"),this.$toolbar.className="moj-rich-text-editor",this.$toolbar.innerHTML=this.getEnhancedHtml(),this.$root.append(this.$toolbar),this.$content=this.$root.querySelector(".moj-rich-text-editor__content"),this.$content.innerHTML=this.$textarea.value}configureToolbar(){this.$buttons=Array.from(this.$root.querySelectorAll(".moj-rich-text-editor__toolbar-button")),this.$buttons.forEach((t,e)=>{t.setAttribute("tabindex",e?"-1":"0"),t.addEventListener("click",this.onButtonClick.bind(this))})}onButtonClick(t){t.currentTarget instanceof HTMLElement&&document.execCommand(t.currentTarget.getAttribute("data-command"),!1,void 0)}getContent(){return this.$content.innerHTML}onEditorInput(){this.updateTextarea()}updateTextarea(){document.execCommand("defaultParagraphSeparator",!1,"p"),this.$textarea.value=this.getContent()}onLabelClick(t){t.preventDefault(),this.$content.focus()}static isSupported(){return"contentEditable"in document.documentElement}}E.moduleName="moj-rich-text-editor";E.defaults=Object.freeze({toolbar:{bold:!1,italic:!1,underline:!1,bullets:!0,numbers:!0}});E.schema=Object.freeze({properties:{toolbar:{type:"object"}}});class R extends d{constructor(t,e={}){var s,i;super(t,e);const n=(s=this.config.searchContainer.element)!=null?s:this.$root.querySelector(this.config.searchContainer.selector),r=(i=this.config.toggleButtonContainer.element)!=null?i:this.$root.querySelector(this.config.toggleButtonContainer.selector);if(!n||!r||!(n instanceof HTMLElement)||!(r instanceof HTMLElement))return this;this.$searchContainer=n,this.$toggleButtonContainer=r;const a='<svg viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="moj-search-toggle__button__icon"><path d="M7.433,12.5790048 C6.06762625,12.5808611 4.75763941,12.0392925 3.79217348,11.0738265 C2.82670755,10.1083606 2.28513891,8.79837375 2.28699522,7.433 C2.28513891,6.06762625 2.82670755,4.75763941 3.79217348,3.79217348 C4.75763941,2.82670755 6.06762625,2.28513891 7.433,2.28699522 C8.79837375,2.28513891 10.1083606,2.82670755 11.0738265,3.79217348 C12.0392925,4.75763941 12.5808611,6.06762625 12.5790048,7.433 C12.5808611,8.79837375 12.0392925,10.1083606 11.0738265,11.0738265 C10.1083606,12.0392925 8.79837375,12.5808611 7.433,12.5790048 L7.433,12.5790048 Z M14.293,12.579 L13.391,12.579 L13.071,12.269 C14.2300759,10.9245158 14.8671539,9.20813198 14.866,7.433 C14.866,3.32786745 11.5381325,-1.65045755e-15 7.433,-1.65045755e-15 C3.32786745,-1.65045755e-15 -1.65045755e-15,3.32786745 -1.65045755e-15,7.433 C-1.65045755e-15,11.5381325 3.32786745,14.866 7.433,14.866 C9.208604,14.8671159 10.9253982,14.2296624 12.27,13.07 L12.579,13.39 L12.579,14.294 L18.296,20 L20,18.296 L14.294,12.579 L14.293,12.579 Z"></path></svg>';this.$toggleButton=document.createElement("button"),this.$toggleButton.setAttribute("class","moj-search-toggle__button"),this.$toggleButton.setAttribute("type","button"),this.$toggleButton.setAttribute("aria-haspopup","true"),this.$toggleButton.setAttribute("aria-expanded","false"),this.$toggleButton.innerHTML=`${this.config.toggleButton.text} ${a}`,this.$toggleButton.addEventListener("click",this.onToggleButtonClick.bind(this)),this.$toggleButtonContainer.append(this.$toggleButton),document.addEventListener("click",this.onDocumentClick.bind(this)),document.addEventListener("focusin",this.onDocumentClick.bind(this))}showMenu(){this.$toggleButton.setAttribute("aria-expanded","true"),this.$searchContainer.classList.remove("moj-js-hidden"),this.$searchContainer.querySelector("input").focus()}hideMenu(){this.$searchContainer.classList.add("moj-js-hidden"),this.$toggleButton.setAttribute("aria-expanded","false")}onToggleButtonClick(){this.$toggleButton.getAttribute("aria-expanded")==="false"?this.showMenu():this.hideMenu()}onDocumentClick(t){t.target instanceof Node&&!this.$toggleButtonContainer.contains(t.target)&&!this.$searchContainer.contains(t.target)&&this.hideMenu()}}R.moduleName="moj-search-toggle";R.defaults=Object.freeze({searchContainer:{selector:".moj-search"},toggleButton:{text:"Search"},toggleButtonContainer:{selector:".moj-search-toggle__toggle"}});R.schema=Object.freeze({properties:{searchContainer:{type:"object"},toggleButton:{type:"object"},toggleButtonContainer:{type:"object"}}});class K extends d{constructor(t,e={}){super(t,e);const s=t==null?void 0:t.querySelector("thead"),i=t==null?void 0:t.querySelector("tbody");if(!s||!i)return this;this.$head=s,this.$body=i,this.$caption=this.$root.querySelector("caption"),this.$upArrow=`<svg width="22" height="22" focusable="false" aria-hidden="true" role="img" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.5625 15.5L11 6.63125L15.4375 15.5H6.5625Z" fill="currentColor"/>
</svg>`,this.$downArrow=`<svg width="22" height="22" focusable="false" aria-hidden="true" role="img" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.4375 7L11 15.8687L6.5625 7L15.4375 7Z" fill="currentColor"/>
</svg>`,this.$upDownArrow=`<svg width="22" height="22" focusable="false" aria-hidden="true" role="img" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.1875 9.5L10.9609 3.95703L13.7344 9.5H8.1875Z" fill="currentColor"/>
<path d="M13.7344 12.0781L10.9609 17.6211L8.1875 12.0781H13.7344Z" fill="currentColor"/>
</svg>`,this.$headings=this.$head?Array.from(this.$head.querySelectorAll("th")):[],this.createHeadingButtons(),this.updateCaption(),this.updateDirectionIndicators(),this.createStatusBox(),this.initialiseSortedColumn(),this.$head.addEventListener("click",this.onSortButtonClick.bind(this))}createHeadingButtons(){for(const t of this.$headings)t.hasAttribute("aria-sort")&&this.createHeadingButton(t)}createHeadingButton(t){const e=this.$headings.indexOf(t),s=document.createElement("button");s.setAttribute("type","button"),s.setAttribute("data-index",`${e}`),s.textContent=t.textContent,t.textContent="",t.appendChild(s)}createStatusBox(){this.$status=document.createElement("div"),this.$status.setAttribute("aria-atomic","true"),this.$status.setAttribute("aria-live","polite"),this.$status.setAttribute("class","govuk-visually-hidden"),this.$status.setAttribute("role","status"),this.$root.insertAdjacentElement("afterend",this.$status)}initialiseSortedColumn(){var t;const e=this.getTableRowsArray(),s=this.$root.querySelector('th[aria-sort="ascending"], th[aria-sort="descending"]'),i=s==null?void 0:s.querySelector("button"),n=s==null?void 0:s.getAttribute("aria-sort"),r=Number.parseInt((t=i==null?void 0:i.getAttribute("data-index"))!=null?t:"0",10);if(!s||!i||!(n==="ascending"||n==="descending"))return;const a=this.sort(e,r,n);this.addRows(a)}onSortButtonClick(t){var e;const i=t.target.closest("button");if(!i||!(i instanceof HTMLButtonElement)||!i.parentElement)return;const r=i.parentElement.getAttribute("aria-sort"),a=Number.parseInt((e=i==null?void 0:i.getAttribute("data-index"))!=null?e:"0",10),l=r==="none"||r==="descending"?"ascending":"descending",c=this.getTableRowsArray(),h=this.sort(c,a,l);this.addRows(h),this.removeButtonStates(),this.updateButtonState(i,l),this.updateDirectionIndicators()}updateCaption(){if(!this.$caption)return;let t=this.$caption.querySelector(".govuk-visually-hidden");t||(t=document.createElement("span"),t.classList.add("govuk-visually-hidden"),t.textContent=" (column headers with buttons are sortable).",this.$caption.appendChild(t))}updateButtonState(t,e){if(!(e==="ascending"||e==="descending"))return;t.parentElement.setAttribute("aria-sort",e);let s=this.config.statusMessage;s=s.replace(/%heading%/,t.textContent),s=s.replace(/%direction%/,this.config[`${e}Text`]),this.$status.textContent=s}updateDirectionIndicators(){for(const e of this.$headings){const s=e.querySelector("button");if(e.hasAttribute("aria-sort")&&s){var t;const i=e.getAttribute("aria-sort");switch((t=s.querySelector("svg"))==null||t.remove(),i){case"ascending":s.insertAdjacentHTML("beforeend",this.$upArrow);break;case"descending":s.insertAdjacentHTML("beforeend",this.$downArrow);break;default:s.insertAdjacentHTML("beforeend",this.$upDownArrow)}}}}removeButtonStates(){for(const t of this.$headings)t.setAttribute("aria-sort","none")}addRows(t){for(const e of t)this.$body.append(e)}getTableRowsArray(){return Array.from(this.$body.querySelectorAll("tr"))}sort(t,e,s){return t.sort((i,n)=>{const r=i.querySelectorAll("td, th")[e],a=n.querySelectorAll("td, th")[e];if(!r||!a||!(r instanceof HTMLElement)||!(a instanceof HTMLElement))return 0;const l=s==="ascending"?this.getCellValue(r):this.getCellValue(a),c=s==="ascending"?this.getCellValue(a):this.getCellValue(r);return typeof l=="number"&&typeof c=="number"?l-c:l.toString().localeCompare(c.toString())})}getCellValue(t){const e=t.getAttribute("data-sort-value")||t.innerHTML,s=Number(e);return Number.isFinite(s)?s:e}}K.moduleName="moj-sortable-table";K.defaults=Object.freeze({statusMessage:"Sort by %heading% (%direction%)",ascendingText:"ascending",descendingText:"descending"});K.schema=Object.freeze({properties:{statusMessage:{type:"string"},ascendingText:{type:"string"},descendingText:{type:"string"}}});function vt(o){for(const t of[rt,q,F,O,P,lt,at,E,R,K])ot(t,void 0,o)}gt();vt();window.FilterToggleButton=N;window.dispatchEvent(new Event("FilterToggleButtonReady"));
