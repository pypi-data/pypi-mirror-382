!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("RusCryptoJS",[],t):"object"==typeof exports?exports.RusCryptoJS=t():e.RusCryptoJS=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t="undefined"!=typeof self?self:this.webpackHotUpdateRusCryptoJS;"undefined"!=typeof self?self:this.webpackHotUpdateRusCryptoJS=function(e,n){!function(e,t){if(!v[e]||!O[e])return;for(var n in O[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(p[n]=t[n]);0==--C&&0===g&&m()}(e,n),t&&t(e,n)};var n,r=!0,i="a39a053a365446f652b7",o={},a=[],c=[];function s(e){var t=D[e];if(!t)return P;var r=function(r){return t.hot.active?(D[r]?-1===D[r].parents.indexOf(e)&&D[r].parents.push(e):(a=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),a=[]),P(r)},i=function(e){return{configurable:!0,enumerable:!0,get:function(){return P[e]},set:function(t){P[e]=t}}};for(var o in P)Object.prototype.hasOwnProperty.call(P,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(r,o,i(o));return r.e=function(e){return"ready"===l&&f("prepare"),g++,P.e(e).then(t,(function(e){throw t(),e}));function t(){g--,"prepare"===l&&(A[e]||T(e),0===g&&0===C&&m())}},r.t=function(e,t){return 1&t&&(e=r(e)),P.t(e,-2&t)},r}function u(t){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._acceptedDependencies[e[n]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);t>=0&&r._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":(p={})[t]=e[t],f("ready");break;case"ready":y(t);break;case"prepare":case"check":case"dispose":case"apply":(h=h||[]).push(t)}},check:S,apply:R,status:function(e){if(!e)return l;_.push(e)},addStatusHandler:function(e){_.push(e)},removeStatusHandler:function(e){var t=_.indexOf(e);t>=0&&_.splice(t,1)},data:o[t]};return n=void 0,r}var _=[],l="idle";function f(e){l=e;for(var t=0;t<_.length;t++)_[t].call(null,e)}var d,p,E,h,C=0,g=0,A={},O={},v={};function I(e){return+e+""===e?+e:e}function S(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=P.p+""+i+".hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return f(N()?"ready":"idle"),null;O={},A={},v=e.c,E=e.h,f("prepare");var t=new Promise((function(e,t){d={resolve:e,reject:t}}));p={};return T(0),"prepare"===l&&0===g&&0===C&&m(),t}));var t}function T(e){v[e]?(O[e]=!0,C++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=P.p+""+e+"."+i+".hot-update.js",document.head.appendChild(t)}(e)):A[e]=!0}function m(){f("ready");var e=d;if(d=null,e)if(r)Promise.resolve().then((function(){return R(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&t.push(I(n));e.resolve(t)}}function R(t){if("ready"!==l)throw new Error("apply() is only allowed in ready status");return function t(r){var c,s,u,_,l;function d(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var i=r.pop(),o=i.id,a=i.chain;if((_=D[o])&&(!_.hot._selfAccepted||_.hot._selfInvalidated)){if(_.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:o};if(_.hot._main)return{type:"unaccepted",chain:a,moduleId:o};for(var c=0;c<_.parents.length;c++){var s=_.parents[c],u=D[s];if(u){if(u.hot._declinedDependencies[o])return{type:"declined",chain:a.concat([s]),moduleId:o,parentId:s};-1===t.indexOf(s)&&(u.hot._acceptedDependencies[o]?(n[s]||(n[s]=[]),C(n[s],[o])):(delete n[s],t.push(s),r.push({chain:a.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}N();var g={},A=[],O={},S=function(){console.warn("[HMR] unexpected require("+m.moduleId+") to disposed module")};for(var T in p)if(Object.prototype.hasOwnProperty.call(p,T)){var m;l=I(T),m=p[T]?d(l):{type:"disposed",moduleId:T};var R=!1,y=!1,b=!1,w="";switch(m.chain&&(w="\nUpdate propagation: "+m.chain.join(" -> ")),m.type){case"self-declined":r.onDeclined&&r.onDeclined(m),r.ignoreDeclined||(R=new Error("Aborted because of self decline: "+m.moduleId+w));break;case"declined":r.onDeclined&&r.onDeclined(m),r.ignoreDeclined||(R=new Error("Aborted because of declined dependency: "+m.moduleId+" in "+m.parentId+w));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(m),r.ignoreUnaccepted||(R=new Error("Aborted because "+l+" is not accepted"+w));break;case"accepted":r.onAccepted&&r.onAccepted(m),y=!0;break;case"disposed":r.onDisposed&&r.onDisposed(m),b=!0;break;default:throw new Error("Unexception type "+m.type)}if(R)return f("abort"),Promise.reject(R);if(y)for(l in O[l]=p[l],C(A,m.outdatedModules),m.outdatedDependencies)Object.prototype.hasOwnProperty.call(m.outdatedDependencies,l)&&(g[l]||(g[l]=[]),C(g[l],m.outdatedDependencies[l]));b&&(C(A,[m.moduleId]),O[l]=S)}var L,M=[];for(s=0;s<A.length;s++)l=A[s],D[l]&&D[l].hot._selfAccepted&&O[l]!==S&&!D[l].hot._selfInvalidated&&M.push({module:l,parents:D[l].parents.slice(),errorHandler:D[l].hot._selfAccepted});f("dispose"),Object.keys(v).forEach((function(e){!1===v[e]&&function(e){delete installedChunks[e]}(e)}));var x,U,j=A.slice();for(;j.length>0;)if(l=j.pop(),_=D[l]){var K={},H=_.hot._disposeHandlers;for(u=0;u<H.length;u++)(c=H[u])(K);for(o[l]=K,_.hot.active=!1,delete D[l],delete g[l],u=0;u<_.children.length;u++){var B=D[_.children[u]];B&&((L=B.parents.indexOf(l))>=0&&B.parents.splice(L,1))}}for(l in g)if(Object.prototype.hasOwnProperty.call(g,l)&&(_=D[l]))for(U=g[l],u=0;u<U.length;u++)x=U[u],(L=_.children.indexOf(x))>=0&&_.children.splice(L,1);f("apply"),void 0!==E&&(i=E,E=void 0);for(l in p=void 0,O)Object.prototype.hasOwnProperty.call(O,l)&&(e[l]=O[l]);var F=null;for(l in g)if(Object.prototype.hasOwnProperty.call(g,l)&&(_=D[l])){U=g[l];var V=[];for(s=0;s<U.length;s++)if(x=U[s],c=_.hot._acceptedDependencies[x]){if(-1!==V.indexOf(c))continue;V.push(c)}for(s=0;s<V.length;s++){c=V[s];try{c(U)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:l,dependencyId:U[s],error:e}),r.ignoreErrored||F||(F=e)}}}for(s=0;s<M.length;s++){var k=M[s];l=k.module,a=k.parents,n=l;try{P(l)}catch(e){if("function"==typeof k.errorHandler)try{k.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:t,originalError:e}),r.ignoreErrored||F||(F=t),F||(F=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:l,error:e}),r.ignoreErrored||F||(F=e)}}if(F)return f("fail"),Promise.reject(F);if(h)return t(r).then((function(e){return A.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return f("idle"),new Promise((function(e){e(A)}))}(t=t||{})}function N(){if(h)return p||(p={}),h.forEach(y),h=void 0,!0}function y(t){Object.prototype.hasOwnProperty.call(p,t)||(p[t]=e[t])}var D={};function P(t){if(D[t])return D[t].exports;var n=D[t]={i:t,l:!1,exports:{},hot:u(t),parents:(c=a,a=[],c),children:[]};return e[t].call(n.exports,n,n.exports,s(t)),n.l=!0,n.exports}return P.m=e,P.c=D,P.d=function(e,t,n){P.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},P.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},P.t=function(e,t){if(1&t&&(e=P(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(P.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)P.d(n,r,function(t){return e[t]}.bind(null,r));return n},P.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return P.d(t,"a",t),t},P.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},P.p="",P.h=function(){return i},s(88)(P.s=88)}([function(e,t,n){var r=n(34)("wks"),i=n(17),o=n(1).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(7);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(2),i=n(67),o=n(35),a=Object.defineProperty;t.f=n(3)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(18),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(1),i=n(15),o=n(9),a=n(11),c=n(13),s=function(e,t,n){var u,_,l,f,d=e&s.F,p=e&s.G,E=e&s.S,h=e&s.P,C=e&s.B,g=p?r:E?r[t]||(r[t]={}):(r[t]||{}).prototype,A=p?i:i[t]||(i[t]={}),O=A.prototype||(A.prototype={});for(u in p&&(n=t),n)l=((_=!d&&g&&void 0!==g[u])?g:n)[u],f=C&&_?c(l,r):h&&"function"==typeof l?c(Function.call,l):l,g&&a(g,u,l,e&s.U),A[u]!=l&&o(A,u,f),h&&O[u]!=l&&(O[u]=l)};r.core=i,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){var r=n(5),i=n(20);e.exports=n(3)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(37);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(1),i=n(9),o=n(12),a=n(17)("src"),c=n(90),s=(""+c).split("toString");n(15).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,c){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:c?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||c.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(38);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(26),i={};i[n(0)("toStringTag")]="z",i+""!="[object z]"&&n(11)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";n(91);var r=n(2),i=n(36),o=n(3),a=/./.toString,c=function(e){n(11)(RegExp.prototype,"toString",e,!0)};n(4)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?c((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=a.name&&c((function(){return a.call(this)}))},function(e,t){e.exports={}},function(e,t,n){var r=n(58),i=n(37);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(74),i=n(60);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(79),i=n(104),o=n(22),a=n(23);e.exports=n(80)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(14),i=n(0)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var r=n(2),i=n(10),o=n(6),a=n(18),c=n(45),s=n(46),u=Math.max,_=Math.min,l=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(47)("replace",2,(function(e,t,n,p){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=p(n,e,this,t);if(i.done)return i.value;var l=r(e),f=String(this),d="function"==typeof t;d||(t=String(t));var h=l.global;if(h){var C=l.unicode;l.lastIndex=0}for(var g=[];;){var A=s(l,f);if(null===A)break;if(g.push(A),!h)break;""===String(A[0])&&(l.lastIndex=c(f,o(l.lastIndex),C))}for(var O,v="",I=0,S=0;S<g.length;S++){A=g[S];for(var T=String(A[0]),m=u(_(a(A.index),f.length),0),R=[],N=1;N<A.length;N++)R.push(void 0===(O=A[N])?O:String(O));var y=A.groups;if(d){var D=[T].concat(R,m,f);void 0!==y&&D.push(y);var P=String(t.apply(void 0,D))}else P=E(T,f,m,R,y,t);m>=I&&(v+=f.slice(I,m)+P,I=m+T.length)}return v+f.slice(I)}];function E(e,t,r,o,a,c){var s=r+e.length,u=o.length,_=d;return void 0!==a&&(a=i(a),_=f),n.call(c,_,(function(n,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":c=a[i.slice(1,-1)];break;default:var _=+i;if(0===_)return n;if(_>u){var f=l(_/10);return 0===f?n:f<=u?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}c=o[_-1]}return void 0===c?"":c}))}}))},function(e,t,n){"use strict";var r,i,o,a,c=n(16),s=n(1),u=n(13),_=n(26),l=n(8),f=n(7),d=n(38),p=n(49),E=n(93),h=n(52),C=n(70).set,g=n(95)(),A=n(71),O=n(96),v=n(97),I=n(98),S=s.TypeError,T=s.process,m=T&&T.versions,R=m&&m.v8||"",N=s.Promise,y="process"==_(T),D=function(){},P=i=A.f,b=!!function(){try{var e=N.resolve(1),t=(e.constructor={})[n(0)("species")]=function(e){e(D,D)};return(y||"function"==typeof PromiseRejectionEvent)&&e.then(D)instanceof t&&0!==R.indexOf("6.6")&&-1===v.indexOf("Chrome/66")}catch(e){}}(),w=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;g((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,c=i?t.ok:t.fail,s=t.resolve,u=t.reject,_=t.domain;try{c?(i||(2==e._h&&U(e),e._h=1),!0===c?n=r:(_&&_.enter(),n=c(r),_&&(_.exit(),a=!0)),n===t.promise?u(S("Promise-chain cycle")):(o=w(n))?o.call(n,s,u):s(n)):u(r)}catch(e){_&&!a&&_.exit(),u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&M(e)}))}},M=function(e){C.call(s,(function(){var t,n,r,i=e._v,o=x(e);if(o&&(t=O((function(){y?T.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=y||x(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},x=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){C.call(s,(function(){var t;y?T.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},K=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=w(e))?g((function(){var r={_w:n,_d:!1};try{t.call(e,u(K,r,1),u(j,r,1))}catch(e){j.call(r,e)}})):(n._v=e,n._s=1,L(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};b||(N=function(e){p(this,N,"Promise","_h"),d(e),r.call(this);try{e(u(K,this,1),u(j,this,1))}catch(e){j.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(54)(N.prototype,{then:function(e,t){var n=P(h(this,N));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=y?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(K,e,1),this.reject=u(j,e,1)},A.f=P=function(e){return e===N||e===a?new o(e):i(e)}),l(l.G+l.W+l.F*!b,{Promise:N}),n(29)(N,"Promise"),n(55)("Promise"),a=n(15).Promise,l(l.S+l.F*!b,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(c||!b),"Promise",{resolve:function(e){return I(c&&this===a?N:this,e)}}),l(l.S+l.F*!(b&&n(56)((function(e){N.all(e).catch(D)}))),"Promise",{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=O((function(){var n=[],o=0,a=1;E(e,!1,(function(e){var c=o++,s=!1;n.push(void 0),a++,t.resolve(e).then((function(e){s||(s=!0,n[c]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=O((function(){E(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(5).f,i=n(12),o=n(0)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(74),i=n(60).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(18),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){"use strict";var r=n(2),i=n(6),o=n(45),a=n(46);n(47)("match",1,(function(e,t,n,c){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=c(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this);if(!s.global)return a(s,u);var _=s.unicode;s.lastIndex=0;for(var l,f=[],d=0;null!==(l=a(s,u));){var p=String(l[0]);f[d]=p,""===p&&(s.lastIndex=o(u,i(s.lastIndex),_)),d++}return 0===d?null:f}]}))},function(e,t,n){var r=function(e){function t(e){return!!(e&&e.call&&e.apply)}function n(e,n){return t(e[n])?function(){return e[n].apply(e,arguments)}:e[n]}function r(e){return function(){return e}}function i(){e.ready=Promise.resolve(!0),e.isExtensionInstalled=r(Promise.resolve(!1)),e.isPluginInstalled=r(Promise.resolve(!0)),e.loadPlugin=o,window.rutokenLoaded=c}function o(){var e=document.createElement("object");return e.style.setProperty("visibility","hidden","important"),e.style.setProperty("width","0px","important"),e.style.setProperty("height","0px","important"),e.style.setProperty("margin","0px","important"),e.style.setProperty("padding","0px","important"),e.style.setProperty("border-style","none","important"),e.style.setProperty("border-width","0px","important"),e.style.setProperty("max-width","0px","important"),e.style.setProperty("max-height","0px","important"),e.innerHTML="<param name='onload' value='rutokenLoaded'/>",e.setAttribute("type",f),document.body.appendChild(e),new Promise((function(e,t){l.push(e)}))}function a(){return d.loadPlugin().then((function(e){return function e(r){var i={},o=[];for(var a in r)!function(a){t(r[a].then)?o.push(r[a].then((function(o){return e(o).then((function(e){t(e)?i[a]=n(r,a):i[a]=e}))}))):i[a]=r[a]}(a);return 0==o.length?new Promise((function(e){e(r)})):Promise.all(o).then((function(){return i}))}(e)})).then((function(e){return e.wrapWithOldInterface=s,e}))}function c(e,t){_(e).then((function(e){if(0==l.length)throw"Internal error";l.shift()(e)}))}function s(){var e={};for(var n in this)t(this[n])?e[n]=function(e,t){return function(){var n=arguments[arguments.length-2],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0,-2);return t.apply(e,i).then((function(e){n(e)}),(function(e){r(e.message)}))}}(this,this[n]):e[n]=this[n];return new Promise((function(t){t(e)}))}function u(){var e={originalObject:this.originalObject};for(var t in this.originalObject)e[t]=n(this.originalObject,t);return new Promise((function(t){t(e)}))}function _(e){var n={originalObject:e,wrapWithOldInterface:u};for(var r in e)t(e[r])?n[r]=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return new Promise((function(r,i){n.push(r,i),t.apply(e,n)}))}}(e,e[r]):n[r]=e[r];return new Promise((function(e){e(n)}))}var l=[],f="application/x-rutoken-pki",d=window["C3B7563B-BF85-45B7-88FC-7CFF1BD3C2DB"];if(d)!function(){var t=d.initialize().then((function(){return d.isPluginInstalled()})).then((function(t){return e.isExtensionInstalled=r(Promise.resolve(!0)),e.isPluginInstalled=n(d,"isPluginInstalled"),t&&(f="application/x-rutoken-plugin",e.loadPlugin=a),!0}));e.ready=t}();else if(navigator.mimeTypes&&navigator.mimeTypes[f])i();else try{new ActiveXObject("Aktiv.CryptoPlugin"),i()}catch(t){e.ready=Promise.resolve(!0),e.isExtensionInstalled=r(Promise.resolve(!1)),e.isPluginInstalled=r(Promise.resolve(!1))}return e}(r||{});e.exports=r},function(e,t,n){var r=n(15),i=n(1),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(16)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(7);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";var r=n(2);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(13),i=n(58),o=n(10),a=n(6),c=n(102);e.exports=function(e,t){var n=1==e,s=2==e,u=3==e,_=4==e,l=6==e,f=5==e||l,d=t||c;return function(t,c,p){for(var E,h,C=o(t),g=i(C),A=r(c,p,3),O=a(g.length),v=0,I=n?d(t,O):s?d(t,0):void 0;O>v;v++)if((f||v in g)&&(h=A(E=g[v],v,C),e))if(n)I[v]=h;else if(h)switch(e){case 3:return!0;case 5:return E;case 6:return v;case 2:I.push(E)}else if(_)return!1;return l?-1:u||_?_:I}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(8),i=n(53),o=n(14),a=n(31),c=n(6),s=[].slice;r(r.P+r.F*n(4)((function(){i&&s.call(i)})),"Array",{slice:function(e,t){var n=c(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return s.call(this,e,t);for(var i=a(e,n),u=a(t,n),_=c(u-i),l=new Array(_),f=0;f<_;f++)l[f]="String"==r?this.charAt(i+f):this[i+f];return l}})},function(e,t,n){"use strict";var r=n(68)(!0);n(80)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){for(var r=n(25),i=n(24),o=n(11),a=n(1),c=n(9),s=n(22),u=n(0),_=u("iterator"),l=u("toStringTag"),f=s.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),E=0;E<p.length;E++){var h,C=p[E],g=d[C],A=a[C],O=A&&A.prototype;if(O&&(O[_]||c(O,_,f),O[l]||c(O,l,C),s[C]=f,g))for(h in r)O[h]||o(O,h,r[h],!0)}},function(e,t,n){var r=n(7),i=n(1).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){"use strict";var r=n(68)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r=n(26),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";n(92);var r=n(11),i=n(9),o=n(4),a=n(37),c=n(0),s=n(48),u=c("species"),_=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=c(e),d=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=d?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[u]=function(){return n}),n[f](""),!t})):void 0;if(!d||!p||"replace"===e&&!_||"split"===e&&!l){var E=/./[f],h=n(a,f,""[e],(function(e,t,n,r,i){return t.exec===s?d&&!i?{done:!0,value:E.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),C=h[0],g=h[1];r(String.prototype,e,C),i(RegExp.prototype,f,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},function(e,t,n){"use strict";var r,i,o=n(36),a=RegExp.prototype.exec,c=String.prototype.replace,s=a,u=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),_=void 0!==/()??/.exec("")[1];(u||_)&&(s=function(e){var t,n,r,i,s=this;return _&&(n=new RegExp("^"+s.source+"$(?!\\s)",o.call(s))),u&&(t=s.lastIndex),r=a.call(s,e),u&&r&&(s.lastIndex=s.global?r.index+r[0].length:t),_&&r&&r.length>1&&c.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=s},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(22),i=n(0)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(26),i=n(0)("iterator"),o=n(22);e.exports=n(15).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(2),i=n(38),o=n(0)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(11);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(1),i=n(5),o=n(3),a=n(0)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(0)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){n(99)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){var r=n(14);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(34)("keys"),i=n(17);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(2),i=n(101),o=n(60),a=n(59)("IE_PROTO"),c=function(){},s=function(){var e,t=n(44)("iframe"),r=o.length;for(t.style.display="none",n(53).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[o[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[a]=e):n=s(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(40),i=n(20),o=n(23),a=n(35),c=n(12),s=n(67),u=Object.getOwnPropertyDescriptor;t.f=n(3)?u:function(e,t){if(e=o(e),t=a(t,!0),s)try{return u(e,t)}catch(e){}if(c(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r=n(8),i=n(39)(1);r(r.P+r.F*!n(81)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(1),i=n(12),o=n(3),a=n(8),c=n(11),s=n(115).KEY,u=n(4),_=n(34),l=n(29),f=n(17),d=n(0),p=n(85),E=n(116),h=n(117),C=n(78),g=n(2),A=n(7),O=n(10),v=n(23),I=n(35),S=n(20),T=n(61),m=n(118),R=n(62),N=n(64),y=n(5),D=n(24),P=R.f,b=y.f,w=m.f,L=r.Symbol,M=r.JSON,x=M&&M.stringify,U=d("_hidden"),j=d("toPrimitive"),K={}.propertyIsEnumerable,H=_("symbol-registry"),B=_("symbols"),F=_("op-symbols"),V=Object.prototype,k="function"==typeof L&&!!N.f,X=r.QObject,G=!X||!X.prototype||!X.prototype.findChild,Y=o&&u((function(){return 7!=T(b({},"a",{get:function(){return b(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=P(V,t);r&&delete V[t],b(e,t,n),r&&e!==V&&b(V,t,r)}:b,W=function(e){var t=B[e]=T(L.prototype);return t._k=e,t},J=k&&"symbol"==typeof L.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof L},q=function(e,t,n){return e===V&&q(F,t,n),g(e),t=I(t,!0),g(n),i(B,t)?(n.enumerable?(i(e,U)&&e[U][t]&&(e[U][t]=!1),n=T(n,{enumerable:S(0,!1)})):(i(e,U)||b(e,U,S(1,{})),e[U][t]=!0),Y(e,t,n)):b(e,t,n)},z=function(e,t){g(e);for(var n,r=h(t=v(t)),i=0,o=r.length;o>i;)q(e,n=r[i++],t[n]);return e},Z=function(e){var t=K.call(this,e=I(e,!0));return!(this===V&&i(B,e)&&!i(F,e))&&(!(t||!i(this,e)||!i(B,e)||i(this,U)&&this[U][e])||t)},$=function(e,t){if(e=v(e),t=I(t,!0),e!==V||!i(B,t)||i(F,t)){var n=P(e,t);return!n||!i(B,t)||i(e,U)&&e[U][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=w(v(e)),r=[],o=0;n.length>o;)i(B,t=n[o++])||t==U||t==s||r.push(t);return r},ee=function(e){for(var t,n=e===V,r=w(n?F:v(e)),o=[],a=0;r.length>a;)!i(B,t=r[a++])||n&&!i(V,t)||o.push(B[t]);return o};k||(c((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(F,n),i(this,U)&&i(this[U],e)&&(this[U][e]=!1),Y(this,e,S(1,n))};return o&&G&&Y(V,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),R.f=$,y.f=q,n(30).f=m.f=Q,n(40).f=Z,N.f=ee,o&&!n(16)&&c(V,"propertyIsEnumerable",Z,!0),p.f=function(e){return W(d(e))}),a(a.G+a.W+a.F*!k,{Symbol:L});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var re=D(d.store),ie=0;re.length>ie;)E(re[ie++]);a(a.S+a.F*!k,"Symbol",{for:function(e){return i(H,e+="")?H[e]:H[e]=L(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in H)if(H[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!k,"Object",{create:function(e,t){return void 0===t?T(e):z(T(e),t)},defineProperty:q,defineProperties:z,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var oe=u((function(){N.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return N.f(O(e))}}),M&&a(a.S+a.F*(!k||u((function(){var e=L();return"[null]"!=x([e])||"{}"!=x({a:e})||"{}"!=x(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(A(t)||void 0!==e)&&!J(e))return C(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!J(t))return t}),r[1]=t,x.apply(M,r)}}),L.prototype[j]||n(9)(L.prototype,j,L.prototype.valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,t,n){var r=n(5).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(3)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){e.exports=!n(3)&&!n(4)((function(){return 7!=Object.defineProperty(n(44)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(18),i=n(37);e.exports=function(e){return function(t,n){var o,a,c=String(i(t)),s=r(n),u=c.length;return s<0||s>=u?e?"":void 0:(o=c.charCodeAt(s))<55296||o>56319||s+1===u||(a=c.charCodeAt(s+1))<56320||a>57343?e?c.charAt(s):o:e?c.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(2);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r,i,o,a=n(13),c=n(94),s=n(53),u=n(44),_=n(1),l=_.process,f=_.setImmediate,d=_.clearImmediate,p=_.MessageChannel,E=_.Dispatch,h=0,C={},g=function(){var e=+this;if(C.hasOwnProperty(e)){var t=C[e];delete C[e],t()}},A=function(e){g.call(e.data)};f&&d||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return C[++h]=function(){c("function"==typeof e?e:Function(e),t)},r(h),h},d=function(e){delete C[e]},"process"==n(14)(l)?r=function(e){l.nextTick(a(g,e,1))}:E&&E.now?r=function(e){E.now(a(g,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=A,r=a(o.postMessage,o,1)):_.addEventListener&&"function"==typeof postMessage&&!_.importScripts?(r=function(e){_.postMessage(e+"","*")},_.addEventListener("message",A,!1)):r="onreadystatechange"in u("script")?function(e){s.appendChild(u("script")).onreadystatechange=function(){s.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:f,clear:d}},function(e,t,n){"use strict";var r=n(38);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){for(var r,i=n(1),o=n(9),a=n(17),c=a("typed_array"),s=a("view"),u=!(!i.ArrayBuffer||!i.DataView),_=u,l=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(r=i[f[l++]])?(o(r.prototype,c,!0),o(r.prototype,s,!0)):_=!1;e.exports={ABV:u,CONSTR:_,TYPED:c,VIEW:s}},function(e,t,n){var r=n(18),i=n(6);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(12),i=n(23),o=n(75)(!1),a=n(59)("IE_PROTO");e.exports=function(e,t){var n,c=i(e),s=0,u=[];for(n in c)n!=a&&r(c,n)&&u.push(n);for(;t.length>s;)r(c,n=t[s++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(23),i=n(6),o=n(31);e.exports=function(e){return function(t,n,a){var c,s=r(t),u=i(s.length),_=o(a,u);if(e&&n!=n){for(;u>_;)if((c=s[_++])!=c)return!0}else for(;u>_;_++)if((e||_ in s)&&s[_]===n)return e||_||0;return!e&&-1}}},function(e,t,n){"use strict";var r=n(10),i=n(31),o=n(6);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,c=i(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,u=void 0===s?n:i(s,n);u>c;)t[c++]=e;return t}},function(e,t,n){var r=n(12),i=n(10),o=n(59)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(14);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(0)("unscopables"),i=Array.prototype;null==i[r]&&n(9)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){"use strict";var r=n(16),i=n(8),o=n(11),a=n(9),c=n(22),s=n(105),u=n(29),_=n(77),l=n(0)("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,p,E,h,C){s(n,t,p);var g,A,O,v=function(e){if(!f&&e in m)return m[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},I=t+" Iterator",S="values"==E,T=!1,m=e.prototype,R=m[l]||m["@@iterator"]||E&&m[E],N=R||v(E),y=E?S?v("entries"):N:void 0,D="Array"==t&&m.entries||R;if(D&&(O=_(D.call(new e)))!==Object.prototype&&O.next&&(u(O,I,!0),r||"function"==typeof O[l]||a(O,l,d)),S&&R&&"values"!==R.name&&(T=!0,N=function(){return R.call(this)}),r&&!C||!f&&!T&&m[l]||a(m,l,N),c[t]=N,c[I]=d,E)if(g={values:S?N:v("values"),keys:h?N:v("keys"),entries:y},C)for(A in g)A in m||o(m,A,g[A]);else i(i.P+i.F*(f||T),t,g);return g}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){var r=n(1),i=n(107),o=n(5).f,a=n(30).f,c=n(83),s=n(36),u=r.RegExp,_=u,l=u.prototype,f=/a/g,d=/a/g,p=new u(f)!==f;if(n(3)&&(!p||n(4)((function(){return d[n(0)("match")]=!1,u(f)!=f||u(d)==d||"/a/i"!=u(f,"i")})))){u=function(e,t){var n=this instanceof u,r=c(e),o=void 0===t;return!n&&r&&e.constructor===u&&o?e:i(p?new _(r&&!o?e.source:e,t):_((r=e instanceof u)?e.source:e,r&&o?s.call(e):t),n?this:l,u)};for(var E=function(e){e in u||o(u,e,{configurable:!0,get:function(){return _[e]},set:function(t){_[e]=t}})},h=a(_),C=0;h.length>C;)E(h[C++]);l.constructor=u,u.prototype=l,n(11)(r,"RegExp",u)}n(55)("RegExp")},function(e,t,n){var r=n(7),i=n(14),o=n(0)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(8),i=n(39)(2);r(r.P+r.F*!n(81)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){t.f=n(0)},function(e,t,n){"use strict";var r=n(13),i=n(8),o=n(10),a=n(69),c=n(50),s=n(6),u=n(119),_=n(51);i(i.S+i.F*!n(56)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,l,f=o(e),d="function"==typeof this?this:Array,p=arguments.length,E=p>1?arguments[1]:void 0,h=void 0!==E,C=0,g=_(f);if(h&&(E=r(E,p>2?arguments[2]:void 0,2)),null==g||d==Array&&c(g))for(n=new d(t=s(f.length));t>C;C++)u(n,C,h?E(f[C],C):f[C]);else for(l=g.call(f),n=new d;!(i=l.next()).done;C++)u(n,C,h?a(l,E,[i.value,C],!0):i.value);return n.length=C,n}})},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */!function(){"use strict";var root="object"==typeof window?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS&&(root=global);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(122),HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(e){return function(t){return new Sha1(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Sha1},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("sha1").update(e,"utf8").digest("hex");if(e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return method(e);return crypto.createHash("sha1").update(new Buffer(e)).digest("hex")};return nodeMethod};function Sha1(e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&e.constructor===root.ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,i=0,o=e.length||0,a=this.blocks;i<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(r=this.start;i<o&&r<64;++i)a[r>>2]|=e[i]<<SHIFT[3&r++];else for(r=this.start;i<o&&r<64;++i)(n=e.charCodeAt(i))<128?a[r>>2]|=n<<SHIFT[3&r++]:n<2048?(a[r>>2]|=(192|n>>6)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]):n<55296||n>=57344?(a[r>>2]|=(224|n>>12)<<SHIFT[3&r++],a[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),a[r>>2]|=(240|n>>18)<<SHIFT[3&r++],a[r>>2]|=(128|n>>12&63)<<SHIFT[3&r++],a[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=a[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var e,t,n=this.h0,r=this.h1,i=this.h2,o=this.h3,a=this.h4,c=this.blocks;for(e=16;e<80;++e)t=c[e-3]^c[e-8]^c[e-14]^c[e-16],c[e]=t<<1|t>>>31;for(e=0;e<20;e+=5)n=(t=(r=(t=(i=(t=(o=(t=(a=(t=n<<5|n>>>27)+(r&i|~r&o)+a+1518500249+c[e]<<0)<<5|a>>>27)+(n&(r=r<<30|r>>>2)|~n&i)+o+1518500249+c[e+1]<<0)<<5|o>>>27)+(a&(n=n<<30|n>>>2)|~a&r)+i+1518500249+c[e+2]<<0)<<5|i>>>27)+(o&(a=a<<30|a>>>2)|~o&n)+r+1518500249+c[e+3]<<0)<<5|r>>>27)+(i&(o=o<<30|o>>>2)|~i&a)+n+1518500249+c[e+4]<<0,i=i<<30|i>>>2;for(;e<40;e+=5)n=(t=(r=(t=(i=(t=(o=(t=(a=(t=n<<5|n>>>27)+(r^i^o)+a+1859775393+c[e]<<0)<<5|a>>>27)+(n^(r=r<<30|r>>>2)^i)+o+1859775393+c[e+1]<<0)<<5|o>>>27)+(a^(n=n<<30|n>>>2)^r)+i+1859775393+c[e+2]<<0)<<5|i>>>27)+(o^(a=a<<30|a>>>2)^n)+r+1859775393+c[e+3]<<0)<<5|r>>>27)+(i^(o=o<<30|o>>>2)^a)+n+1859775393+c[e+4]<<0,i=i<<30|i>>>2;for(;e<60;e+=5)n=(t=(r=(t=(i=(t=(o=(t=(a=(t=n<<5|n>>>27)+(r&i|r&o|i&o)+a-1894007588+c[e]<<0)<<5|a>>>27)+(n&(r=r<<30|r>>>2)|n&i|r&i)+o-1894007588+c[e+1]<<0)<<5|o>>>27)+(a&(n=n<<30|n>>>2)|a&r|n&r)+i-1894007588+c[e+2]<<0)<<5|i>>>27)+(o&(a=a<<30|a>>>2)|o&n|a&n)+r-1894007588+c[e+3]<<0)<<5|r>>>27)+(i&(o=o<<30|o>>>2)|i&a|o&a)+n-1894007588+c[e+4]<<0,i=i<<30|i>>>2;for(;e<80;e+=5)n=(t=(r=(t=(i=(t=(o=(t=(a=(t=n<<5|n>>>27)+(r^i^o)+a-899497514+c[e]<<0)<<5|a>>>27)+(n^(r=r<<30|r>>>2)^i)+o-899497514+c[e+1]<<0)<<5|o>>>27)+(a^(n=n<<30|n>>>2)^r)+i-899497514+c[e+2]<<0)<<5|i>>>27)+(o^(a=a<<30|a>>>2)^n)+r-899497514+c[e+3]<<0)<<5|r>>>27)+(i^(o=o<<30|o>>>2)^a)+n-899497514+c[e+4]<<0,i=i<<30|i>>>2;this.h0=this.h0+n<<0,this.h1=this.h1+r<<0,this.h2=this.h2+i<<0,this.h3=this.h3+o<<0,this.h4=this.h4+a<<0},Sha1.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4;return HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var exports=createMethod();COMMON_JS?module.exports=exports:(root.sha1=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(120),__webpack_require__(121))},function(e,t,n){e.exports=n(124)},function(e,t){!function(e){"use strict";e.console||(e.console={});for(var t,n,r=e.console,i=function(){},o=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)r[t]||(r[t]={});for(;n=a.pop();)r[n]||(r[n]=i)}("undefined"==typeof window?this:window)},function(e,t,n){e.exports=n(34)("native-function-to-string",Function.toString)},function(e,t,n){n(3)&&"g"!=/./g.flags&&n(5).f(RegExp.prototype,"flags",{configurable:!0,get:n(36)})},function(e,t,n){"use strict";var r=n(48);n(8)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){var r=n(13),i=n(69),o=n(50),a=n(2),c=n(6),s=n(51),u={},_={};(t=e.exports=function(e,t,n,l,f){var d,p,E,h,C=f?function(){return e}:s(e),g=r(n,l,t?2:1),A=0;if("function"!=typeof C)throw TypeError(e+" is not iterable!");if(o(C)){for(d=c(e.length);d>A;A++)if((h=t?g(a(p=e[A])[0],p[1]):g(e[A]))===u||h===_)return h}else for(E=C.call(e);!(p=E.next()).done;)if((h=i(E,g,p.value,t))===u||h===_)return h}).BREAK=u,t.RETURN=_},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(1),i=n(70).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,c=r.Promise,s="process"==n(14)(a);e.exports=function(){var e,t,n,u=function(){var r,i;for(s&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var _=c.resolve(void 0);n=function(){_.then(u)}}else n=function(){i.call(r,u)};else{var l=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(1).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(2),i=n(7),o=n(71);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";if(n(3)){var r=n(16),i=n(1),o=n(4),a=n(8),c=n(72),s=n(100),u=n(13),_=n(49),l=n(20),f=n(9),d=n(54),p=n(18),E=n(6),h=n(73),C=n(31),g=n(35),A=n(12),O=n(26),v=n(7),I=n(10),S=n(50),T=n(61),m=n(77),R=n(30).f,N=n(51),y=n(17),D=n(0),P=n(39),b=n(75),w=n(52),L=n(25),M=n(22),x=n(56),U=n(55),j=n(76),K=n(106),H=n(5),B=n(62),F=H.f,V=B.f,k=i.RangeError,X=i.TypeError,G=i.Uint8Array,Y=Array.prototype,W=s.ArrayBuffer,J=s.DataView,q=P(0),z=P(2),Z=P(3),$=P(4),Q=P(5),ee=P(6),te=b(!0),ne=b(!1),re=L.values,ie=L.keys,oe=L.entries,ae=Y.lastIndexOf,ce=Y.reduce,se=Y.reduceRight,ue=Y.join,_e=Y.sort,le=Y.slice,fe=Y.toString,de=Y.toLocaleString,pe=D("iterator"),Ee=D("toStringTag"),he=y("typed_constructor"),Ce=y("def_constructor"),ge=c.CONSTR,Ae=c.TYPED,Oe=c.VIEW,ve=P(1,(function(e,t){return Re(w(e,e[Ce]),t)})),Ie=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),Se=!!G&&!!G.prototype.set&&o((function(){new G(1).set({})})),Te=function(e,t){var n=p(e);if(n<0||n%t)throw k("Wrong offset!");return n},me=function(e){if(v(e)&&Ae in e)return e;throw X(e+" is not a typed array!")},Re=function(e,t){if(!v(e)||!(he in e))throw X("It is not a typed array constructor!");return new e(t)},Ne=function(e,t){return ye(w(e,e[Ce]),t)},ye=function(e,t){for(var n=0,r=t.length,i=Re(e,r);r>n;)i[n]=t[n++];return i},De=function(e,t,n){F(e,t,{get:function(){return this._d[n]}})},Pe=function(e){var t,n,r,i,o,a,c=I(e),s=arguments.length,_=s>1?arguments[1]:void 0,l=void 0!==_,f=N(c);if(null!=f&&!S(f)){for(a=f.call(c),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);c=r}for(l&&s>2&&(_=u(_,arguments[2],2)),t=0,n=E(c.length),i=Re(this,n);n>t;t++)i[t]=l?_(c[t],t):c[t];return i},be=function(){for(var e=0,t=arguments.length,n=Re(this,t);t>e;)n[e]=arguments[e++];return n},we=!!G&&o((function(){de.call(new G(1))})),Le=function(){return de.apply(we?le.call(me(this)):me(this),arguments)},Me={copyWithin:function(e,t){return K.call(me(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return $(me(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return j.apply(me(this),arguments)},filter:function(e){return Ne(this,z(me(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(me(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(me(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){q(me(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(me(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(me(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(me(this),arguments)},lastIndexOf:function(e){return ae.apply(me(this),arguments)},map:function(e){return ve(me(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ce.apply(me(this),arguments)},reduceRight:function(e){return se.apply(me(this),arguments)},reverse:function(){for(var e,t=me(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return Z(me(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return _e.call(me(this),e)},subarray:function(e,t){var n=me(this),r=n.length,i=C(e,r);return new(w(n,n[Ce]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,E((void 0===t?r:C(t,r))-i))}},xe=function(e,t){return Ne(this,le.call(me(this),e,t))},Ue=function(e){me(this);var t=Te(arguments[1],1),n=this.length,r=I(e),i=E(r.length),o=0;if(i+t>n)throw k("Wrong length!");for(;o<i;)this[t+o]=r[o++]},je={entries:function(){return oe.call(me(this))},keys:function(){return ie.call(me(this))},values:function(){return re.call(me(this))}},Ke=function(e,t){return v(e)&&e[Ae]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},He=function(e,t){return Ke(e,t=g(t,!0))?l(2,e[t]):V(e,t)},Be=function(e,t,n){return!(Ke(e,t=g(t,!0))&&v(n)&&A(n,"value"))||A(n,"get")||A(n,"set")||n.configurable||A(n,"writable")&&!n.writable||A(n,"enumerable")&&!n.enumerable?F(e,t,n):(e[t]=n.value,e)};ge||(B.f=He,H.f=Be),a(a.S+a.F*!ge,"Object",{getOwnPropertyDescriptor:He,defineProperty:Be}),o((function(){fe.call({})}))&&(fe=de=function(){return ue.call(this)});var Fe=d({},Me);d(Fe,je),f(Fe,pe,je.values),d(Fe,{slice:xe,set:Ue,constructor:function(){},toString:fe,toLocaleString:Le}),De(Fe,"buffer","b"),De(Fe,"byteOffset","o"),De(Fe,"byteLength","l"),De(Fe,"length","e"),F(Fe,Ee,{get:function(){return this[Ae]}}),e.exports=function(e,t,n,s){var u=e+((s=!!s)?"Clamped":"")+"Array",l="get"+e,d="set"+e,p=i[u],C=p||{},g=p&&m(p),A=!p||!c.ABV,I={},S=p&&p.prototype,N=function(e,n){F(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[l](n*t+r.o,Ie)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*t+i.o,r,Ie)}(this,n,e)},enumerable:!0})};A?(p=n((function(e,n,r,i){_(e,p,u,"_d");var o,a,c,s,l=0,d=0;if(v(n)){if(!(n instanceof W||"ArrayBuffer"==(s=O(n))||"SharedArrayBuffer"==s))return Ae in n?ye(p,n):Pe.call(p,n);o=n,d=Te(r,t);var C=n.byteLength;if(void 0===i){if(C%t)throw k("Wrong length!");if((a=C-d)<0)throw k("Wrong length!")}else if((a=E(i)*t)+d>C)throw k("Wrong length!");c=a/t}else c=h(n),o=new W(a=c*t);for(f(e,"_d",{b:o,o:d,l:a,e:c,v:new J(o)});l<c;)N(e,l++)})),S=p.prototype=T(Fe),f(S,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&x((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=n((function(e,n,r,i){var o;return _(e,p,u),v(n)?n instanceof W||"ArrayBuffer"==(o=O(n))||"SharedArrayBuffer"==o?void 0!==i?new C(n,Te(r,t),i):void 0!==r?new C(n,Te(r,t)):new C(n):Ae in n?ye(p,n):Pe.call(p,n):new C(h(n))})),q(g!==Function.prototype?R(C).concat(R(g)):R(C),(function(e){e in p||f(p,e,C[e])})),p.prototype=S,r||(S.constructor=p));var y=S[pe],D=!!y&&("values"==y.name||null==y.name),P=je.values;f(p,he,!0),f(S,Ae,u),f(S,Oe,!0),f(S,Ce,p),(s?new p(1)[Ee]==u:Ee in S)||F(S,Ee,{get:function(){return u}}),I[u]=p,a(a.G+a.W+a.F*(p!=C),I),a(a.S,u,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){C.of.call(p,1)})),u,{from:Pe,of:be}),"BYTES_PER_ELEMENT"in S||f(S,"BYTES_PER_ELEMENT",t),a(a.P,u,Me),U(u),a(a.P+a.F*Se,u,{set:Ue}),a(a.P+a.F*!D,u,je),r||S.toString==fe||(S.toString=fe),a(a.P+a.F*o((function(){new p(1).slice()})),u,{slice:xe}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),u,{toLocaleString:Le}),M[u]=D?y:P,r||D||f(S,pe,P)}}else e.exports=function(){}},function(e,t,n){"use strict";var r=n(1),i=n(3),o=n(16),a=n(72),c=n(9),s=n(54),u=n(4),_=n(49),l=n(18),f=n(6),d=n(73),p=n(30).f,E=n(5).f,h=n(76),C=n(29),g=r.ArrayBuffer,A=r.DataView,O=r.Math,v=r.RangeError,I=r.Infinity,S=g,T=O.abs,m=O.pow,R=O.floor,N=O.log,y=O.LN2,D=i?"_b":"buffer",P=i?"_l":"byteLength",b=i?"_o":"byteOffset";function w(e,t,n){var r,i,o,a=new Array(n),c=8*n-t-1,s=(1<<c)-1,u=s>>1,_=23===t?m(2,-24)-m(2,-77):0,l=0,f=e<0||0===e&&1/e<0?1:0;for((e=T(e))!=e||e===I?(i=e!=e?1:0,r=s):(r=R(N(e)/y),e*(o=m(2,-r))<1&&(r--,o*=2),(e+=r+u>=1?_/o:_*m(2,1-u))*o>=2&&(r++,o/=2),r+u>=s?(i=0,r=s):r+u>=1?(i=(e*o-1)*m(2,t),r+=u):(i=e*m(2,u-1)*m(2,t),r=0));t>=8;a[l++]=255&i,i/=256,t-=8);for(r=r<<t|i,c+=t;c>0;a[l++]=255&r,r/=256,c-=8);return a[--l]|=128*f,a}function L(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,c=i-7,s=n-1,u=e[s--],_=127&u;for(u>>=7;c>0;_=256*_+e[s],s--,c-=8);for(r=_&(1<<-c)-1,_>>=-c,c+=t;c>0;r=256*r+e[s],s--,c-=8);if(0===_)_=1-a;else{if(_===o)return r?NaN:u?-I:I;r+=m(2,t),_-=a}return(u?-1:1)*r*m(2,_-t)}function M(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function x(e){return[255&e]}function U(e){return[255&e,e>>8&255]}function j(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function K(e){return w(e,52,8)}function H(e){return w(e,23,4)}function B(e,t,n){E(e.prototype,t,{get:function(){return this[n]}})}function F(e,t,n,r){var i=d(+n);if(i+t>e[P])throw v("Wrong index!");var o=e[D]._b,a=i+e[b],c=o.slice(a,a+t);return r?c:c.reverse()}function V(e,t,n,r,i,o){var a=d(+n);if(a+t>e[P])throw v("Wrong index!");for(var c=e[D]._b,s=a+e[b],u=r(+i),_=0;_<t;_++)c[s+_]=u[o?_:t-_-1]}if(a.ABV){if(!u((function(){g(1)}))||!u((function(){new g(-1)}))||u((function(){return new g,new g(1.5),new g(NaN),"ArrayBuffer"!=g.name}))){for(var k,X=(g=function(e){return _(this,g),new S(d(e))}).prototype=S.prototype,G=p(S),Y=0;G.length>Y;)(k=G[Y++])in g||c(g,k,S[k]);o||(X.constructor=g)}var W=new A(new g(2)),J=A.prototype.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||s(A.prototype,{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},!0)}else g=function(e){_(this,g,"ArrayBuffer");var t=d(e);this._b=h.call(new Array(t),0),this[P]=t},A=function(e,t,n){_(this,A,"DataView"),_(e,g,"DataView");var r=e[P],i=l(t);if(i<0||i>r)throw v("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw v("Wrong length!");this[D]=e,this[b]=i,this[P]=n},i&&(B(g,"byteLength","_l"),B(A,"buffer","_b"),B(A,"byteLength","_l"),B(A,"byteOffset","_o")),s(A.prototype,{getInt8:function(e){return F(this,1,e)[0]<<24>>24},getUint8:function(e){return F(this,1,e)[0]},getInt16:function(e){var t=F(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=F(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return M(F(this,4,e,arguments[1]))},getUint32:function(e){return M(F(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return L(F(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return L(F(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){V(this,1,e,x,t)},setUint8:function(e,t){V(this,1,e,x,t)},setInt16:function(e,t){V(this,2,e,U,t,arguments[2])},setUint16:function(e,t){V(this,2,e,U,t,arguments[2])},setInt32:function(e,t){V(this,4,e,j,t,arguments[2])},setUint32:function(e,t){V(this,4,e,j,t,arguments[2])},setFloat32:function(e,t){V(this,4,e,H,t,arguments[2])},setFloat64:function(e,t){V(this,8,e,K,t,arguments[2])}});C(g,"ArrayBuffer"),C(A,"DataView"),c(A.prototype,a.VIEW,!0),t.ArrayBuffer=g,t.DataView=A},function(e,t,n){var r=n(5),i=n(2),o=n(24);e.exports=n(3)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),c=a.length,s=0;c>s;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(103);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(7),i=n(78),o=n(0)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(61),i=n(20),o=n(29),a={};n(9)(a,n(0)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(10),i=n(31),o=n(6);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),c=i(e,a),s=i(t,a),u=arguments.length>2?arguments[2]:void 0,_=Math.min((void 0===u?a:i(u,a))-s,a-c),l=1;for(s<c&&c<s+_&&(l=-1,s+=_-1,c+=_-1);_-- >0;)s in n?n[c]=n[s]:delete n[c],c+=l,s+=l;return n}},function(e,t,n){var r=n(7),i=n(108).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){var r=n(7),i=n(2),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(13)(Function.call,n(62).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){var r=n(10),i=n(24);n(110)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(8),i=n(15),o=n(4);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){"use strict";var r=n(8),i=n(39)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(79)("find")},function(e,t,n){"use strict";var r=n(83),i=n(2),o=n(52),a=n(45),c=n(6),s=n(46),u=n(48),_=n(4),l=Math.min,f=[].push,d="length",p=!_((function(){RegExp(4294967295,"y")}));n(47)("split",2,(function(e,t,n,_){var E;return E="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,c,s=[],_=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,p=void 0===t?4294967295:t>>>0,E=new RegExp(e.source,_+"g");(o=u.call(E,i))&&!((a=E.lastIndex)>l&&(s.push(i.slice(l,o.index)),o[d]>1&&o.index<i[d]&&f.apply(s,o.slice(1)),c=o[0][d],l=a,s[d]>=p));)E.lastIndex===o.index&&E.lastIndex++;return l===i[d]?!c&&E.test("")||s.push(""):s.push(i.slice(l)),s[d]>p?s.slice(0,p):s}:"0".split(void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):E.call(String(i),n,r)},function(e,t){var r=_(E,e,this,t,E!==n);if(r.done)return r.value;var u=i(e),f=String(this),d=o(u,RegExp),h=u.unicode,C=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(p?"y":"g"),g=new d(p?u:"^(?:"+u.source+")",C),A=void 0===t?4294967295:t>>>0;if(0===A)return[];if(0===f.length)return null===s(g,f)?[f]:[];for(var O=0,v=0,I=[];v<f.length;){g.lastIndex=p?v:0;var S,T=s(g,p?f:f.slice(v));if(null===T||(S=l(c(g.lastIndex+(p?0:v)),f.length))===O)v=a(f,v,h);else{if(I.push(f.slice(O,v)),I.length===A)return I;for(var m=1;m<=T.length-1;m++)if(I.push(T[m]),I.length===A)return I;v=O=S}}return I.push(f.slice(O)),I}]}))},function(e,t,n){var r=n(8);r(r.S+r.F,"Object",{assign:n(114)})},function(e,t,n){"use strict";var r=n(3),i=n(24),o=n(64),a=n(40),c=n(10),s=n(58),u=Object.assign;e.exports=!u||n(4)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=c(e),u=arguments.length,_=1,l=o.f,f=a.f;u>_;)for(var d,p=s(arguments[_++]),E=l?i(p).concat(l(p)):i(p),h=E.length,C=0;h>C;)d=E[C++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:u},function(e,t,n){var r=n(17)("meta"),i=n(7),o=n(12),a=n(5).f,c=0,s=Object.isExtensible||function(){return!0},u=!n(4)((function(){return s(Object.preventExtensions({}))})),_=function(e){a(e,r,{value:{i:"O"+ ++c,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!s(e))return"F";if(!t)return"E";_(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!s(e))return!0;if(!t)return!1;_(e)}return e[r].w},onFreeze:function(e){return u&&l.NEED&&s(e)&&!o(e,r)&&_(e),e}}},function(e,t,n){var r=n(1),i=n(15),o=n(16),a=n(85),c=n(5).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||c(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(24),i=n(64),o=n(40);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,c=n(e),s=o.f,u=0;c.length>u;)s.call(e,a=c[u++])&&t.push(a);return t}},function(e,t,n){var r=n(23),i=n(30).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){"use strict";var r=n(5),i=n(20);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,u=[],_=!1,l=-1;function f(){_&&s&&(_=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!_){var e=c(f);_=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,_=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function E(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||_||c(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=E,i.addListener=E,i.once=E,i.off=E,i.removeListener=E,i.removeAllListeners=E,i.emit=E,i.prependListener=E,i.prependOnceListener=E,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){(function(t){e.exports=t}).call(this,{})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(19),core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_promise_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(28),core_js_modules_es6_promise_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_promise_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_regexp_match_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(32),core_js_modules_es6_regexp_match_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_regexp_match_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_regexp_replace_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27),core_js_modules_es6_regexp_replace_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_replace_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_array_slice_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),core_js_modules_es6_array_slice_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_array_slice_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_function_name_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(66),core_js_modules_es6_function_name_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_function_name_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(21),core_js_modules_es6_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_symbol_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(65),core_js_modules_es6_symbol_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_symbol_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_string_iterator_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(42),core_js_modules_es6_string_iterator_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_string_iterator_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_array_iterator_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(25),core_js_modules_es6_array_iterator_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_array_iterator_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_web_dom_iterable_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(43),core_js_modules_web_dom_iterable_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_web_dom_iterable_js__WEBPACK_IMPORTED_MODULE_10__);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){if(!window.cadesplugin){var pluginObject,plugin_resolved=0,plugin_reject,plugin_resolve,isOpera=0,isFireFox=0,isSafari=0,isYandex=0,canPromise=!!window.Promise,cadesplugin;cadesplugin=canPromise?new Promise((function(e,t){plugin_resolve=e,plugin_reject=t})):{};var browserSpecs=check_browser(),ru_cryptopro_npcades_10_native_bridge={callbacksCount:1,callbacks:{},resultForCallback:function(e,t){var n=ru_cryptopro_npcades_10_native_bridge.callbacks[e];n&&n.apply(null,t)},call:function(e,t,n){var r=n&&"function"==typeof n,i=r?ru_cryptopro_npcades_10_native_bridge.callbacksCount++:0;r&&(ru_cryptopro_npcades_10_native_bridge.callbacks[i]=n);var o=document.createElement("IFRAME"),a=new Array("_CPNP_handle");try{o.setAttribute("src","cpnp-js-call:"+e+":"+i+":"+encodeURIComponent(JSON.stringify(t,a)))}catch(e){alert(e)}document.documentElement.appendChild(o),o.parentNode.removeChild(o),o=null}};cadesplugin.JSModuleVersion="2.3.0",cadesplugin.async_spawn=async_spawn,cadesplugin.set=set_pluginObject,cadesplugin.set_log_level=set_log_level,cadesplugin.getLastError=getLastError,cadesplugin.is_capilite_enabled=is_capilite_enabled,isNativeMessageSupported()&&(cadesplugin.CreateObjectAsync=CreateObjectAsync,cadesplugin.ReleasePluginObjects=ReleasePluginObjects),isNativeMessageSupported()||(cadesplugin.CreateObject=CreateObject),window.cadesplugin_load_timeout?setTimeout(check_load_timeout,window.cadesplugin_load_timeout):setTimeout(check_load_timeout,2e4),set_constantValues(),cadesplugin.current_log_level=cadesplugin.LOG_LEVEL_ERROR,window.cadesplugin=cadesplugin,check_plugin_working()}function check_browser(){var e,t=navigator.userAgent,n=t.match(/(opera|yabrowser|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edg|YaBrowser)\/(\d+)/))?{name:e[1].replace("OPR","Opera"),version:e[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}function cpcsp_console_log(e,t){if("undefined"!=typeof console)return e<=cadesplugin.current_log_level?(e===cadesplugin.LOG_LEVEL_DEBUG&&console.log("DEBUG: %s",t),e===cadesplugin.LOG_LEVEL_INFO&&console.info("INFO: %s",t),void(e===cadesplugin.LOG_LEVEL_ERROR&&console.error("ERROR: %s",t))):void 0}function set_log_level(e){e===cadesplugin.LOG_LEVEL_DEBUG||e===cadesplugin.LOG_LEVEL_INFO||e===cadesplugin.LOG_LEVEL_ERROR?(cadesplugin.current_log_level=e,cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = DEBUG"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = INFO"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&cpcsp_console_log(cadesplugin.LOG_LEVEL_INFO,"cadesplugin_api.js: log_level = ERROR"),isNativeMessageSupported()&&(cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_DEBUG&&window.postMessage("set_log_level=debug","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_INFO&&window.postMessage("set_log_level=info","*"),cadesplugin.current_log_level===cadesplugin.LOG_LEVEL_ERROR&&window.postMessage("set_log_level=error","*"))):cpcsp_console_log(cadesplugin.LOG_LEVEL_ERROR,"cadesplugin_api.js: Incorrect log_level: "+e)}function set_constantValues(){cadesplugin.CAPICOM_MEMORY_STORE=0,cadesplugin.CAPICOM_LOCAL_MACHINE_STORE=1,cadesplugin.CAPICOM_CURRENT_USER_STORE=2,cadesplugin.CADESCOM_MEMORY_STORE=0,cadesplugin.CADESCOM_LOCAL_MACHINE_STORE=1,cadesplugin.CADESCOM_CURRENT_USER_STORE=2,cadesplugin.CADESCOM_CONTAINER_STORE=100,cadesplugin.CAPICOM_MY_STORE="My",cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPED=0,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_ENVELOPING=1,cadesplugin.CADESCOM_XML_SIGNATURE_TYPE_TEMPLATE=2,cadesplugin.CADESCOM_XADES_DEFAULT=16,cadesplugin.CADESCOM_XADES_BES=32,cadesplugin.CADESCOM_XADES_T=80,cadesplugin.CADESCOM_XADES_X_LONG_TYPE_1=1488,cadesplugin.CADESCOM_XMLDSIG_TYPE=0,cadesplugin.XmlDsigGost3410UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411UrlObsolete="http://www.w3.org/2001/04/xmldsig-more#gostr3411",cadesplugin.XmlDsigGost3410Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102001-gostr3411",cadesplugin.XmlDsigGost3411Url="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr3411",cadesplugin.XmlDsigGost3411Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-256",cadesplugin.XmlDsigGost3410Url2012256="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-256",cadesplugin.XmlDsigGost3411Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34112012-512",cadesplugin.XmlDsigGost3410Url2012512="urn:ietf:params:xml:ns:cpxmlsec:algorithms:gostr34102012-gostr34112012-512",cadesplugin.CADESCOM_CADES_DEFAULT=0,cadesplugin.CADESCOM_CADES_BES=1,cadesplugin.CADESCOM_CADES_T=5,cadesplugin.CADESCOM_CADES_X_LONG_TYPE_1=93,cadesplugin.CADESCOM_PKCS7_TYPE=65535,cadesplugin.CADESCOM_ENCODE_BASE64=0,cadesplugin.CADESCOM_ENCODE_BINARY=1,cadesplugin.CADESCOM_ENCODE_ANY=-1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_CHAIN_EXCEPT_ROOT=0,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_WHOLE_CHAIN=1,cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY=2,cadesplugin.CAPICOM_CERT_INFO_SUBJECT_SIMPLE_NAME=0,cadesplugin.CAPICOM_CERT_INFO_ISSUER_SIMPLE_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH=0,cadesplugin.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,cadesplugin.CAPICOM_CERTIFICATE_FIND_ISSUER_NAME=2,cadesplugin.CAPICOM_CERTIFICATE_FIND_ROOT_NAME=3,cadesplugin.CAPICOM_CERTIFICATE_FIND_TEMPLATE_NAME=4,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENSION=5,cadesplugin.CAPICOM_CERTIFICATE_FIND_EXTENDED_PROPERTY=6,cadesplugin.CAPICOM_CERTIFICATE_FIND_APPLICATION_POLICY=7,cadesplugin.CAPICOM_CERTIFICATE_FIND_CERTIFICATE_POLICY=8,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_VALID=9,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_NOT_YET_VALID=10,cadesplugin.CAPICOM_CERTIFICATE_FIND_TIME_EXPIRED=11,cadesplugin.CAPICOM_CERTIFICATE_FIND_KEY_USAGE=12,cadesplugin.CAPICOM_DIGITAL_SIGNATURE_KEY_USAGE=128,cadesplugin.CAPICOM_PROPID_ENHKEY_USAGE=9,cadesplugin.CAPICOM_OID_OTHER=0,cadesplugin.CAPICOM_OID_KEY_USAGE_EXTENSION=10,cadesplugin.CAPICOM_EKU_CLIENT_AUTH=2,cadesplugin.CAPICOM_EKU_SMARTCARD_LOGON=5,cadesplugin.CAPICOM_EKU_OTHER=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CAPICOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME=0,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_NAME=1,cadesplugin.CADESCOM_AUTHENTICATED_ATTRIBUTE_DOCUMENT_DESCRIPTION=2,cadesplugin.CADESCOM_ATTRIBUTE_OTHER=-1,cadesplugin.CADESCOM_STRING_TO_UCS2LE=0,cadesplugin.CADESCOM_BASE64_TO_BINARY=1,cadesplugin.CADESCOM_DISPLAY_DATA_NONE=0,cadesplugin.CADESCOM_DISPLAY_DATA_CONTENT=1,cadesplugin.CADESCOM_DISPLAY_DATA_ATTRIBUTE=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC2=0,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_RC4=1,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_DES=2,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_3DES=3,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_AES=4,cadesplugin.CADESCOM_ENCRYPTION_ALGORITHM_GOST_28147_89=25,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA1=0,cadesplugin.CADESCOM_HASH_ALGORITHM_MD2=1,cadesplugin.CADESCOM_HASH_ALGORITHM_MD4=2,cadesplugin.CADESCOM_HASH_ALGORITHM_MD5=3,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_256=4,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_384=5,cadesplugin.CADESCOM_HASH_ALGORITHM_SHA_512=6,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411=100,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256=101,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512=102,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_HMAC=110,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_256_HMAC=111,cadesplugin.CADESCOM_HASH_ALGORITHM_CP_GOST_3411_2012_512_HMAC=112,cadesplugin.LOG_LEVEL_DEBUG=4,cadesplugin.LOG_LEVEL_INFO=2,cadesplugin.LOG_LEVEL_ERROR=1,cadesplugin.CADESCOM_AllowNone=0,cadesplugin.CADESCOM_AllowNoOutstandingRequest=1,cadesplugin.CADESCOM_AllowUntrustedCertificate=2,cadesplugin.CADESCOM_AllowUntrustedRoot=4,cadesplugin.CADESCOM_SkipInstallToStore=268435456,cadesplugin.ENABLE_CARRIER_TYPE_CSP=1,cadesplugin.ENABLE_CARRIER_TYPE_FKC_NO_SM=2,cadesplugin.ENABLE_CARRIER_TYPE_FKC_SM=4,cadesplugin.ENABLE_ANY_CARRIER_TYPE=7,cadesplugin.DISABLE_EVERY_CARRIER_OPERATION=0,cadesplugin.ENABLE_CARRIER_OPEN_ENUM=1,cadesplugin.ENABLE_CARRIER_CREATE=2,cadesplugin.ENABLE_ANY_OPERATION=3,cadesplugin.CADESCOM_PRODUCT_CSP=0,cadesplugin.CADESCOM_PRODUCT_OCSP=1,cadesplugin.CADESCOM_PRODUCT_TSP=2,cadesplugin.MEDIA_TYPE_REGISTRY=1,cadesplugin.MEDIA_TYPE_HDIMAGE=2,cadesplugin.MEDIA_TYPE_CLOUD=4,cadesplugin.MEDIA_TYPE_SCARD=8}function async_spawn(e){function t(e,t){var o;try{o=n[e](t)}catch(e){return Promise.reject(e)}return o.done?o.value:Promise.resolve(o.value).then(r,i)}var n=e(Array.prototype.slice.call(arguments,1)),r=t.bind(t,"next"),i=t.bind(t,"throw");return r()}function isIE(){return"IE"===browserSpecs.name||"MSIE"===browserSpecs.name}function isIOS(){return navigator.userAgent.match(/ipod/i)||navigator.userAgent.match(/ipad/i)||navigator.userAgent.match(/iphone/i)}function isNativeMessageSupported(){return!isIE()&&("Edg"===browserSpecs.name||("YaBrowser"===browserSpecs.name?(isYandex=!0,!0):"Opera"===browserSpecs.name?(isOpera=!0,browserSpecs.version>=33):"Firefox"===browserSpecs.name?(isFireFox=!0,browserSpecs.version>=52):"Chrome"===browserSpecs.name?browserSpecs.version>=42:"Safari"===browserSpecs.name?(isSafari=!0,browserSpecs.version>=12):void 0))}function CreateObject(e){if(isIOS())return call_ru_cryptopro_npcades_10_native_bridge("CreateObject",[e]);if(isIE()){if(e.match(/X509Enrollment/i))try{return document.getElementById("webClassFactory").CreateObject(e)}catch(t){try{return document.getElementById("certEnrollClassFactory").CreateObject(e)}catch(e){throw"Для создания обьектов X509Enrollment следует настроить веб-узел на использование проверки подлинности по протоколу HTTPS"}}try{return document.getElementById("webClassFactory").CreateObject(e)}catch(t){return new ActiveXObject(e)}}return pluginObject.CreateObject(e)}function decimalToHexString(e){return e<0&&(e=4294967295+e+1),e.toString(16).toUpperCase()}function GetMessageFromException(e){var t=e.message;return t?e.number&&(t+=" (0x"+decimalToHexString(e.number)+")"):t=e,t}function getLastError(e){if(isNativeMessageSupported()||isIE()||isIOS())return GetMessageFromException(e);try{return pluginObject.getLastError()}catch(t){return GetMessageFromException(e)}}function ReleasePluginObjects(){return cpcsp_chrome_nmcades.ReleasePluginObjects()}function CreateObjectAsync(e){return pluginObject.CreateObjectAsync(e)}function call_ru_cryptopro_npcades_10_native_bridge(functionName,array){var tmpobj,ex;if(ru_cryptopro_npcades_10_native_bridge.call(functionName,array,(function(e,response){ex=e;var str="tmpobj="+response;eval(str),"string"==typeof tmpobj&&(tmpobj=tmpobj.replace(/\\\n/gm,"\n"),tmpobj=tmpobj.replace(/\\\r/gm,"\r"))})),ex)throw ex;return tmpobj}function show_firefox_missing_extension_dialog(){if(!window.cadesplugin_skip_extension_install){var e=document.createElement("div");e.id="cadesplugin_ovr",e.style="visibility: hidden; position: fixed; left: 0px; top: 0px; width:100%; height:100%; background-color: rgba(0,0,0,0.7)",e.innerHTML="<div id='cadesplugin_ovr_item' style='position:relative; width:400px; margin:100px auto; background-color:#fff; border:2px solid #000; padding:10px; text-align:center; opacity: 1; z-index: 1500'><button id='cadesplugin_close_install' style='float: right; font-size: 10px; background: transparent; border: 1; margin: -5px'>X</button><p>Для работы КриптоПро ЭЦП Browser plugin на данном сайте необходимо расширение для браузера. Убедитесь, что оно у Вас включено или установите его.<p><a href='https://www.cryptopro.ru/sites/default/files/products/cades/extensions/firefox_cryptopro_extension_latest.xpi'>Скачать расширение</a></p></div>",document.getElementsByTagName("Body")[0].appendChild(e),document.getElementById("cadesplugin_close_install").addEventListener("click",(function(){plugin_loaded_error("Плагин недоступен"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"})),e.addEventListener("click",(function(){plugin_loaded_error("Плагин недоступен"),document.getElementById("cadesplugin_ovr").style.visibility="hidden"})),e.style.visibility="visible"}}function firefox_or_safari_nmcades_onload(){cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)}function nmcades_api_onload(){window.postMessage("cadesplugin_echo_request","*"),window.addEventListener("message",(function(e){if("string"==typeof e.data&&e.data.match("cadesplugin_loaded"))if(isFireFox||isSafari){var t=e.data.substring(e.data.indexOf("url:")+4),n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",t),n.onerror=plugin_loaded_error,n.onload=firefox_or_safari_nmcades_onload,document.getElementsByTagName("head")[0].appendChild(n)}else cpcsp_chrome_nmcades.check_chrome_plugin(plugin_loaded,plugin_loaded_error)}),!1)}function load_extension(){var e;isFireFox||isSafari?nmcades_api_onload():isOpera||isYandex?((e=document.createElement("script")).setAttribute("type","text/javascript"),e.setAttribute("src","chrome-extension://epebfcehmdedogndhlcacafjaacknbcm/nmcades_plugin_api.js"),e.onerror=plugin_loaded_error,e.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(e)):((e=document.createElement("script")).setAttribute("type","text/javascript"),e.setAttribute("src","chrome-extension://iifchhfnnmpdbibifmljnfjhpififfog/nmcades_plugin_api.js"),e.onerror=plugin_loaded_error,e.onload=nmcades_api_onload,document.getElementsByTagName("head")[0].appendChild(e))}function load_npapi_plugin(){var e=document.createElement("object");if(e.setAttribute("id","cadesplugin_object"),e.setAttribute("type","application/x-cades"),e.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(e),pluginObject=document.getElementById("cadesplugin_object"),isIE()){var t=document.createElement("object");t.setAttribute("id","certEnrollClassFactory"),t.setAttribute("classid","clsid:884e2049-217d-11da-b2a4-000e7bbb2b09"),t.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(t);var n=document.createElement("object");n.setAttribute("id","webClassFactory"),n.setAttribute("classid","clsid:B04C8637-10BD-484E-B0DA-B8A039F60024"),n.setAttribute("style","visibility: hidden"),document.getElementsByTagName("body")[0].appendChild(n)}}function plugin_loaded(){plugin_resolved=1,canPromise?plugin_resolve():window.postMessage("cadesplugin_loaded","*")}function plugin_loaded_error(e){void 0!==e&&"object"!==_typeof(e)||(e="Плагин недоступен"),plugin_resolved=1,canPromise?plugin_reject(e):window.postMessage("cadesplugin_load_error","*")}function check_load_timeout(){1!==plugin_resolved&&(isFireFox&&show_firefox_missing_extension_dialog(),plugin_resolved=1,canPromise?plugin_reject("Истекло время ожидания загрузки плагина"):window.postMessage("cadesplugin_load_error","*"))}function createPromise(e){return new Promise(e)}function check_npapi_plugin(){try{CreateObject("CAdESCOM.About");plugin_loaded()}catch(t){document.getElementById("cadesplugin_object").style.display="none";var e=navigator.mimeTypes["application/x-cades"];if(e)plugin_loaded_error(e.enabledPlugin?"Плагин загружен, но не создаются обьекты":"Ошибка при загрузке плагина");else plugin_loaded_error("Плагин недоступен")}}function check_plugin_working(){var e=document.createElement("div");e.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length?plugin_loaded_error("Internet Explorer версии 8 и ниже не поддерживается"):isNativeMessageSupported()?load_extension():canPromise?"complete"===document.readyState?(load_npapi_plugin(),check_npapi_plugin()):window.addEventListener("load",(function(e){load_npapi_plugin(),check_npapi_plugin()}),!1):window.addEventListener("message",(function(e){"cadesplugin_echo_request"===e.data&&(load_npapi_plugin(),check_npapi_plugin())}),!1)}function set_pluginObject(e){pluginObject=e}function is_capilite_enabled(){return!(void 0===cadesplugin.EnableInternalCSP||!cadesplugin.EnableInternalCSP)}}()},function(e,t,n){"use strict";n.r(t),n.d(t,"DN",(function(){return i})),n.d(t,"JaCarta",(function(){return u})),n.d(t,"JaCarta2",(function(){return d})),n.d(t,"CryptoPro",(function(){return y})),n.d(t,"RuToken",(function(){return L}));n(89),n(19),n(21),n(27);function r(){}r.prototype.toString=function(){var e="";for(var t in this)this.hasOwnProperty(t)&&(e+=t+'="'+this[t].replace(/"/g,"'")+'", ');return e};var i=r,o=(n(28),n(57),n(63),n(41),n(82),n(32),{CKR_CANCEL:"пользователь отказался от выполнения операции.",CKR_HOST_MEMORY:"недостаточно памяти для выполнения функции.",CKR_SLOT_ID_INVALID:"неправильный идентификатор слота.",CKR_GENERAL_ERROR:"Критическая ошибка, связанная с аппаратным обеспечением; Неудачная попытка проверки пути сертификации.",CKR_FUNCTION_FAILED:"при выполнении функции возник сбой.",CKR_ARGUMENTS_BAD:"недопустимый аргумент.",CKR_ATTRIBUTE_READ_ONLY:"предпринята попытка присвоения значения атрибуту, который нельзя изменять.",CKR_ATTRIBUTE_TYPE_INVALID:"некорректный тип атрибута.",CKR_ATTRIBUTE_VALUE_INVALID:"атрибут нулевой длины.",CKR_DEVICE_ERROR:"ошибка при обращении к устройству или слоту.",CKR_DEVICE_MEMORY:"для выполнения функции недостаточно памяти в устройстве.",CKR_FUNCTION_CANCELED:"время ожидания выполнения функции истекло.",CKR_KEY_HANDLE_INVALID:"функции передан некорректный дескриптор ключа.",CKR_KEY_SIZE_RANGE:"недопустимый размер ключа.",CKR_KEY_TYPE_INCONSISTENT:"данный тип ключа не может использоваться с данным механизмом.",CKR_MECHANISM_INVALID:"при выполнении криптографической функции был указан неправильный механизм.",CKR_MECHANISM_PARAM_INVALID:"при выполнении криптографической функции были заданы некорректные параметры механизма.",CKR_OBJECT_HANDLE_INVALID:"функции передан некорректный дескриптор объекта.",CKR_OPERATION_ACTIVE:"одна или несколько выполняющихся операций препятствуют выполнению новой операции.",CKR_OPERATION_NOT_INITIALIZED:"выполнение операции без предварительного указания параметров невозможно.",CKR_PIN_INCORRECT:"функции передан неверный PIN-код.",CKR_PIN_LEN_RANGE:"недопустимая длина PIN-кода.",CKR_PIN_LOCKED:"PIN-код заблокирован.",CKR_SESSION_HANDLE_INVALID:"функции передан некорректный дескриптор сессии.",CKR_SESSION_PARALLEL_NOT_SUPPORTED:"невозможно открыть параллельную сессию.",CKR_SESSION_EXISTS:"уже открыта сессия работы с тем же устройством.",CKR_SESSION_READ_ONLY_EXISTS:"сессия открыта только для чтения. Смена режима невозможна.",CKR_SESSION_READ_WRITE_SO_EXISTS:"открыта сессия чтения/записи. Открыть сеанс только для чтения невозможно.",CKR_SIGNATURE_INVALID:"неправильное значение электронной подписи.",CKR_TEMPLATE_INCOMPLETE:"для создания объекта недостаточно атрибутов.",CKR_TOKEN_NOT_PRESENT:"в момент выполнения функции устройство было отключено.",CKR_TOKEN_WRITE_PROTECTED:"устройство недоступно для записи.",CKR_USER_ALREADY_LOGGED_IN:"пользователь уже предъявил PIN-код.",CKR_USER_NOT_LOGGED_IN:"функция не может быть выполнена в гостевом режиме работы устройства.",CKR_USER_PIN_NOT_INITIALIZED:"начальное значение PIN-кода не установлено.",CKR_USER_TYPE_INVALID:"функция не может быть выполнена в текущем режиме работы устройства.",CKR_USER_ANOTHER_ALREADY_LOGGED_IN:"невозможно переключение из режима администратора в режим пользователя или обратно.",CKR_BUFFER_TOO_SMALL:"размер заданного буфера является недостаточным для сохранения результатов функции.",CKR_INFORMATION_SENSITIVE:"запрашиваемый объект недоступен для чтения.",CKR_CRYPTOKI_NOT_INITIALIZED:"выполнение функции без инициализации Единой библиотеки PKCS#11 (библиотеки Cryptoki) невозможно.",CKR_CRYPTOKI_ALREADY_INITIALIZED:"попытка повторно инициализировать библиотеку Cryptoki.",CKR_FUNCTION_REJECTED:"пользователь отменил операцию.",NOT_STATE_TOKEN_BINDED:"значение параметра state отличается от STATE_TOKEN_BINDED (1).",NOT_STATE_NOT_BINDED:"значение параметра state отличается от STATE_TOKEN_BINDED (0).",IS_STATE_NOT_BINDED:"параметр state принимает значение STATE_TOKEN_BINDED (0).",NOT_STATE_UNILATERAL_AUTHENTICATION_IN_PROGRESS:"значение параметра state отличается от STATE_TOKEN_BINDED (4).",NOT_STATE_SECURE_CHANNEL_CONNECTION_IN_PROGRESS:"значение параметра state отличается от STATE_TOKEN_BINDED (2).",NOT_STATE_SECURE_CHANNEL_ESTABLISHED:"значение параметра state отличается от STATE_TOKEN_BINDED (3).",CERTIFICATE_NOT_FOUND:"сертификат не обнаружен.",PUBLIC_KEY_NOT_FOUND:"открытый ключ не обнаружен в памяти поддерживаемого устройства.",SERVER_PUBLIC_KEY_NOT_FOUND:"не найден открытый ключ сервера.",INVALID_SERVER_PUBLIC_KEY:"неверный открытый ключ сервера.",DATA_TO_SIGN_ZERO_LENGTH:"на подпись были представлены данные, имеющие нулевую длину.",DATA_TO_VERIFY_ZERO_LENGTH:"на проверку подписи были представлены данные, имеющие нулевую длину.",SIGNATURE_TO_VERIFY_ZERO_LENGTH:"на проверку была представлена подпись, имеющая нулевую длину.",INVALID_EC_PARAMS:"неверно заданы параметры криптографических преобразований по ГОСТ Р 34.10-2001.",TOKEN_MEMORY_TOO_SMALL:"для выполнения операции в поддерживаемом устройстве недостаточно свободной памяти.",KEY_SIZE_NOT_64:"длина ключа не равна 64 битам.",CERT_NOT_MATCH_PUBLIC_KEY:"сертификат не соответствует открытому ключу.",FAILED_CHECK_BROWSER_VERS:"ошибка проверки версии используемого браузера.",BROWSER_VERS_NOT_SUPPORTED:"используемая версия браузера не поддерживается.",INVALID_USER_TYPE:"неверно указан тип PIN-кода.",PINS_NOT_MATCH:"введённые значения нового PIN-кода неодинаковы.",USER_CHANGE_ADMIN_PIN_NOT_STATE_NOT_BINDED:"cмена PIN-кода администратора невозможна, поскольку значение параметра state отличается от STATE_TOKEN_BINDED (0).",SSL_ERR_GEN_SESSION_KEY:"ошибка при генерации ключа защиты данных, передаваемых между клиентом и сервером.",SSL_ERR_GOST_ENGINE:"ошибка средства защиты, программно выполняющего криптографические преобразования на стороне клиента.",SSL_ERR_SSL_NEW:"ошибка в начале выполнения протокола Handshake.",SSL_ERR_CONNECT:"ошибка при выполнении протокола Handshake.",SSL_ERR_SSL_WRITE:"ошибка при подготовке данных к защищённой передаче.",SSL_ERR_SSL_READ:"ошибка при чтении защищённых для передачи данных.",SSL_ERR_LOAD_CERT_AND_KEY_FROM_TOKEN:"ошибка при попытке считать сертификат и открытый ключ из памяти поддерживаемого устройства.",SSL_ERR_GET_PEER_PUBLIC_KEY:"ошибка при получении открытого ключа сервера.",CERT_PARS_ERR_GET_PUBLIC_KEY:"не удалось считать открытый ключ из сертификата.",CERT_PARS_ERR_GET_ISSUER_AND_SER_NUMBER:"не удалось считать имя удостоверяющего центра и серийный номер из сертификата.",UNKNOWN_ERROR:"неизвестная ошибка."}),a=(n(109),n(111),n(112),[{oid:"1.2.643.3.131.1.1",short:"INN",full:"ИНН"},{oid:"1.2.643.100.4",short:"INNLE",full:"ИНН ЮЛ"},{oid:"1.2.643.100.1",short:"OGRN",full:"ОГРН"},{oid:"1.2.643.100.5",short:"OGRNIP",full:"ОГРНИП"},{oid:"1.2.643.100.3",short:"SNILS",full:"СНИЛС"},{oid:"1.2.840.113549.1.9.1",short:"E",full:"emailAddress"},{oid:"2.5.4.3",short:"CN",full:"commonName"},{oid:"2.5.4.4",short:"SN",full:"surname"},{oid:"2.5.4.42",short:"G",full:"givenName"},{oid:"2.5.4.6",short:"C",full:"countryName"},{oid:"2.5.4.7",short:"L",full:"localityName"},{oid:"2.5.4.8",short:"S",full:"stateOrProvinceName"},{oid:"2.5.4.9",short:"STREET",full:"streetAddress"},{oid:"2.5.4.10",short:"O",full:"organizationName"},{oid:"2.5.4.11",short:"OU",full:"organizationalUnitName"},{oid:"2.5.4.12",short:"T",full:"title"}]);function c(e){for(var t=new i,n=function(){var n=o[r],i=a.find((function(e){return e.oid==n||e.full==n}));i?t[i.short]=e[n]:t[n]=e[n]},r=0,o=Object.keys(e);r<o.length;r++)n();return t}function s(e){return e.replace(/="/g,"=").replace(/",/g,",")}var u=function(){var e,t;function n(t){try{if(!t){var n=e.getLastError();t=e.getErrorMessage(n)}return"CKR_OK"!=t&&(o[t]||t)}catch(e){return e.message}}function r(e,t){var n=new i;for(var r in e.Data.Subject){var o=e.Data.Subject[r].rdn,a=e.Data.Subject[r].value;n[o]=a}return n.toString=function(){var e=this.CN||this["2.5.4.3"],n=this["СНИЛС"]||this.SNILS||this["1.2.643.100.3"],r=this["ИНН"]||this.INN||this["1.2.643.3.131.1.1"];return e+(r?"; ИНН "+r:"")+(n?"; СНИЛС "+n:"")+(t?" ("+t+")":"")},n.toString()}function a(e){return("0"+e.toString(16)).slice(-2)}function s(e){var t=new RegExp(".{1,64}","g");return e.match(t).join("\n")}this.init=function(){return new Promise((function(e,t){"undefined"!=typeof JCWebClient?e():function(e,t,n){var r=document.getElementsByTagName("body")[0],i=document.createElement("script");i.type="text/javascript",i.src=e,i.readyState?i.onreadystatechange=function(){"loaded"===i.readyState||"complete"===i.readyState?(i.onreadystatechange=null,"undefined"==typeof JCWebClient?o("JCWebClient is invalid"):t()):"loading"!==i.readyState&&o("JCWebClient hasn't been loaded")}:(i.onload=t,i.onerror=function(){o("JCWebClient hasn't been loaded")});function o(e){r.removeChild(i),n(e)}r.appendChild(i)}("https://localhost:24738/JCWebClient.js",e,t)})).then((function(){return new Promise((function(r){try{if("undefined"==typeof JCWebClient)throw new Error("Не установлен клиент ни старой, ни новой версии JC-WebClient");if(void 0!==JCWebClient.id)throw new Error("JaCarta WebClient 2.x не поддерживается");if((e=JCWebClient()).initialize(),!e.checkWebBrowserVersion())throw new Error("Браузер не поддерживается");var i=e.getAllTokens();if(!i||1!=i.length)throw i&&i.length>1?new Error("Подключено "+i.length+" токена(ов)"):new Error("Нет подключенных токенов");t=i.shift();var o=e.getPluginVersion(),a=e.getTokenInfo(t);r({version:o,serial:a[0],flags:a[1],label:a[2],type:a[3]})}catch(e){var c=n();throw new Error(e.message||c)}}))}))},this.bind=function(r){return new Promise((function(i){try{if(1===e.getLoggedInState().shift())i();else if(r)e.bindTokenAsync(t,r,(function(e){if(e&&"Error"==e[0]){var t=n(e[1]);throw new Error(t)}i()}));else{if(!e.bindTokenUI(t))throw new Error("Пользователь отменил ввод PIN-кода");i()}}catch(e){var o=n();throw new Error(o||e.message)}}))},this.unbind=function(){return new Promise((function(t){try{1===e.getLoggedInState().shift()&&e.unbindToken(),t()}catch(e){var r=n();throw new Error(r||e.message)}}))},this.clean=function(){return new Promise((function(r){try{var i=e.getCertificateList(t);for(var o in i){var a=i[o].shift();e.deleteContainerOrCertificate(a)}r(o)}catch(e){var c=n();throw new Error(c||e.message)}}))},this.generateCSR=function(t,r,i,o){return i&&i.length||(i=["1.3.6.1.5.5.7.3.2","1.3.6.1.5.5.7.3.4"]),o||(o="XA"),new Promise((function(a){try{e.createContainerAsync(o,r,(function(r){if(r&&"Error"==r[0]){var o=n(r[1]);throw new Error(o)}var c=r,u=[];for(var _ in t)t.hasOwnProperty(_)&&u.push(_,t[_]);var l=["certificatePolicies","1.2.643.100.113.1","keyUsage","digitalSignature,keyEncipherment,nonRepudiation,dataEncipherment","extendedKeyUsage",i.toString(),"1.2.643.100.111",'ASN1:FORMAT:UTF8,UTF8:"Криптотокен" (АЛАДДИН Р.Д.)'];e.genCSRAsync(c,u,l,(function(e){if(e&&"Error"==e[0]){var t=n(e[1]);throw new Error(t)}var r=btoa(String.fromCharCode.apply(null,new Uint8Array(e)));a({csr:s(r),containerId:c})}))}))}catch(e){var c=n();throw new Error(c||e.message)}}))},this.writeCertificate=function(t,r){return new Promise((function(i){try{for(var o=[],a=atob(t),c=0;c<a.length;c++)o[c]=a.charCodeAt(c);e.writeCertificateAsync(r,o,(function(){i()}))}catch(e){var s=n();throw new Error(s||e.message)}}))},this.certificateInfo=function(r){return new Promise((function(o){try{var s=e.parseX509CertificateEx(t,r),u=new i;for(var _ in s.Data.Subject){var l=s.Data.Subject[_].rdn,f=s.Data.Subject[_].value;u[l]=f}u=c(u);var d=new i;for(var _ in s.Data.Issuer){l=s.Data.Issuer[_].rdn,f=s.Data.Issuer[_].value;d[l]=f}var p=new Date;o({Name:u.CN,Issuer:d,IssuerName:d.CN,Subject:u,SubjectName:u.toString(),Version:s.Data.Version,SerialNumber:s.Data["Serial Number"].map(a).join(""),Thumbprint:s.Signature.map(a).join(""),ValidFromDate:s.Data.Validity["Not Before"],ValidToDate:s.Data.Validity["Not After"],HasPrivateKey:!0,IsValid:p>=s.Data.Validity["Not Before"]&&p<=s.Data.Validity["Not After"],toString:function(){return"Название:              "+this.Name+"\nИздатель:              "+this.IssuerName+"\nСубъект:               "+this.SubjectName+"\nВерсия:                "+this.Version+"\nСерийный №:            "+this.SerialNumber+"\nОтпечаток SHA1:        "+this.Thumbprint+"\nНе действителен до:    "+this.ValidFromDate+"\nНе действителен после: "+this.ValidToDate+"\nПриватный ключ:        "+(this.HasPrivateKey?"Есть":"Нет")+"\nВалидный:              "+(this.IsValid?"Да":"Нет")}})}catch(e){var E=n();throw new Error(E||e.message)}}))},this.listCertificates=function(){return new Promise((function(i){try{e.getCertificateListAsync(t,(function(o){if(o&&"Error"==o[0]){var a=n(o[1]);throw new Error(a)}for(var c=[],s=0;s<o.length;s++){var u=o[s][0],_=o[s][1];try{var l=r(e.parseX509CertificateEx(t,contId),_);c.push({id:u,name:l})}catch(e){console.log("Certificate (%s) info error: %s",contId,e.message)}}i(c)}))}catch(e){var o=n();throw new Error(o||e.message)}}))},this.readCertificate=function(r){return new Promise((function(i){try{if(0===e.getLoggedInState().shift())var o=e.readCertificateEx(t,r);else o=e.readCertificate(r);if(!o||!o.length)throw new Error("Нет сертификата в контейнере");i(s(btoa(String.fromCharCode.apply(null,new Uint8Array(o)))))}catch(e){var a=n();throw new Error(a||e.message)}}))},this.signData=function(t,r){return new Promise((function(i){try{e.signBase64EncodedDataAsync(r,t,!1,!1,(function(e){if(e&&"Error"==e[0]){var t=n(e[1]);throw new Error(t)}var r=s(e);i(r)}))}catch(e){var o=n();throw new Error(o||e.message)}}))},this.encryptData=function(){return new Promise((function(){throw new Error("Encrypt feature is not supported, please upgrade to JaCarta-2 GOST")}))},this.decryptData=function(){return new Promise((function(){throw new Error("Decrypt feature is not supported, please upgrade to JaCarta-2 GOST")}))}},_=(n(84),n(113),n(65),n(86),n(42),n(25),n(43),n(66),n(87)),l=n.n(_),f={UNKNOWN_ERROR:"неизвестная ошибка",CKR_CANCEL:"пользователь отказался от выполнения операции",CKR_HOST_MEMORY:"недостаточно памяти для выполнения функции",CKR_SLOT_ID_INVALID:"неправильный идентификатор слота",CKR_GENERAL_ERROR:"такой код ошибки может означать: критическую ошибку, связанную с аппаратным обеспечением; неудачную попытку проверки пути сертификации.",CKR_FUNCTION_NOT_SUPPORTED:"функция не поддерживается",CKR_FUNCTION_FAILED:"при выполнении функции возник сбой",CKR_ARGUMENTS_BAD:"недопустимый аргумент",CKR_ATTRIBUTE_READ_ONLY:"предпринята попытка присвоения значения атрибуту, который нельзя изменять",CKR_ATTRIBUTE_TYPE_INVALID:"некорректный тип атрибута",CKR_ATTRIBUTE_VALUE_INVALID:"атрибут нулевой длины",CKR_DEVICE_ERROR:"ошибка при обращении к устройству или слоту",CKR_DEVICE_MEMORY:"для выполнения функции недостаточно памяти в устройстве",CKR_FUNCTION_CANCELED:"время ожидания выполнения функции истекло",CKR_KEY_HANDLE_INVALID:"функции передан некорректный дескриптор ключа",CKR_KEY_SIZE_RANGE:"недопустимый размер ключа",CKR_KEY_TYPE_INCONSISTENT:"данный тип ключа не может использоваться с данным механизмом",CKR_MECHANISM_INVALID:"при выполнении криптографической функции был указан неправильный механизм",CKR_MECHANISM_PARAM_INVALID:"при выполнении криптографической функции были заданы некорректные параметры механизма",CKR_OBJECT_HANDLE_INVALID:"функции передан некорректный дескриптор объекта",CKR_OPERATION_ACTIVE:"одна или несколько выполняющихся операций препятствуют выполнению новой операции",CKR_OPERATION_NOT_INITIALIZED:"выполнение операции без предварительного указания параметров невозможно",CKR_PIN_INCORRECT:"функции передан неверный PIN-код",CKR_PIN_LEN_RANGE:"недопустимая длина PIN-кода",CKR_PIN_LOCKED:"PIN-код заблокирован",CKR_SESSION_HANDLE_INVALID:"функции передан некорректный дескриптор сессии",CKR_SESSION_PARALLEL_NOT_SUPPORTED:"невозможно открыть параллельную сессию",CKR_SESSION_EXISTS:"уже открыта сессия работы с тем же устройством",CKR_SESSION_READ_ONLY_EXISTS:"сессия открыта только для чтения. Смена режима невозможна",CKR_SESSION_READ_WRITE_SO_EXISTS:"открыта сессия чтения/записи. Открыть сеанс только для чтения невозможно",CKR_SIGNATURE_INVALID:"неправильное значение электронной подписи",CKR_TEMPLATE_INCOMPLETE:"для создания объекта недостаточно атрибутов",CKR_TOKEN_NOT_PRESENT:"в момент выполнения функции устройство было отключено",CKR_TOKEN_WRITE_PROTECTED:"устройство недоступно для записи",CKR_USER_ALREADY_LOGGED_IN:"пользователь уже предъявил PIN-код",CKR_USER_NOT_LOGGED_IN:"функция не может быть выполнена в гостевом режиме работы устройства",CKR_USER_PIN_NOT_INITIALIZED:"начальное значение PIN-кода не установлено",CKR_USER_TYPE_INVALID:"функция не может быть выполнена в текущем режиме работы устройства",CKR_USER_ANOTHER_ALREADY_LOGGED_IN:"невозможно переключение из режима администратора в режим пользователя или обратно",CKR_BUFFER_TOO_SMALL:"размер заданного буфера является недостаточным для сохранения результатов функции",CKR_INFORMATION_SENSITIVE:"запрашиваемый объект недоступен для чтения",CKR_CRYPTOKI_NOT_INITIALIZED:"выполнение функции без инициализации Единой библиотеки PKCS#11 (библиотеки Cryptoki) невозможно",CKR_CRYPTOKI_ALREADY_INITIALIZED:"попытка повторно инициализировать библиотеку Cryptoki",CKR_FUNCTION_REJECTED:"пользователь отменил операцию",NOT_STATE_TOKEN_BINDED:"значение параметра state отличается от STATE_TOKEN_BINDED (1)",NOT_STATE_NOT_BINDED:"значение параметра state отличается от STATE_TOKEN_BINDED (0)",IS_STATE_NOT_BINDED:"параметр state принимает значение STATE_TOKEN_BINDED (0)",NOT_STATE_UNILATERAL_AUTHENTICATION_IN_PROGRESS:"значение параметра state отличается от STATE_TOKEN_BINDED (4)",NOT_STATE_SECURE_CHANNEL_CONNECTION_IN_PROGRESS:"значение параметра state отличается от STATE_TOKEN_BINDED (2)",NOT_STATE_SECURE_CHANNEL_ESTABLISHED:"значение параметра state отличается от STATE_TOKEN_BINDED (3)",CERTIFICATE_NOT_FOUND:"сертификат не обнаружен",PUBLIC_KEY_NOT_FOUND:"открытый ключ не обнаружен в памяти поддерживаемого устройства",SERVER_PUBLIC_KEY_NOT_FOUND:"не найден открытый ключ сервера",INVALID_SERVER_PUBLIC_KEY:"неверный открытый ключ сервера",DATA_TO_SIGN_ZERO_LENGTH:"на подпись были представлены данные, имеющие нулевую длину",DATA_TO_VERIFY_ZERO_LENGTH:"на проверку подписи были представлены данные, имеющие нулевую длину",SIGNATURE_TO_VERIFY_ZERO_LENGTH:"на проверку была представлена подпись, имеющая нулевую длину",INVALID_EC_PARAMS:"неверно заданы параметры криптографических преобразований по ГОСТ Р 34.10-2001",TOKEN_MEMORY_TOO_SMALL:"для выполнения операции в поддерживаемом устройстве недостаточно свободной памяти",KEY_SIZE_NOT_64:"длина ключа не равна 64 битам",CERT_NOT_MATCH_PUBLIC_KEY:"сертификат не соответствует открытому ключу",FAILED_CHECK_BROWSER_VERS:"ошибка проверки версии используемого браузера",BROWSER_VERS_NOT_SUPPORTED:"используемая версия браузера не поддерживается",INVALID_USER_TYPE:"неверно указан тип PIN-кода",PINS_NOT_MATCH:"введённые значения нового PIN-кода неодинаковы",USER_CHANGE_ADMIN_PIN_NOT_STATE_NOT_BINDED:"cмена PIN-кода администратора невозможна, поскольку значение параметра state отличается от STATE_TOKEN_BINDED (0)",SSL_ERR_GEN_SESSION_KEY:"ошибка при генерации ключа защиты данных, передаваемых между клиентом и сервером",SSL_ERR_GOST_ENGINE:"ошибка средства защиты, программно выполняющего криптографические преобразования на стороне клиента",SSL_ERR_SSL_NEW:"ошибка в начале выполнения протокола Handshake",SSL_ERR_CONNECT:"ошибка при выполнении протокола Handshake",SSL_ERR_SSL_WRITE:"ошибка при подготовке данных к защищённой передаче",SSL_ERR_SSL_READ:"ошибка при чтении защищённых для передачи данных",SSL_ERR_LOAD_CERT_AND_KEY_FROM_TOKEN:"ошибка при попытке считать сертификат и открытый ключ из памяти поддерживаемого устройства",SSL_ERR_GET_PEER_PUBLIC_KEY:"ошибка при получении открытого ключа сервера",CERT_PARS_ERR_GET_PUBLIC_KEY:"не удалось считать открытый ключ из сертификата",CERT_PARS_ERR_GET_ISSUER_AND_SER_NUMBER:"не удалось считать имя удостоверяющего центра и серийный номер из сертификата",CKR_KT2_PIN_ALREADY_SET:"PIN-код уже установлен",CKR_PUK_INCORRECT:"неправильный PUK-код",CKR_CANNOT_UNLOCK:"невозможно разблокировать PIN-код",CKR_PUK_INVALID:"недопустимые символы в значении PUK-кода",CKR_SM_REQUIRED:"для выполнения команды необходимо установить защищённое соединение",CKR_PKCS7_PUBLIC_KEY_NOT_FOUND:"при проверке подписи под PKCS #7 на JaCarta-2 ГОСТ не был найден открытый ключ",CKR_ICL_LIBRARY_NOT_FOUND:"ИКБ не найдена",CKR_ICL_JCVERIFY_NOT_FOUND:"утилита jcverify не найдена",CKR_ICL_JCVERIFY_CHECKSUM_NOT_FOUND:"файл контрольных сумм jcverify не найден",CKR_ICL_CHECKSUM_NOT_FOUND:"файл контрольных сумм ИКБ не найден",CKR_ICL_JCVERIFY_CHECKSUM:"неверные контрольная сумма утилиты jcverify",CKR_ICL_CHECKSUM:"неверная контрольная сумма ИКБ",CKR_ICL_NOT_ICL:"при загрузке ИКБ произошла ошибка. Требуемые функции найдены"};var d=function(){var e,t,n=!1;function r(t,r){return new Promise((function(t){var n=0,r=function(){if(n>6e4)throw new Error("Не удалось дождаться завершения асинхронной операции");e.isAsyncOperationInProgress()?(setTimeout(r,100),n+=100):t()};setTimeout(r,0)})).then((function(){return new Promise((function(i,c){n=!0,e.exec({async:!0,cmd:t,args:r,onSuccess:o(i),onError:a(c)})}))}))}function o(e){return function(t){n=!1,e(t)}}function a(t){return function(r){n=!1,e&&"JCWebClientError"===r.name&&f[r.message]&&(r.message=f[r.message]),t(r)}}function u(e){var t=new i;for(var n in e){var r=e[n].rdn,o=e[n].value;r&&o&&(t[r]=o)}return c(t)}function _(e,t){return e.CN+(e.INNLE?"; ИНН ЮЛ "+e.INNLE:"")+(e.INN?"; ИНН "+e.INN:"")+(e.SNILS?"; СНИЛС "+e.SNILS:"")+(t?" ("+t+")":"")}function d(e){return("0"+e.toString(16)).slice(-2)}function p(e){var t=new RegExp(".{1,64}","g");return e.match(t).join("\n")}this.init=function(){var i={};return new Promise((function(e,t){"undefined"!=typeof JCWebClient2?e():function(e,t,n){var r=document.getElementsByTagName("body")[0],i=document.createElement("script");i.type="text/javascript",i.src=e,i.readyState?i.onreadystatechange=function(){"loaded"===i.readyState||"complete"===i.readyState?(i.onreadystatechange=null,"undefined"==typeof JCWebClient2?o("JCWebClient is invalid"):t()):"loading"!==i.readyState&&o("JCWebClient hasn't been loaded")}:(i.onload=t,i.onerror=function(){o("JCWebClient hasn't been loaded")});function o(e){r.removeChild(i),n(e)}r.appendChild(i)}("https://localhost:24738/JCWebClient.js",e,t)})).then((function(){return(e=JCWebClient2).initialize(),e.isAsyncOperationInProgress||(e.isAsyncOperationInProgress=function(){return n}),r(e.Cmds.getJCWebClientVersion)})).then((function(t){return i.version=t,r(e.Cmds.getAllSlots)})).then((function(e){return new Promise((function(t){var n=e.filter((function(e){return e.tokenExists}));if(!n||1!==n.length)throw n&&n.length>1?new Error("Подключено "+n.length+" токена(ов)"):new Error("Нет подключенных токенов");t(n.shift().id)}))})).then((function(n){return t=n,r(e.Cmds.getTokenInfo,{tokenID:n})})).then((function(t){if(-1===[e.Vars.TokenType.gost,e.Vars.TokenType.gost2].indexOf(t.type))throw new Error("Подключен токен недопустимого типа: "+t.type);return Object.assign(i,t)}))},this.bind=function(n){return r(e.Cmds.getLoggedInState).then((function(i){if(i.state===e.Vars.AuthState.binded&&i.tokenID===t)return!0;var o={tokenID:t};return n?o.pin=n:o.useUI=!0,r(e.Cmds.bindToken,o)}))},this.unbind=function(){return r(e.Cmds.getLoggedInState).then((function(t){return t.state===e.Vars.AuthState.notBinded||r(e.Cmds.unbindToken)}))},this.clean=function(){return r(e.Cmds.getContainerList,{tokenID:t}).then((function(t){var n=Promise.resolve(),i=function(i){n=n.then((function(){return r(e.Cmds.deletePKIObject,{id:t[i].id})}))};for(var o in t)i(o);return n}))},this.generateCSR=function(t,n,i){n&&n.length||(n=["1.3.6.1.5.5.7.3.2","1.3.6.1.5.5.7.3.4"]),i||(i={});var o,a=i.description||t.CN,c=i.algorithm||e.Vars.KeyAlgorithm.GOST_2012_256,s={certificatePolicies:"1.2.643.100.113.1",keyUsage:"digitalSignature,keyEncipherment,nonRepudiation,dataEncipherment",extendedKeyUsage:n.toString(),"1.2.643.100.111":'ASN1:FORMAT:UTF8,UTF8:"Криптотокен" (АЛАДДИН Р.Д.)'};return r(e.Cmds.createKeyPair,{paramSet:"XA",description:a,algorithm:c}).then((function(n){return o=n,r(e.Cmds.genCSR,{id:o,dn:t,exts:s})})).then((function(e){return{csr:p(btoa(String.fromCharCode.apply(null,new Uint8Array(e)))),keyPairId:o}}))},this.writeCertificate=function(t,n){return r(e.Cmds.writeUserCertificate,{keyPairID:n,cert:t})},this.certificateInfo=function(n,i){return i||(i={}),r(e.Cmds.parseX509Certificate,{tokenID:t,id:n}).then((function(e){var t=u(e.Data.Subject),n=u(e.Data.Issuer),r=new Date;return{Name:t.CN,Issuer:n,IssuerName:s(n.toString()),Subject:t,SubjectName:s(t.toString()),Version:e.Data.Version,SerialNumber:e.Data["Serial Number"].map(d).join(""),Thumbprint:void 0,ValidFromDate:e.Data.Validity["Not Before"],ValidToDate:e.Data.Validity["Not After"],HasPrivateKey:!0,IsValid:r>=e.Data.Validity["Not Before"]&&r<=e.Data.Validity["Not After"],Algorithm:e.Data["Subject Public Key Info"]["Public Key Algorithm"],toString:function(){return"Название:              "+this.Name+"\nИздатель:              "+this.IssuerName+"\nСубъект:               "+this.SubjectName+"\nВерсия:                "+this.Version+"\nАлгоритм:              "+this.Algorithm+"\nСерийный №:            "+this.SerialNumber+"\nОтпечаток SHA1:        "+this.Thumbprint+"\nНе действителен до:    "+this.ValidFromDate+"\nНе действителен после: "+this.ValidToDate+"\nПриватный ключ:        "+(this.HasPrivateKey?"Есть":"Нет")+"\nВалидный:              "+(this.IsValid?"Да":"Нет")}}})).then((function(i){return r(e.Cmds.getCertificateBody,{id:n,tokenID:t}).then((function(e){return i.Thumbprint=l()(e),i}))}))},this.listCertificates=function(){return r(e.Cmds.getContainerList,{tokenID:t}).then((function(n){for(var i=[],o=Promise.resolve(),a=0;a<n.length;a++){!function(n,a){o=o.then((function(){return r(e.Cmds.parseX509Certificate,{tokenID:t,id:n}).then((function(e){var t=e.Data&&u(e.Data.Subject);return e.Data&&i.push({id:n,name:_(t,a),subject:t,validFrom:e.Data.Validity["Not Before"],validTo:e.Data.Validity["Not After"]}),i.length}))}))}(n[a].id,n[a].description)}return o.then((function(){return i}))}))},this.readCertificate=function(n){return r(e.Cmds.getCertificateBody,{id:n,tokenID:t}).then((function(e){if(e&&e.length)return p(btoa(String.fromCharCode.apply(null,new Uint8Array(e))));throw new Error("Нет сертификата в контейнере")}))},this.signData=function(t,n,i){i||(i={});var o=i.attached;return r(e.Cmds.signBase64EncodedData,{contID:n,data:t,attachedSignature:!!o}).then((function(e){return p(e)}))},this.verifySign=function(n,i,o){o||(o={});var a=o.attached,c={signature:Array.from(atob(i),(function(e){return e.charCodeAt(0)})),options:{tokenID:t,useToken:!0}};return a||(c.data=Array.from(atob(n),(function(e){return e.charCodeAt(0)}))),r(e.Cmds.verifyData,c)},this.encryptData=function(t,n){var i=Array.from(atob(t),(function(e){return e.charCodeAt(0)}));return this.readCertificate(n).then((function(t){return r(e.Cmds.encryptData,{contID:n,receiverCertificate:t,receiverCertificates:[t],data:i})})).then((function(e){return p(btoa(String.fromCharCode.apply(null,new Uint8Array(e))))}))},this.decryptData=function(t,n){var i=Array.from(atob(t),(function(e){return e.charCodeAt(0)}));return this.readCertificate(n).then((function(t){var o=Array.from(atob(t),(function(e){return e.charCodeAt(0)}));return r(e.Cmds.decryptData,{contID:n,senderCertificate:o,data:i})})).then((function(e){return btoa(String.fromCharCode.apply(null,new Uint8Array(e)))}))}},p=2,E=1,h=1,C=128,g=64,A=32,O=16,v=2097152,I=1,S=0,T=80,m={"0x800B010A":"Не удается построить цепочку сертификатов до доверенного корневого центра, убедитесь что установлены все корневые и промежуточные сертификаты [0x800B010A]","0x80090020":"Внутренняя ошибка [0x80090020]. Если используется внешний токен, убедитесь, что ввели корректный PIN-код","0x8007065B":"Истекла лицензия на КриптоПро CSP [0x8007065B]","0x800B0109":"Отсутствует сертификат УЦ в хранилище корневых сертификатов [0x800B0109]","0x8009200C":"Не удается найти сертификат и закрытый ключ для расшифровки [0x8009200C]","0x80090008":"Указан неверный алгоритм (используется устаревшая версия КриптоПро CSP или КриптоПро ЭЦП Browser plug-in) [0x80090008]","0x000004C7":"Операция отменена пользователем [0x000004C7]","0x8009000D":"Нет доступа к закрытому ключу. Ввод пароля отменен или произошел сбой в запомненных паролях [0x8009000D]","0x800B0101":"Истек/не наступил срок действия требуемого сертификата [0x800B0101]","0x8009200B":"Не удается найти закрытый ключ для подписи, убедитесь что сертификат установлен правильно [0x8009200B]","0x8010006E":"Действие отменено пользователем [0x8010006E]",NPObject:"Не удается подписать, убедитесь что выбранный сертификат подходит для подписи","Automation server":"Библиотека CAPICOM не была автоматически зарегистрирована или заблокирована на Вашем компьютере (2146827859)","сервером программирования":"Библиотека CAPICOM не была автоматически зарегистрирована или заблокирована на Вашем компьютере (2146827859)"};function R(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=function(){var e,t="",r=!1,o=0;function a(){return function(e,t){var n,r,i=/(\.0+)+$/,o=e.replace(i,"").split("."),a=t.replace(i,"").split("."),c=Math.min(o.length,a.length);for(n=0;n<c;n++)if(r=parseInt(o[n],10)-parseInt(a[n],10))return r;return o.length-a.length}(t,"2.0.13292")>=0}function s(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e)return t.Certificates.then((function(e){return n=e,e.Count})).then((function(e){for(var t=[],r=1;r<=e;r++)t.push(n.Item(r));return Promise.all(t)})).then((function(e){var t=[];return e.forEach((function(e){t.push(e.SubjectName,e.Thumbprint,e.ValidFromDate,e.ValidToDate)})),Promise.all(t)})).then((function(e){for(var t=[],n=0;n<e.length;n+=4){var i=e[n+1];if(r.indexOf(i)+1)break;var o=f(e[n]);t.push({id:i,name:N(o),subject:o,validFrom:new Date(e[n+2]),validTo:new Date(e[n+3])})}return t}));for(var i=t.Certificates,o=[],a=1;a<=i.Count;a++){var c=i.Item(a),s=c.Thumbprint;if(r.indexOf(s)+1)break;var u=f(c.SubjectName);o.push({id:s,name:N(u),subject:u,validFrom:new Date(c.ValidFromDate),validTo:new Date(c.ValidToDate)})}return o}function u(t,n){if(e)return t.Certificates.then((function(e){return e.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH,n)})).then((function(e){return e.Count.then((function(t){return 1===t?e.Item(1):null}))}));var r=t.Certificates.Find(cadesplugin.CAPICOM_CERTIFICATE_FIND_SHA1_HASH,n);return 1===r.Count?r.Item(1):null}function _(t,n){var i,o;if(e)return cadesplugin.then((function(){return cadesplugin.CreateObjectAsync("CAPICOM.Store")})).then((function(e){return(i=e).Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED)})).then((function(){return u(i,t)})).then((function(e){return i.Close().then((function(){return!e&&a()?i.Open(cadesplugin.CADESCOM_CONTAINER_STORE).then((function(){return u(i,t)})).then((function(e){return i.Close().then((function(){return e}))})):e}))})).then((function(e){if(!e)throw new Error("Не обнаружен сертификат c отпечатком "+t);return o=e})).then((function(){return o.HasPrivateKey()})).then((function(e){var t=Promise.resolve();return e&&n&&(t=t.then((function(){return o.PrivateKey})).then((function(e){return Promise.all([e.propset_KeyPin(n||""),e.propset_CachePin(r)])}))),t})).then((function(){return o}));var c,s=cadesplugin.CreateObject("CAPICOM.Store");if(s.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED),c=u(s,t),s.Close(),!c&&a()&&(s.Open(cadesplugin.CADESCOM_CONTAINER_STORE),c=u(s,t),s.Close()),!c)throw new Error("Не обнаружен сертификат c отпечатком "+t);return c.HasPrivateKey&&n&&(c.PrivateKey.KeyPin=n||"",void 0!==c.PrivateKey.CachePin&&(c.PrivateKey.CachePin=r)),c}function l(e){if(console.log("Crypto-Pro error",e.message||e),e.message)for(var t in m)if(m.hasOwnProperty(t)&&e.message.indexOf(t)+1){e.message=m[t];break}return e.message||e}function f(e){var t=new i,n=e.match(/([а-яёА-ЯЁa-zA-Z0-9\.\s]+)=(?:("[^"]+?")|(.+?))(?:,|$)/g);return(n=n?n.map((function(e){return e.replace(/,$/,"")})):[]).forEach((function(e){var n=e.match(/([^=]+)=(.*)/);if(n&&3===n.length){var r=n[1].trim().replace(/^OID\./,"");t[r]=n[2].trim().replace(/^"(.*)"$/,"$1").replace(/""/g,'"')}})),c(t)}function d(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+'="'+e[n].replace(/"/g,'""')+'", ');return t}function N(e){return e.CN+(e.INNLE?"; ИНН ЮЛ "+e.INNLE:"")+(e.INN?"; ИНН "+e.INN:"")+(e.SNILS?"; СНИЛС "+e.SNILS:"")}function y(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}this.init=function(){return window.cadesplugin_skip_extension_install=!0,window.allow_firefox_cadesplugin_async=!0,n(123),e=!!cadesplugin.CreateObjectAsync,o=cadesplugin.CAPICOM_CERTIFICATE_INCLUDE_END_ENTITY_ONLY,new Promise((function(e){if(!window.cadesplugin)throw new Error("КриптоПро ЭЦП Browser plug-in не обнаружен");e()})).then((function(){return e?cadesplugin.then((function(){return cadesplugin.CreateObjectAsync("CAdESCOM.About")})).then((function(e){return e.Version})).then((function(e){return t=e,{version:e}})).catch((function(e){var t=l(e);throw new Error(t)})):new Promise((function(e){try{var n=cadesplugin.CreateObject("CAdESCOM.About");if(!n||!n.Version)throw new Error("КриптоПро ЭЦП Browser plug-in не загружен");e({version:t=n.Version})}catch(e){var r=l(e);throw new Error(r)}}))}))},this.bind=function(e){return r=!0,Promise.resolve(r)},this.unbind=function(){return r=!1,Promise.resolve(r)},this.generateCSR=function(t,n,r){n&&n.length||(n=["1.3.6.1.5.5.7.3.2","1.3.6.1.5.5.7.3.4"]),r||(r={});var i,o,a,c,s,u,_,f,S,m,R,N,D,P=r.pin,b=r.providerType||T;return e?cadesplugin.then((function(){return Promise.all([cadesplugin.CreateObjectAsync("X509Enrollment.CX509Enrollment"),cadesplugin.CreateObjectAsync("X509Enrollment.CX509CertificateRequestPkcs10"),cadesplugin.CreateObjectAsync("X509Enrollment.CX509PrivateKey"),cadesplugin.CreateObjectAsync("X509Enrollment.CX509ExtensionKeyUsage"),cadesplugin.CreateObjectAsync("X509Enrollment.CX509ExtensionEnhancedKeyUsage"),cadesplugin.CreateObjectAsync("X509Enrollment.CObjectIds"),cadesplugin.CreateObjectAsync("X509Enrollment.CX500DistinguishedName"),cadesplugin.CreateObjectAsync("X509Enrollment.CX509Extensions"),cadesplugin.CreateObjectAsync("X509Enrollment.CCspInformations"),cadesplugin.CreateObjectAsync("X509Enrollment.CX509Extension")])})).then((function(e){return i=e[0],o=e[1],a=e[2],s=e[3],u=e[4],_=e[5],m=e[6],c=e[7],R=e[8],D=e[9],R.AddAvailableCsps()})).then((function(){return R.Count})).then((function(e){if(!e)throw new Error("No CSP informations!");for(var t=[],n=0;n<e;n++)t.push(R.ItemByIndex(n));return Promise.all(t)})).then((function(e){var t=[];for(var n in e){var r=e[n];t.push(r.LegacyCsp),t.push(r.Type),t.push(r.Name)}return Promise.all(t)})).then((function(e){for(var t,n,r=0;r<e.length;r+=3){var i=e[r],o=e[r+1],c=e[r+2];if(i&&o==b){t=o,n=N=c;break}}if(!n||!t)throw new Error("No suitable CSP!");var s=[a.propset_KeySpec(p),a.propset_Existing(!1),a.propset_ExportPolicy(E),a.propset_ProviderType(t),a.propset_ProviderName(n)];return P&&s.push(a.propset_Pin(P)),Promise.all(s)})).then((function(){return o.InitializeFromPrivateKey(h,a,"")})).then((function(){return s.InitializeEncode(C|A|g|O)})).then((function(){for(var e=[],t=0;t<n.length;t++)e.push(cadesplugin.CreateObjectAsync("X509Enrollment.CObjectId"));return Promise.all(e)})).then((function(e){f=e;for(var t=[],r=0;r<n.length;r++)t.push(f[r].InitializeFromValue(n[r]));return Promise.all(t)})).then((function(){for(var e=[],t=0;t<n.length;t++)e.push(_.Add(f[t]));return Promise.all(e)})).then((function(){return cadesplugin.CreateObjectAsync("X509Enrollment.CObjectId")})).then((function(e){return(S=e).InitializeFromValue("1.2.643.100.111")})).then((function(){var e=y(N.slice(0,127));e.unshift(12,e.length);var t=btoa(String.fromCharCode.apply(null,new Uint8Array(e)));return D.Initialize(S,I,t)})).then((function(){return u.InitializeEncode(_)})).then((function(){return o.X509Extensions})).then((function(e){return c=e,Promise.all([c.Add(s),c.Add(u),c.Add(D)])})).then((function(){var e=d(t);return m.Encode(e,v)})).then((function(){return o.propset_Subject(m)})).then((function(){return i.InitializeFromRequest(o)})).then((function(){return i.CreateRequest(I)})).then((function(e){return{csr:e}})).catch((function(e){var t=l(e);throw new Error(t)})):new Promise((function(e){try{var r,i,o=cadesplugin.CreateObject("X509Enrollment.CCspInformations"),a=cadesplugin.CreateObject("X509Enrollment.CX509Enrollment"),c=cadesplugin.CreateObject("X509Enrollment.CX509CertificateRequestPkcs10"),s=cadesplugin.CreateObject("X509Enrollment.CX509PrivateKey"),u=cadesplugin.CreateObject("X509Enrollment.CX509ExtensionKeyUsage"),_=cadesplugin.CreateObject("X509Enrollment.CX509ExtensionEnhancedKeyUsage"),f=cadesplugin.CreateObject("X509Enrollment.CObjectIds"),S=cadesplugin.CreateObject("X509Enrollment.CX500DistinguishedName");o.AddAvailableCsps();for(var T=0;T<o.Count;T++){var m=o.ItemByIndex(T);if(m.LegacyCsp&&m.Type==b){r=m.Type,i=m.Name;break}}if(!i||!r)throw new Error("No suitable CSP!");s.KeySpec=p,s.Existing=!1,s.ExportPolicy=E,s.ProviderName=i,s.ProviderType=r,c.InitializeFromPrivateKey(h,s,""),u.InitializeEncode(C|A|g|O);for(var R=[],N=0;N<n.length;N++)R.push(cadesplugin.CreateObject("X509Enrollment.CObjectId")),R[N].InitializeFromValue(n[N]),f.Add(R[N]);_.InitializeEncode(f),c.X509Extensions.Add(u),c.X509Extensions.Add(_);var D=cadesplugin.CreateObject("X509Enrollment.CObjectId");D.InitializeFromValue("1.2.643.100.111");var P=i.slice(0,127),w=y(P);w.unshift(12,P.length);var L=btoa(String.fromCharCode.apply(null,new Uint8Array(w))),M=cadesplugin.CreateObject("X509Enrollment.CX509Extension");M.Initialize(D,I,L),c.X509Extensions.Add(M);var x=d(t);S.Encode(x,v),c.Subject=S,a.InitializeFromRequest(c),e({csr:a.CreateRequest(I)})}catch(e){var U=l(e);throw new Error(U)}}))},this.writeCertificate=function(t){if(e){var n,r=[];return this.listCertificates().then((function(e){for(var t in e)r.push(e[t].id);return cadesplugin.CreateObjectAsync("X509Enrollment.CX509Enrollment")})).then((function(e){return(n=e).Initialize(h)})).then((function(){return n.InstallResponse(S,t,I,"")})).then(this.listCertificates).then((function(e){for(var t in e){var n=e[t].id;if(r.indexOf(n)<0)return n}throw new Error("Не удалось найти установленный сертификат по отпечатку")})).catch((function(e){var t=l(e);throw new Error(t)}))}return new Promise((function(e){try{var n=[],r=cadesplugin.CreateObject("CAPICOM.Store");r.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED);for(var i=r.Certificates,o=1;o<=i.Count;o++)n.push(i.Item(o).Thumbprint);r.Close();var a=cadesplugin.CreateObject("X509Enrollment.CX509Enrollment");a.Initialize(h),a.InstallResponse(S,t,I,""),(r=cadesplugin.CreateObject("CAPICOM.Store")).Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED),i=r.Certificates;for(var c=!1,s="",u=1;u<=i.Count;u++)s=i.Item(u).Thumbprint,n.indexOf(s)<0&&(c=!0);if(r.Close(),!c)throw new Error("Не удалось найти установленный сертификат по отпечатку");e(s)}catch(e){var _=l(e);throw new Error(_)}}))},this.certificateInfo=function(t,n){n||(n={checkValid:!1});var r=function(){return"Название:              "+this.Name+"\nИздатель:              "+this.IssuerName+"\nСубъект:               "+this.SubjectName+"\nВерсия:                "+this.Version+"\nАлгоритм:              "+this.Algorithm+"\nСерийный №:            "+this.SerialNumber+"\nОтпечаток SHA1:        "+this.Thumbprint+"\nНе действителен до:    "+this.ValidFromDate+"\nНе действителен после: "+this.ValidToDate+"\nПриватный ключ:        "+(this.HasPrivateKey?"Есть":"Нет")+"\nКриптопровайдер:       "+this.ProviderName+"\nВалидный:              "+(this.IsValid?"Да":"Нет")};if(e){var i={};return _(t).then((function(e){return Promise.all([e.HasPrivateKey(),n.checkValid?e.IsValid().then((function(e){return e.Result})):void 0,e.IssuerName,e.SerialNumber,e.SubjectName,e.Thumbprint,e.ValidFromDate,e.ValidToDate,e.Version,e.PublicKey().then((function(e){return e.Algorithm})).then((function(e){return e.FriendlyName})),e.HasPrivateKey().then((function(t){return!t&&["",void 0]||e.PrivateKey.then((function(e){return Promise.all([e.ProviderName,e.ProviderType])}))}))])})).then((function(e){if((i={HasPrivateKey:e[0],IsValid:e[1],IssuerName:e[2],Issuer:void 0,SerialNumber:e[3],SubjectName:e[4],Subject:void 0,Name:void 0,Thumbprint:e[5],ValidFromDate:new Date(e[6]),ValidToDate:new Date(e[7]),Version:e[8],Algorithm:e[9],ProviderName:e[10][0],ProviderType:e[10][1]}).Subject=f(i.SubjectName),i.Issuer=f(i.IssuerName),i.Name=i.Subject.CN,!n.checkValid){var t=new Date;i.IsValid=t>=i.ValidFromDate&&t<=i.ValidToDate}return i.toString=r,i})).catch((function(e){var t=l(e);throw new Error(t)}))}return new Promise((function(e){try{var i=_(t),o=i.HasPrivateKey(),a=f(i.SubjectName),c={HasPrivateKey:o,IsValid:n.checkValid?i.IsValid().Result:void 0,IssuerName:i.IssuerName,Issuer:f(i.IssuerName),SerialNumber:i.SerialNumber,SubjectName:i.SubjectName,Subject:a,Name:a.CN,Thumbprint:i.Thumbprint,ValidFromDate:new Date(i.ValidFromDate),ValidToDate:new Date(i.ValidToDate),Version:i.Version,Algorithm:i.PublicKey().Algorithm.FriendlyName,ProviderName:o&&i.PrivateKey.ProviderName||"",ProviderType:o&&i.PrivateKey.ProviderType||void 0};if(!n.checkValid){var s=new Date;c.IsValid=s>=c.ValidFromDate&&s<=c.ValidToDate}c.toString=r,e(c)}catch(e){var u=l(e);throw new Error(u)}}))},this.listCertificates=function(){var t,n,r=a();return e?cadesplugin.then((function(){return cadesplugin.CreateObjectAsync("CAPICOM.Store")})).then((function(e){return(t=e).Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED)})).then((function(){return s(t)})).then((function(e){return n=e,t.Close()})).then((function(){var e;return r?t.Open(cadesplugin.CADESCOM_CONTAINER_STORE).then((function(){var e=n.map((function(e){return e.id}));return s(t,e)})).then((function(n){return e=n,t.Close()})).then((function(){return e})).catch((function(e){return console.log(e),[]})):[]})).then((function(e){var t;return(t=n).push.apply(t,R(e)),n})).catch((function(e){var t=l(e);throw new Error(t)})):new Promise((function(e){try{var t=cadesplugin.CreateObject("CAPICOM.Store");t.Open(cadesplugin.CAPICOM_CURRENT_USER_STORE,cadesplugin.CAPICOM_MY_STORE,cadesplugin.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED);var n=s(t);if(t.Close(),r)try{t.Open(cadesplugin.CADESCOM_CONTAINER_STORE);var i=s(t,n.map((function(e){return e.id})));t.Close(),n.push.apply(n,R(i))}catch(e){console.log(e)}e(n)}catch(e){var o=l(e);throw new Error(o)}}))},this.readCertificate=function(t){return e?_(t).then((function(e){return e.Export(cadesplugin.CADESCOM_ENCODE_BASE64)})).catch((function(e){var t=l(e);throw new Error(t)})):new Promise((function(e){try{e(_(t).Export(cadesplugin.CADESCOM_ENCODE_BASE64))}catch(e){var n=l(e);throw new Error(n)}}))},this.signData=function(t,n,r){"string"==typeof r&&(r={pin:r}),r||(r={});var i,a,c,s=r,u=s.pin,f=s.attached;return e?_(n,u).then((function(e){return i=e,Promise.all([cadesplugin.CreateObjectAsync("CAdESCOM.CPSigner"),cadesplugin.CreateObjectAsync("CAdESCOM.CadesSignedData")])})).then((function(e){return a=e[0],c=e[1],Promise.all([a.propset_Certificate(i),a.propset_Options(o),c.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY)])})).then((function(){return c.propset_Content(t)})).then((function(){return c.SignCades(a,cadesplugin.CADESCOM_CADES_BES,!f)})).catch((function(e){var t=l(e);throw new Error(t)})):new Promise((function(e){try{var r=_(n,u),i=cadesplugin.CreateObject("CAdESCOM.CPSigner");i.Certificate=r,i.Options=o;var a=cadesplugin.CreateObject("CAdESCOM.CadesSignedData");a.ContentEncoding=cadesplugin.CADESCOM_BASE64_TO_BINARY,a.Content=t,e(a.SignCades(i,cadesplugin.CADESCOM_CADES_BES,!f))}catch(e){var c=l(e);throw new Error(c)}}))},this.signData2=function(t,n,r,i){var a=arguments;i||(i={});var c,s,u,f,d=i,p=d.pin,E=d.pin2,h=d.attached;return e?Promise.all([_(n,p),_(r,E)]).then((function(e){return c=e[0],s=e[1],Promise.all([cadesplugin.CreateObjectAsync("CAdESCOM.CPSigner"),cadesplugin.CreateObjectAsync("CAdESCOM.CadesSignedData")])})).then((function(e){return u=e[0],(f=e[1]).propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY)})).then((function(){return f.propset_Content(t)})).then((function(){return Promise.all([u.propset_Certificate(c),u.propset_Options(o)])})).then((function(){return f.SignCades(u,cadesplugin.CADESCOM_CADES_BES,!h)})).then((function(){return Promise.all([u.propset_Certificate(s),u.propset_Options(o)])})).then((function(){return f.CoSignCades(u,cadesplugin.CADESCOM_CADES_BES)})).catch((function(e){console.log(a);var t=l(e);throw new Error(t)})):new Promise((function(e){try{var i=_(n,p),a=_(r,E),c=cadesplugin.CreateObject("CAdESCOM.CadesSignedData");c.ContentEncoding=cadesplugin.CADESCOM_BASE64_TO_BINARY,c.Content=t;var s=cadesplugin.CreateObject("CAdESCOM.CPSigner");s.Certificate=i,s.Options=o;c.SignCades(s,cadesplugin.CADESCOM_CADES_BES,!h);s.Certificate=a,s.Options=o,e(c.CoSignCades(s,cadesplugin.CADESCOM_CADES_BES))}catch(e){var u=l(e);throw new Error(u)}}))},this.addSign=function(t,n,r,i){i||(i={});var a,c,s,u=i,f=u.pin,d=u.attached;return e?_(r,f).then((function(e){return a=e,Promise.all([cadesplugin.CreateObjectAsync("CAdESCOM.CPSigner"),cadesplugin.CreateObjectAsync("CAdESCOM.CadesSignedData")])})).then((function(e){return c=e[0],s=e[1],d?Promise.resolve():s.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY).then((function(){return s.propset_Content(t)}))})).then((function(){return s.VerifyCades(n,cadesplugin.CADESCOM_CADES_BES,!d).catch((function(e){console.log("Existing sign not verified: %o",e)}))})).then((function(){return Promise.all([c.propset_Certificate(a),c.propset_Options(o)])})).then((function(){return s.CoSignCades(c,cadesplugin.CADESCOM_CADES_BES)})).catch((function(e){var t=l(e);throw new Error(t)})):new Promise((function(e){try{var i=_(r,f),a=cadesplugin.CreateObject("CAdESCOM.CadesSignedData");d||(a.ContentEncoding=cadesplugin.CADESCOM_BASE64_TO_BINARY,a.Content=t);try{a.VerifyCades(n,cadesplugin.CADESCOM_CADES_BES,!d)}catch(e){console.log("Existing sign not verified: %o",e)}var c=cadesplugin.CreateObject("CAdESCOM.CPSigner");c.Certificate=i,c.Options=o,e(a.CoSignCades(c,cadesplugin.CADESCOM_CADES_BES))}catch(e){var s=l(e);throw new Error(s)}}))},this.verifySign=function(t,n,r){r||(r={});var i,o=r.attached;return e?cadesplugin.then((function(){return cadesplugin.CreateObjectAsync("CAdESCOM.CadesSignedData")})).then((function(e){return i=e,o?Promise.resolve():i.propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY).then((function(){return i.propset_Content(t)}))})).then((function(){return i.VerifyCades(n,cadesplugin.CADESCOM_CADES_BES,!o)})).then((function(){return!0})).catch((function(e){var t=l(e);throw new Error(t)})):new Promise((function(e){try{var r=cadesplugin.CreateObject("CAdESCOM.CadesSignedData");o||(r.ContentEncoding=cadesplugin.CADESCOM_BASE64_TO_BINARY,r.Content=t),r.VerifyCades(n,cadesplugin.CADESCOM_CADES_BES,!o),e(!0)}catch(e){var i=l(e);throw new Error(i)}}))},this.encryptData=function(t,n){var r,i,o;return e?_(n).then((function(e){return r=e,cadesplugin.CreateObjectAsync("CAdESCOM.CPEnvelopedData")})).then((function(e){return(i=e).propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY)})).then((function(){return i.propset_Content(t)})).then((function(){return i.Recipients})).then((function(e){return(o=e).Clear()})).then((function(){return o.Add(r)})).then((function(){return i.Encrypt()})).catch((function(e){var t=l(e);throw new Error(t)})):new Promise((function(e){try{var r=_(n),i=cadesplugin.CreateObject("CAdESCOM.CPEnvelopedData");i.ContentEncoding=cadesplugin.CADESCOM_BASE64_TO_BINARY,i.Content=t,i.Recipients.Clear(),i.Recipients.Add(r),e(i.Encrypt())}catch(e){var o=l(e);throw new Error(o)}}))},this.decryptData=function(t,n,r){var i,o,a;return e?_(n,r).then((function(e){return i=e,cadesplugin.CreateObjectAsync("CAdESCOM.CPEnvelopedData")})).then((function(e){return(o=e).propset_ContentEncoding(cadesplugin.CADESCOM_BASE64_TO_BINARY)})).then((function(){return o.Recipients})).then((function(e){return(a=e).Clear()})).then((function(){return a.Add(i)})).then((function(){return o.Decrypt(t)})).then((function(){return o.Content})).catch((function(e){var t=l(e);throw new Error(t)})):new Promise((function(e){try{var i=_(n,r),o=cadesplugin.CreateObject("CAdESCOM.CPEnvelopedData");o.ContentEncoding=cadesplugin.CADESCOM_BASE64_TO_BINARY,o.Recipients.Clear(),o.Recipients.Add(i),o.Decrypt(t),e(o.Content)}catch(e){var a=l(e);throw new Error(a)}}))}},D=n(33),P=n.n(D),b={ALREADY_LOGGED_IN:"Пользователь уже авторизован",ASN1_ERROR:"Ошибка разбора структуры ASN1",BAD_PARAMS:"Неправильные параметры",BASE64_DECODE_FAILED:"Ошибка декодирования из base64",CA_CERTIFICATES_NOT_FOUND:"Корневые сертификаты отсутствуют",CANNOT_SAVE_PIN_IN_CACHE:"Невозможно сохранить PIN-код",CANT_HARDWARE_VERIFY_CMS:"Проверка множественной подписи с вычислением хеша на устройстве не поддерживается",CEK_NOT_AUTHENTIC:"Контейнер в формате CMS поврежден или переданный ключ не является ключом получателя",CERTIFICATE_CATEGORY_BAD:"Некорректная категория сертификата",CERTIFICATE_EXISTS:"Сертификат с таким телом уже существует на устройстве",CERTIFICATE_HASH_NOT_UNIQUE:"Идентификатор сертификата не уникален",CERTIFICATE_NOT_FOUND:"Сертификат не найден на устройстве",CERTIFICATE_VERIFICATION_ERROR:"Ошибка проверки сертификата",DATA_INVALID:"Неверные данные",DEVICE_ERROR:"Ошибка устройства.",DEVICE_NOT_FOUND:"Устройство не найдено",FUNCTION_FAILED:"Невозможно выполнить операцию",FUNCTION_REJECTED:"Операция отклонена пользователем",KEY_FUNCTION_NOT_PERMITTED:"Операция запрещена для данного типа ключа",KEY_ID_NOT_UNIQUE:"Идентификатор ключевой пары не уникален",KEY_LABEL_NOT_UNIQUE:"Метка ключевой пары не уникальна",KEY_NOT_FOUND:"Не найдена соответствующая ключевая пара.",LICENCE_READ_ONLY:"Лицензия доступна только для чтения",NOT_ENOUGH_MEMORY:"Недостаточно памяти",PEM_ERROR:"Ошибка декодирования PEM",PIN_CHANGED:"PIN-код был изменен извне",PIN_INCORRECT:"Введен неправильный PIN-код",PIN_INVALID:"PIN-код содержит недопустимые символы",PIN_LENGTH_INVALID:"Введен слишком короткий PIN-код",PIN_LOCKED:"PIN-код заблокирован",PKCS11_LOAD_FAILED:"Не удалось загрузить модуль PKCS#11",SESSION_INVALID:"Текущая сессия устарела",TOKEN_INVALID:"Ошибка чтения/записи устройства.",UNSUPPORTED_BY_TOKEN:"Операция не поддерживается токеном",USER_NOT_LOGGED_IN:"Пользователь не авторизован",USER_PIN_NOT_INITIALIZED:"PIN-код пользователя не инициализирован",WRONG_KEY_TYPE:"Неправильный тип ключа",X509_AKID_ISSUER_SERIAL_MISMATCH:"Несовпадение серийного номера субьекта и доверенного центра",X509_AKID_SKID_MISMATCH:"Несовпадение идентификатора ключа у субьекта и доверенного центра",X509_APPLICATION_VERIFICATION:"Ошибка проверки приложения",X509_CERT_CHAIN_TOO_LONG:"Слишком длинная цепочка сертификатов",X509_CERT_HAS_EXPIRED:"Срок действия сертификата истек",X509_CERT_NOT_YET_VALID:"Срок действия сертификата еще не начался",X509_CERT_REJECTED:"Сертифкат отклонен",X509_CERT_REVOKED:"Сертификат отозван",X509_CERT_SIGNATURE_FAILURE:"Неверная подпись сертификата",X509_CERT_UNTRUSTED:"Недоверенный сертификат",X509_CRL_HAS_EXPIRED:"Срок действия CRL истек",X509_CRL_NOT_YET_VALID:"Срок действия CRL еще не начался",X509_CRL_PATH_VALIDATION_ERROR:"Неправильный путь CRL",X509_CRL_SIGNATURE_FAILURE:"Неверная подпись CRL",X509_DEPTH_ZERO_SELF_SIGNED_CERT:"Недоверенный самоподписанный сертификат",X509_DIFFERENT_CRL_SCOPE:"Другая область CRL",X509_ERROR_IN_CERT_NOT_AFTER_FIELD:'Некорректные данные в поле "notAfter" у сертификата',X509_ERROR_IN_CERT_NOT_BEFORE_FIELD:'Некорректные данные в поле "notBefore" у сертификата',X509_ERROR_IN_CRL_LAST_UPDATE_FIELD:'Некорректные данные в поле "lastUpdate" у CRL',X509_ERROR_IN_CRL_NEXT_UPDATE_FIELD:'Некорректные данные в поле "nextUpdate" у CRL',X509_EXCLUDED_VIOLATION:"Неправильная структура сертфиката",X509_INVALID_CA:"Неверный корневой сертификат",X509_INVALID_EXTENSION:"Неверное или некорректное расширение сертификата",X509_INVALID_NON_CA:"Неверный некорневой сертфикат, помеченный как корневой",X509_INVALID_POLICY_EXTENSION:"Неверное или некорректное расширение политик сертификата",X509_INVALID_PURPOSE:"Неподдерживаемое назначение сертификата",X509_KEYUSAGE_NO_CERTSIGN:"Ключ не может быть использован для подписи сертификатов",X509_KEYUSAGE_NO_CRL_SIGN:"Ключ не может быть использован для подписи CRL",X509_KEYUSAGE_NO_DIGITAL_SIGNATURE:"Ключ не может быть использован для цифровой подписи",X509_NO_EXPLICIT_POLICY:"Явные политики отсутствуют",X509_OUT_OF_MEM:"Нехватает памяти",X509_PATH_LENGTH_EXCEEDED:"Превышена длина пути",X509_PERMITTED_VIOLATION:"Неправильная структура сертифката",X509_PROXY_CERTIFICATES_NOT_ALLOWED:"Проксирующие сертификаты недопустимы",X509_PROXY_PATH_LENGTH_EXCEEDED:"Превышина длина пути прокси",X509_SELF_SIGNED_CERT_IN_CHAIN:"В цепочке обнаружен недоверенный самоподписанный сертификат",X509_SUBJECT_ISSUER_MISMATCH:"Несовпадения субьекта и эмитента",X509_SUBTREE_MINMAX:"Неправильная структура сертифката",X509_UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY:"Невозможно раскодировать открытый ключ эмитента",X509_UNABLE_TO_DECRYPT_CERT_SIGNATURE:"Невозможно расшифровать подпись сертификата",X509_UNABLE_TO_DECRYPT_CRL_SIGNATURE:"Невозможно расшифровать подпись CRL",X509_UNABLE_TO_GET_CRL:"Невозможно получить CRL",X509_UNABLE_TO_GET_CRL_ISSUER:"Невозможно получить CRL подписанта",X509_UNABLE_TO_GET_ISSUER_CERT:"Невозможно получить сертификат подписанта",X509_UNABLE_TO_GET_ISSUER_CERT_LOCALLY:"Невозможно получить локальный сертификат подписанта",X509_UNABLE_TO_VERIFY_LEAF_SIGNATURE:"Невозможно проверить первый сертификат",X509_UNHANDLED_CRITICAL_CRL_EXTENSION:"Неподдерживаемое расширение CRL",X509_UNHANDLED_CRITICAL_EXTENSION:"Неподдерживаемое расширение",X509_UNNESTED_RESOURCE:"RFC 3779 неправильное наследование ресурсов",X509_UNSUPPORTED_CONSTRAINT_SYNTAX:"Неправильная структура сертифката",X509_UNSUPPORTED_CONSTRAINT_TYPE:"Неправильная структура сертфиката",X509_UNSUPPORTED_EXTENSION_FEATURE:"Неподдерживаемое расширение возможностей",X509_UNSUPPORTED_NAME_SYNTAX:"Неправильная структура сертфиката"},w=["cmsDecrypt","cmsEncrypt","createPkcs10","deleteCertificate","deleteKeyPair","enumerateCertificates","enumerateDevices","enumerateKeys","generateKeyPair","getCertificate","getCertificateInfo","getDeviceInfo","getDeviceModel","getDeviceType","getKeyByCertificate","importCertificate","login","logout","parseCertificate","sign","verify"];var L=function(){var e,t;function n(t){var n=t.message&&t.message.match(/^[0-9]+$/)&&t.message||t,r="";if(e)for(var i in e.errorCodes)if(e.errorCodes[i]==n){r=i;break}return r&&b[r]||r||t.message||t}function r(e){var t=new i;for(var n in e){var r=e[n].rdn,o=e[n].value;r&&o&&(t[r]=o)}return c(t)}function o(e){return e.replace(/^-+(BEGIN|END)[^-]+-+$/gm,"").trim()}this.init=function(){return P.a.ready.then((function(e){return window.chrome?P.a.isExtensionInstalled():Promise.resolve(!0)})).then((function(e){if(e)return P.a.isPluginInstalled();throw new Error("Rutoken Extension wasn't found")})).then((function(e){if(e)return P.a.loadPlugin();throw new Error("Rutoken Plugin wasn't found")})).then((function(t){var n=w.filter((function(e){return!t[e]}));if(n.length)throw console.log("Missing plugin functions: ",n),new Error("Отсутствует функционал, убедитесь, что у вас установлен Рутокен Плагин и вы используете Рутокен ЭЦП 2.0");return(e=t).enumerateDevices()})).then((function(n){var r=n.length;if(1===r)t=n.shift();else{if(0===r)throw new Error("Не обнаружено подключенных устройств");if(r>1)throw new Error("Подключено "+r+" устройств")}return Promise.all([e.getDeviceInfo(t,e.TOKEN_INFO_READER),e.getDeviceInfo(t,e.TOKEN_INFO_LABEL),e.getDeviceInfo(t,e.TOKEN_INFO_SERIAL),e.getDeviceModel(t),e.getDeviceType(t)])})).then((function(t){return{version:e.version,serial:t[2],reader:t[0],label:t[1].indexOf("Rutoken ECP <no label>")+1?"":t[1],type:t[4],model:t[3]}})).then(null,(function(e){var t=n(e);throw new Error(t)}))},this.bind=function(r){return new Promise((function(i,o){e.getDeviceInfo(t,e.TOKEN_INFO_IS_LOGGED_IN).then((function(e){if(e)return i("Пользователь уже авторизован"),!1;if(!r&&!(r=prompt("PIN-код доступа к устройству")))throw new Error("Авторизация на устройстве отменена пользователем");return!0})).then((function(n){if(n)return e.login(t,r).then((function(e){i(!0)}));i(!0)})).then(null,(function(e){var t=n(e);o(t)}))}))},this.unbind=function(){return new Promise((function(r,i){e.getDeviceInfo(t,e.TOKEN_INFO_IS_LOGGED_IN).then((function(e){return!!e||(r("Пользователь не авторизован"),!1)})).then((function(n){return!n||e.logout(t).then((function(e){r(!0)}))})).then(null,(function(e){var t=n(e);i(t)}))}))},this.clean=function(){var r=0;return e.enumerateCertificates(t,e.CERT_CATEGORY_USER).then((function(n){var i=[];for(var o in n){var a=n[o];i.push(e.deleteCertificate(t,a))}return r+=i.length,Promise.all(i)})).then((function(){return e.enumerateKeys(t,"")})).then((function(n){var i=[];for(var o in n){var a=n[o];i.push(e.deleteKeyPair(t,a))}return r+=i.length,Promise.all(i)})).then((function(){return r})).then(null,(function(e){var t=n(e);throw new Error(t)}))},this.generateCSR=function(r,i,a){i&&i.length||(i=["clientAuth","emailProtection"]),a||(a={});var c=a.marker||"",s=a.algorithm&&e[a.algorithm]||e.PUBLIC_KEY_ALGORITHM_GOST3410_2012_256,u="XA",_=e.HASH_TYPE_GOST3411_94;s===e.PUBLIC_KEY_ALGORITHM_GOST3410_2012_512?(u="A",_=e.HASH_TYPE_GOST3411_12_512):s===e.PUBLIC_KEY_ALGORITHM_GOST3410_2012_256&&(_=e.HASH_TYPE_GOST3411_12_256);var l={publicKeyAlgorithm:s,paramset:u},f="";return e.generateKeyPair(t,void 0,c,l).then((function(n){f=n;var o=[];for(var a in r)r.hasOwnProperty(a)&&o.push({rdn:a,value:r[a]});var c={keyUsage:["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment"],extKeyUsage:i},s={subjectSignTool:'СКЗИ "РУТОКЕН ЭЦП"',hashAlgorithm:_};return e.createPkcs10(t,f,o,c,s)})).then((function(e){return{csr:o(e),keyPairId:f}})).then(null,(function(r){f&&e.deleteKeyPair(t,f);var i=n(r);throw new Error(i)}))},this.writeCertificate=function(r){var i=e.CERT_CATEGORY_USER;return e.importCertificate(t,r,i).then(null,(function(e){var t=n(e);throw new Error(t)}))},this.certificateInfo=function(i,o){o||(o={});var a=!1,c="";return new Promise((function(r){e.getKeyByCertificate(t,i).then((function(e){r(!!e)})).then(null,(function(e){var t=n(e);console.log("getKeyByCertificate",i,t),r(!1)}))})).then((function(n){return a=n,e.getCertificateInfo(t,i,e.CERT_INFO_SERIAL_NUMBER)})).then((function(n){return c=n,e.parseCertificate(t,i)})).then((function(e){var t=e.text.match(/Version: (\d+)/),n=t.length>1?t[1]:void 0,o=e.text.match(/Public Key Algorithm: (.+)$/m),u=o.length>1?o[1]:"",_=r(e.subject),l=r(e.issuer),f=new Date;return{Name:_.commonName||_.CN,Issuer:l,IssuerName:s(l.toString()),Subject:_,SubjectName:s(_.toString()),Version:n,Algorithm:u,SerialNumber:c,Thumbprint:i.replace(/\:/g,""),ValidFromDate:new Date(e.validNotBefore),ValidToDate:new Date(e.validNotAfter),HasPrivateKey:a,IsValid:f>=new Date(e.validNotBefore)&&f<=new Date(e.validNotAfter),toString:function(){return"Название:              "+this.Name+"\nИздатель:              "+this.IssuerName+"\nСубъект:               "+this.SubjectName+"\nВерсия:                "+this.Version+"\nАлгоритм:              "+this.Algorithm+"\nСерийный №:            "+this.SerialNumber+"\nОтпечаток SHA1:        "+this.Thumbprint+"\nНе действителен до:    "+this.ValidFromDate+"\nНе действителен после: "+this.ValidToDate+"\nПриватный ключ:        "+(this.HasPrivateKey?"Есть":"Нет (или не выполнен вход)")+"\nВалидный:              "+(this.IsValid?"Да":"Нет")}}})).then(null,(function(e){var t=n(e);throw new Error(t)}))},this.listCertificates=function(){var i=[],o=[];return e.enumerateCertificates(t,e.CERT_CATEGORY_USER).then((function(n){i=n;var r=[];for(var o in i)r.push(e.parseCertificate(t,i[o]));return Promise.all(r)})).then((function(e){for(var t in i)if(e[t]){var n=r(e[t].subject);o.push({id:i[t],name:(a=n,a.CN+(a.INNLE?"; ИНН ЮЛ "+a.INNLE:"")+(a.INN?"; ИНН "+a.INN:"")+(a.SNILS?"; СНИЛС "+a.SNILS:"")),subject:n,validFrom:new Date(e[t].validNotBefore),validTo:new Date(e[t].validNotAfter)})}var a;return o})).then(null,(function(e){var t=n(e);throw new Error(t)}))},this.readCertificate=function(r){return e.getCertificate(t,r).then((function(e){return o(e)})).then(null,(function(e){var t=n(e);throw new Error(t)}))},this.signData=function(r,i,o){o||(o={});var a=o.attached;return e.sign(t,i,r,e.DATA_FORMAT_BASE64,{detached:!a}).then(null,(function(e){var t=n(e);throw new Error(t)}))},this.addSign=function(r,i,o,a){a||(a={});var c=a.attached;return c&&(r=""),e.sign(t,o,r,e.DATA_FORMAT_BASE64,{detached:!c,CMS:i}).then(null,(function(e){var t=n(e);throw new Error(t)}))},this.verifySign=function(r,i,o){o||(o={});var a={base64:!0,verifyCertificate:!1};return o.attached||(a.data=r),e.verify(t,i,a).then((function(e){if(!e)throw new Error("подпись не верна");return!0})).then(null,(function(e){var t=n(e);throw new Error(t)}))},this.encryptData=function(r,i){return e.getCertificate(t,i).then((function(n){return e.cmsEncrypt(t,"",[n],r,{base64:!0})})).then(null,(function(e){var t=n(e);throw new Error(t)}))},this.decryptData=function(r,i){return e.getKeyByCertificate(t,i).then((function(n){return e.cmsDecrypt(t,n,r,{base64:!0})})).then(null,(function(e){var t=n(e);throw new Error(t)}))}};e.hot.accept()}])}));
//# sourceMappingURL=ruscrypto.min.js.map