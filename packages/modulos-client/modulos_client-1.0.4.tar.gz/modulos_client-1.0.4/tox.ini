[tox]
envlist = black, flake8, mypy, py310, py311

[flake8]
extend-ignore =
     # check ignored by default in flake8. Meaning unclear.
    E24,
    # continuation line under-indented
    E121,
    # closing bracket does not match indentation
    E123,
    # continuation line over-indented for hanging indent
    E126,
    # space before : (needed for how black formats slicing)
    E203,
    # missing whitespace around arithmetic operator
    E226,
    # multiple statements on one line (def)
    E704,
    # do not assign a lambda expression, use a def
    E731,
    # do not use variables named 'l', 'O', or 'I'
    E741,
    # line break before binary operator
    W503,
    # line break after binary operator
    W504
max-line-length = 88

[testenv:flake8]
basepython = python
deps = flake8
skip_install = true
changedir = modulos_client
commands = flake8 .

[testenv:black]
basepython = python
deps = black
changedir = modulos_client
commands = black --check .

[testenv:mypy]
basepython = python
allowlist_externals = mypy
deps =
    mypy
    types-requests
    types-passlib
    types-PyYAML
    types-tabulate
changedir = modulos_client
commands = python -m mypy --ignore-missing-imports .

[testenv:py310]
allowlist_externals = pytest
extras = dev
commands =
    pytest .


[testenv:py311]
allowlist_externals = pytest
extras = dev
commands =
    pytest .
