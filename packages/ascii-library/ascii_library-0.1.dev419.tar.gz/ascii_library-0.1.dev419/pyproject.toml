[build-system]
requires = ["setuptools>=72", "wheel", "setuptools-scm[toml]>=8"]
build-backend = "setuptools.build_meta"

[project]
name = "ascii_library"
dynamic = ["version"]
description = "A monorepo for centralizing, managing, and deploying data science and research projects at ASCII, with integrated support for Python, R, and containerized pipelines."

authors = [
  { name = "Hernan Picatto", email = "hernan.picatto@ascii.ac.at" },
  { name = "Georg Heiler", email = "georg.heiler@ascii.ac.at" },
]
readme = { file = "README.md", content-type = "text/markdown" }
license = { file = "LICENSE" }
dependencies = ["dagster>=1.11,<1.12", "dagster-pipes>=1.11,<1.12", "boto3"]

[project.optional-dependencies]

[project.urls]
# Define project-related URLs such as homepage or documentation
repository = "https://github.com/ascii-supply-networks/ascii-hydra"
issues = "https://github.com/ascii-supply-networks/ascii-hydra/issues"

[tool.setuptools]
include-package-data = true

[tool.setuptools.packages.find]
where = ["."]
exclude = ["ascii_library_tests"]

[tool.setuptools_scm]
root = "../../.."
tag_regex = "^sync_oss_v(?P<version>[0-9]+(?:\\.[0-9]+)*)$"
git_describe_command = "git describe --dirty --tags --long --match sync_oss_v*"
version_scheme = "guess-next-dev"
local_scheme = "no-local-version"

[tool.semantic_release]
version_toml = []
tag_format = "sync_oss_v{version}"
build_command = ""

[tool.semantic_release.branches.main]
match = "^main$"

[tool.semantic_release.branches.rc]
match = "^(bug/.+|feature/.+|release/.+|hotfix/.+)$"
prerelease = true
prerelease_token = "rc"
