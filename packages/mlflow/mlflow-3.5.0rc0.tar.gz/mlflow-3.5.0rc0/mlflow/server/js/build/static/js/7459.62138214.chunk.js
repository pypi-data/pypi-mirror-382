"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[7459],{26626:function(e,n,t){t.d(n,{b:function(){return r}});var i=t(74823);const r=e=>{if(e)return e instanceof i.K4&&e.graphQLErrors.length>0?e.graphQLErrors.map((e=>e.message||e.toString())).join(", "):"message"in e?e.message:e.toString()}},38120:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var i=t(89555),r=t(31014),a=t(68617),s=t(86754),o=t(68048),l=t(39416),d=t(4877),m=t.n(d),c=t(48624),u=t(72314),g=t(10811),p=t(26809),f=t(7204),h=t(9133);var b=t(62702),v=t(56928),x=t(26626),E=t(88443),T=t(33141),Y=t(50111);const M=({experiment:e,loading:n,onNoteUpdated:t,error:s,experimentKindSelector:l,inferredExperimentKind:d,refetchExperiment:m})=>{var c,u;const{theme:g}=(0,a.u)(),[p,f]=(0,r.useState)(!0),[h,M]=(0,r.useState)(!1),y=(0,r.useMemo)((()=>{const n=e;return n?{...n,creationTime:Number(null===n||void 0===n?void 0:n.creationTime),lastUpdateTime:Number(null===n||void 0===n?void 0:n.lastUpdateTime)}:null}),[e]),A=null===y||void 0===y||null===(c=y.tags)||void 0===c||null===(u=c.find((e=>e.key===v.e)))||void 0===u?void 0:u.value,S=(0,x.b)(s);return n?(0,Y.Y)(T.J,{}):S?(0,Y.Y)("div",{css:(0,i.AH)({height:g.general.heightBase,marginTop:g.spacing.sm,marginBottom:g.spacing.md},""),children:(0,Y.Y)(o.Alert,{componentId:"mlflow.logged_model.list.header.error",type:"error",message:(0,Y.Y)(E.A,{id:"E4Te7L",defaultMessage:"Experiment load error: {errorMessage}",values:{errorMessage:S}}),closable:!1})}):y?(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(T.i,{experiment:y,inferredExperimentKind:d,setEditing:M,experimentKindSelector:l,refetchExperiment:m}),(0,Y.Y)(b.A,{experiment:y,setShowAddDescriptionButton:f,editing:h,setEditing:M,onNoteUpdated:t,defaultValue:A})]}):null};var y=t(81313),A=t(25866),S=t(91144),P=t(62230),I=t(11039),R=t(83667),L=t(7355),k=t(15543),D=t(58481);var N={name:"6z2y42",styles:"& > div{margin-bottom:0;}"};const K=({experimentId:e,activeTab:n})=>{const{theme:t}=(0,a.u)();return(0,Y.Y)(o.Tabs.Root,{componentId:e,value:n,css:N,children:(0,Y.FD)(o.Tabs.List,{children:[(0,Y.Y)(o.Tabs.Trigger,{value:A.fM.EvaluationRuns,children:(0,Y.Y)(c.N_,{css:(0,i.AH)({color:t.colors.textPrimary},""),to:D.Ay.getExperimentPageTabRoute(e,A.fM.EvaluationRuns),children:(0,Y.Y)(E.A,{id:"eAFhRf",defaultMessage:"Runs"})})}),(0,Y.Y)(o.Tabs.Trigger,{value:A.fM.Datasets,children:(0,Y.Y)(c.N_,{css:(0,i.AH)({color:t.colors.textPrimary},""),to:D.Ay.getExperimentPageTabRoute(e,A.fM.Datasets),children:(0,Y.Y)(E.A,{id:"iVrgfC",defaultMessage:"Datasets"})})})]})})};var B={name:"6z2y42",styles:"& > div{margin-bottom:0;}"};const F=({experimentId:e,activeTab:n})=>{const{theme:t}=(0,a.u)();return(0,Y.Y)(o.Tabs.Root,{componentId:"mlflow.labeling-sub-tab-selector",value:n,css:B,children:(0,Y.FD)(o.Tabs.List,{children:[(0,Y.Y)(o.Tabs.Trigger,{value:A.fM.LabelingSessions,children:(0,Y.Y)(c.N_,{css:(0,i.AH)({color:t.colors.textPrimary},""),to:D.Ay.getExperimentPageTabRoute(e,A.fM.LabelingSessions),children:(0,Y.Y)(E.A,{id:"0vs7Wu",defaultMessage:"Sessions"})})}),(0,Y.Y)(o.Tabs.Trigger,{value:A.fM.LabelingSchemas,children:(0,Y.Y)(c.N_,{css:(0,i.AH)({color:t.colors.textPrimary},""),to:D.Ay.getExperimentPageTabRoute(e,A.fM.LabelingSchemas),children:(0,Y.Y)(E.A,{id:"iKSfnk",defaultMessage:"Schemas"})})})]})})};var _=t(24011),w=t(80847);const z=r.lazy((()=>Promise.all([t.e(618),t.e(7027),t.e(4175),t.e(4262),t.e(4153),t.e(2134),t.e(3067),t.e(3793),t.e(6699),t.e(7885),t.e(5998),t.e(2516),t.e(1107),t.e(4680),t.e(3428),t.e(1654),t.e(5813),t.e(3285),t.e(1910),t.e(590),t.e(3270),t.e(505)]).then(t.bind(t,21339)))),H=r.lazy((()=>Promise.all([t.e(618),t.e(7027),t.e(4175),t.e(4262),t.e(3067),t.e(3793),t.e(6699),t.e(7885),t.e(5998),t.e(2516),t.e(5813),t.e(3285),t.e(9023)]).then(t.bind(t,90355)))),G=r.lazy((()=>Promise.all([t.e(618),t.e(7027),t.e(4262),t.e(4153),t.e(2134),t.e(1570),t.e(1107),t.e(4680),t.e(3428),t.e(1654),t.e(7453),t.e(47),t.e(1463),t.e(8655)]).then(t.bind(t,49840)))),V=r.lazy((()=>Promise.all([t.e(618),t.e(7027),t.e(4175),t.e(4262),t.e(4153),t.e(2134),t.e(3793),t.e(6699),t.e(7885),t.e(5998),t.e(2516),t.e(1107),t.e(4680),t.e(3428),t.e(590),t.e(7364),t.e(1077)]).then(t.bind(t,32495)))),U=r.lazy((()=>Promise.all([t.e(618),t.e(7027),t.e(7885),t.e(7349)]).then(t.bind(t,30741)))),C=()=>{const{experimentId:e,tabName:n}=(0,c.g)(),{theme:t}=(0,a.u)(),d=(0,c.Zp)(),{tabName:b}=(0,_.H)(),v=null!==b&&void 0!==b?b:(0,y.SK)(A.fM,n,A.fM.Models);m()(e,"Experiment ID must be defined"),(0,S.BV)()||m()(n,"Tab name must be defined");const{data:x,loading:E,refetch:T,apiError:N,apolloError:B}=(0,u.L)({experimentId:e}),{mutate:C,isLoading:O}=(0,P.G)(T),Q=null!==N&&void 0!==N?N:B;if((e=>{const n=(0,g.wA)();(0,r.useEffect)((()=>{const t=(0,h.get)(e,"experimentId");e&&t&&n(((n,i)=>{var r,a;Boolean(null===(r=i().entities)||void 0===r||null===(a=r.experimentsById)||void 0===a?void 0:a[t])||n({type:(0,f.ec)(p.gT),payload:{experiment:e}})}))}),[e,n])})(x),Q instanceof l.ZR)throw Q;const Z=x&&"tags"in x?null===x||void 0===x?void 0:x.tags:[],X=(0,R.BH)(Z),{inferredExperimentKind:$,inferredExperimentPageTab:j,isLoading:J,dismiss:W}=(0,L.F)({experimentId:e,isLoadingExperiment:E,enabled:(0,S.XQ)()&&!X,experimentTags:Z,updateExperimentKind:C}),{pathname:q}=(0,c.zy)(),ee=Boolean((0,c.B6)(D.AY.experimentPage,q));return(0,w.B)({enabled:(0,S.BV)()&&ee,experimentId:e}),(0,r.useEffect)((()=>{j&&d(D.Ay.getExperimentPageTabRoute(e,j),{replace:!0})}),[e,j]),$===A.Gk.NO_INFERRED_TYPE&&(0,S.XQ)()?(0,Y.Y)(k.T,{onConfirm:n=>{C({experimentId:e,kind:n},{onSettled:()=>{W(),(0,S.BV)()&&n===A.Gk.GENAI_DEVELOPMENT&&d(D.Ay.getExperimentPageTabRoute(e,A.fM.Traces),{replace:!0})}})},onDismiss:W}):(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(M,{experiment:x,loading:E||J,onNoteUpdated:T,error:Q,inferredExperimentKind:$,refetchExperiment:T,experimentKindSelector:(0,Y.Y)(I.f,{value:X,inferredExperimentKind:$,onChange:n=>C({experimentId:e,kind:n}),isUpdating:O||J,readOnly:!1},$)}),v===A.fM.EvaluationRuns||v===A.fM.Datasets?(0,Y.Y)(K,{experimentId:e,activeTab:v}):v===A.fM.LabelingSessions||v===A.fM.LabelingSchemas?(0,Y.Y)(F,{experimentId:e,activeTab:v}):(0,Y.FD)(Y.FK,{children:[(0,Y.Y)(s.S,{size:"sm",shrinks:!1}),(0,Y.Y)("div",{css:(0,i.AH)({width:"100%",borderTop:`1px solid ${t.colors.border}`},"")})]}),(0,Y.Y)(s.S,{size:"sm",shrinks:!1}),(0,Y.Y)(r.Suspense,{fallback:(0,Y.Y)(Y.FK,{children:[...Array(8).keys()].map((e=>(0,Y.Y)(o.ParagraphSkeleton,{label:"Loading...",seed:`s-${e}`},e)))}),children:(0,S.BV)()?(0,Y.Y)(c.sv,{}):(0,Y.FD)(Y.FK,{children:[v===A.fM.Traces&&(0,Y.Y)(H,{}),v===A.fM.Runs&&(0,Y.Y)(z,{}),v===A.fM.Models&&(0,Y.Y)(G,{}),v===A.fM.EvaluationRuns&&(0,Y.Y)(V,{}),v===A.fM.Datasets&&(0,Y.Y)(U,{})]})})]})};var O=()=>{const{theme:e}=(0,a.u)();return(0,Y.Y)("div",{css:(0,i.AH)({flex:1,overflow:"hidden",display:"flex",flexDirection:"column",padding:e.spacing.md,height:"100%"},""),children:(0,Y.Y)(C,{})})}},80847:function(e,n,t){t.d(n,{B:function(){return m}});var i=t(31014),r=t(48624),a=t(58481),s=t(25866),o=t(72314),l=t(83667),d=t(81313);const m=({enabled:e,experimentId:n})=>{const t=(0,r.Zp)(),{data:m,loading:c}=(0,o.L)({experimentId:n,options:{skip:!e}}),u=(0,i.useMemo)((()=>{if(c||!m)return null;const e=m&&"tags"in m?null===m||void 0===m?void 0:m.tags:[];if(m){const n=(0,l.BH)(e);return(0,d.SK)(s.Gk,n,s.Gk.NO_INFERRED_TYPE)}return null}),[m,c]);return(0,i.useEffect)((()=>{if(!e||!u)return;let i=s.fM.Runs;u===s.Gk.GENAI_DEVELOPMENT&&(i=s.fM.Traces),t(a.Ay.getExperimentPageTabRoute(n,i),{replace:!0})}),[t,n,e,u]),{isEnabled:e,isLoading:e&&c}}}}]);
//# sourceMappingURL=7459.62138214.chunk.js.map