<!-- Repository List Content Template -->
{% if repositories %}
<div class="space-y-3">
    {% for repo in repositories %}
    <div class="border dark:border-gray-600 rounded-lg p-4 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
        <div class="flex justify-between items-start">
            <div class="flex-1">
                <h4 class="font-medium text-gray-900 dark:text-gray-100">{{ repo.name }}</h4>
                <p class="text-sm text-gray-600 dark:text-gray-300">{{ repo.path }}</p>
                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                    Created: {{ repo.created_at | format_datetime_browser("%Y-%m-%d %H:%M", browser_tz_offset) if repo.created_at else "Unknown" }}
                </p>
            </div>
            <div class="flex flex-col space-y-2 ml-4">
                <button hx-get="/api/tabs/archives"
                        hx-target="#main-content"
                        hx-swap="innerHTML"
                        hx-push-url="/archives"
                        hx-trigger="click"
                        hx-vals='{"preselect_repo": "{{ repo.id }}"}'
                        class="px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 focus:ring-2 focus:ring-green-500">
                    View Archives
                </button>
                <button hx-get="/api/repositories/{{ repo.id }}/details-modal"
                        hx-target="body"
                        hx-swap="beforeend"
                        class="px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 focus:ring-2 focus:ring-blue-500">
                    Details
                </button>
                <button hx-delete="/api/repositories/{{ repo.id }}"
                        hx-confirm="Are you sure you want to delete the repository '{{ repo.name }}'? This action cannot be undone."
                        hx-target="#repository-list"
                        hx-swap="innerHTML"
                        class="px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 focus:ring-2 focus:ring-red-500">
                    Delete
                </button>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="text-gray-600 dark:text-gray-300 text-center py-4">
    <p>No repositories configured.</p>
    <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">Create or import a repository to get started.</p>
</div>
{% endif %}