<!-- Archive Repository Selector -->
<div class="flex items-center space-x-4">
    <div class="flex-1">
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2">Select Repository</label>
        <select id="archive-repository-select" 
                name="repository_id"
                hx-post="/api/repositories/archives/load-with-spinner"
                hx-target="#archives-list"
                hx-swap="innerHTML"
                hx-trigger="change{% if preselect_repo %}, load{% endif %}"
                hx-include="this"
                class="select-modern w-full">
            <option value="">Select a repository to view archives...</option>
            {% for repo in repositories %}
            <option value="{{ repo.id }}"{% if preselect_repo and preselect_repo == repo.id|string %} selected{% endif %}>{{ repo.name }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="flex-shrink-0 pt-6">
        <button 
            hx-post="/api/repositories/archives/load-with-spinner"
            hx-target="#archives-list"
            hx-swap="innerHTML"
            hx-include="#archive-repository-select"
            hx-trigger="click"
            id="refresh-archives-btn"
            class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"
        >
            Refresh
        </button>
    </div>
</div>