[build-system]
requires = ["setuptools>=42", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "imlresearch"
description = "A Python Toolkit for Reproducible Image-Based ML Experiments"
readme = { file = "README.md", content-type = "text/markdown" }
requires-python = ">=3.10"
license = {file = "LICENSE"}
authors = [
    { name = "SiulRek", email = "luiskraker2000@gmail.com" }
]
dynamic = ["version"]
classifiers = [
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3 :: Only",
    "License :: OSI Approved :: MIT License",
    "Operating System :: Unix",
    "Operating System :: Microsoft :: Windows",
    "Intended Audience :: Science/Research",
    "Topic :: Scientific/Engineering",
    "Topic :: Software Development",
]
urls = { "Repository" = "https://github.com/SiulRek/ImageMLResearch", "Documentation" = "https://imagemlresearch.readthedocs.io/en/api-development/" }



dependencies = [
    "tensorflow==2.17.0",
    "pandas==2.2.2",
    "matplotlib==3.8.0",
    "openai==1.34.0",
    "optuna==3.6.1",
    "seaborn==0.13.2",
    "scikit-learn==1.4.1.post1",
    "opencv-python==4.8.1.78"
]

[tool.setuptools.dynamic]
version = {attr = "imlresearch.src.version.__version__"}

[tool.setuptools.packages.find]
where = ["."]

[tool.setuptools.package-data]
# Include required non-Python files (e.g., test data)
"*" = ["*.png", "*.jpg", "*.tfrecord", "*.json"]


# Apply ruff checks to imlresearch/src
[tool.ruff]
line-length = 80

[tool.ruff.lint]
select = [
    "E",  # pycodestyle errors
    "F",  # Pyflakes
    "I",  # isort
]
ignore = [
    "I001",  # do not enforce import sorting
]

[tool.ruff.lint.per-file-ignores]
# Ignore:
# - E501: line too long
# - F401: imported but unused
"**/__init__.py" = ["E501", "F401"]

[tool.ruff.lint.isort]
force-single-line = true


[tool.pylint.'MAIN']
load-plugins = ["pylint_per_file_ignores"]

[tool.pylint.'MESSAGES CONTROL']
# Disable globally:
# - C0114: missing module docstring
# - E1101: no-member (false positives for tf and cv2)
disable = ["C0114", "E1101"]

per-file-ignores = [
    # Ignore in tests:
    # - W0613: unused-argument (common in test methods with 'self')
    # - W0212: protected-access (intentional in tests)
    "imlresearch/src/preprocessing/tests/*:W0613,W0212",
    "imlresearch/src/training/tests/*:W0613,W0212",
    "imlresearch/src/utils/tests/*:W0613,W0212",
    "imlresearch/src/data_handling/tests/*:W0613,W0212",
    "imlresearch/src/plotting/tests/*:W0613,W0212",
    "imlresearch/src/research/tests/*:W0613,W0212",
    "imlresearch/src/experimenting/tests/*:W0613,W0212",
    "imlresearch/api/tests/*:W0613,W0212",

    # Ignore unused-argument (W0613) in preprocessing steps,
    # since they must conform to a fixed function signature
    "imlresearch/src/preprocessing/steps/*:W0613"
]


[tool.black]
line-length = 79

