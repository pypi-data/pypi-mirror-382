<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LogForge Log View</title>
    <link rel="stylesheet" href="/logforge/assets/app.css" />
  </head>
  <body class="bg-gray-50">
    <main class="min-h-screen p-6 max-w-7xl mx-auto">
      <div class="mb-6">
        <div class="flex items-center justify-between">
          <div>
            <h1 class="text-2xl font-semibold text-gray-900">
              Audit Log Details
            </h1>
            <p class="text-gray-600">Log ID: {{ log.id }}</p>
          </div>
          <a href="/logforge/logs" class="btn">← Back to Logs</a>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow">
        <div class="px-6 py-4 border-b border-gray-200">
          <h2 class="text-lg font-medium">Log Information</h2>
        </div>

        <div class="px-6 py-6">
          <div class="overflow-x-auto">
            <table class="w-full">
              <tbody class="divide-y divide-gray-200">
                <tr>
                  <td
                    class="py-3 pr-6 align-top text-sm font-medium text-gray-700 w-48"
                  >
                    ID
                  </td>
                  <td class="py-3 text-sm text-gray-900 font-mono">
                    {{ log.id }}
                  </td>
                </tr>
                <tr>
                  <td
                    class="py-3 pr-6 align-top text-sm font-medium text-gray-700"
                  >
                    Event Type
                  </td>
                  <td class="py-3 text-sm">
                    <span
                      class="inline-flex px-2 py-1 text-xs font-semibold rounded-full {{ event_badge_class }}"
                      >{{ log.event_type }}</span
                    >
                  </td>
                </tr>
                <tr>
                  <td
                    class="py-3 pr-6 align-top text-sm font-medium text-gray-700"
                  >
                    User ID
                  </td>
                  <td class="py-3 text-sm text-gray-900">
                    {{ log.user_id|default:'—' }}
                  </td>
                </tr>
                <tr>
                  <td
                    class="py-3 pr-6 align-top text-sm font-medium text-gray-700"
                  >
                    Resource
                  </td>
                  <td class="py-3 text-sm text-gray-900">
                    <span class="font-medium">{{ log.resource_type }}</span>
                    <span class="text-gray-500">#{{ log.resource_id }}</span>
                  </td>
                </tr>
                <tr>
                  <td
                    class="py-3 pr-6 align-top text-sm font-medium text-gray-700"
                  >
                    Batch UUID
                  </td>
                  <td class="py-3 text-sm text-gray-900 font-mono">
                    {{ log.batch_uuid|default:'—' }}
                  </td>
                </tr>
                <tr>
                  <td
                    class="py-3 pr-6 align-top text-sm font-medium text-gray-700"
                  >
                    IP Address
                  </td>
                  <td class="py-3 text-sm text-gray-900">
                    {{ log.ip_address|default:'—' }}
                  </td>
                </tr>
                <tr>
                  <td
                    class="py-3 pr-6 align-top text-sm font-medium text-gray-700"
                  >
                    Created At
                  </td>
                  <td class="py-3 text-sm text-gray-900">
                    {{ log.created_at|date:'Y-m-d H:i:s' }}
                  </td>
                </tr>
                <tr>
                  <td
                    class="py-3 pr-6 align-top text-sm font-medium text-gray-700"
                  >
                    Updated At
                  </td>
                  <td class="py-3 text-sm text-gray-900">
                    {{ log.updated_at|date:'Y-m-d H:i:s' }}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        {% if data_pretty %}
        <div class="px-6 py-4 border-t border-gray-200">
          <h3 class="text-base font-medium">Data</h3>
        </div>
        <div class="px-6 pb-6">
          <pre
            class="bg-gray-50 p-4 rounded-lg overflow-x-auto text-sm font-mono"
          >
{{ data_pretty }}</pre
          >
        </div>
        {% endif %} {% if context_pretty %}
        <div class="px-6 py-4 border-t border-gray-200">
          <h3 class="text-base font-medium">Context</h3>
        </div>
        <div class="px-6 pb-6">
          <pre
            class="bg-gray-50 p-4 rounded-lg overflow-x-auto text-sm font-mono"
          >
{{ context_pretty }}</pre
          >
        </div>
        {% endif %}
      </div>
    </main>
  </body>
</html>
