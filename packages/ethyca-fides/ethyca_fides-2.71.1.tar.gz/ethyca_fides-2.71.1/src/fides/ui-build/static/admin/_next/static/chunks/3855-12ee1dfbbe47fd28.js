(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3855],{66726:function(e,t,r){var i=r(11611),n=r(82846),a=r(91936),s=Math.max,l=Math.min;e.exports=function(e,t,r){var o,u,c,d,p,g,f=0,h=!1,v=!1,x=!0;if("function"!=typeof e)throw TypeError("Expected a function");function j(t){var r=o,i=u;return o=u=void 0,f=t,d=e.apply(i,r)}function m(e){var r=e-g,i=e-f;return void 0===g||r>=t||r<0||v&&i>=c}function C(){var e,r,i,a=n();if(m(a))return y(a);p=setTimeout(C,(e=a-g,r=a-f,i=t-e,v?l(i,c-r):i))}function y(e){return(p=void 0,x&&o)?j(e):(o=u=void 0,d)}function I(){var e,r=n(),i=m(r);if(o=arguments,u=this,g=r,i){if(void 0===p)return f=e=g,p=setTimeout(C,t),h?j(e):d;if(v)return clearTimeout(p),p=setTimeout(C,t),j(g)}return void 0===p&&(p=setTimeout(C,t)),d}return t=a(t)||0,i(r)&&(h=!!r.leading,c=(v="maxWait"in r)?s(a(r.maxWait)||0,t):c,x="trailing"in r?!!r.trailing:x),I.cancel=function(){void 0!==p&&clearTimeout(p),f=0,o=g=u=p=void 0},I.flush=function(){return void 0===p?d:y(n())},I}},82846:function(e,t,r){var i=r(77400);e.exports=function(){return i.Date.now()}},30952:function(e,t,r){"use strict";r.d(t,{f:function(){return o}});var i=r(24246),n=r(66726),a=r.n(n),s=r(27378),l=r(26917);let o=e=>{let{value:t,onChange:r,placeholder:n,...o}=e,[u,c]=(0,s.useState)(t);(0,s.useEffect)(()=>{c(t||"")},[t]);let d=a()(r,500),p=(0,s.useCallback)(e=>{c(e),d(e)},[]);return(0,i.jsx)(l.Z,{value:u,onChange:p,onClear:()=>{c(""),r("")},placeholder:n,...o})}},17245:function(e,t,r){"use strict";r.d(t,{HK:function(){return s},VY:function(){return n.V},pI:function(){return c},h0:function(){return i.h},Rx:function(){return g},rK:function(){return h}});var i=r(36866),n=r(84306),a=r(812);let s=()=>{let{errorAlert:e}=(0,n.V)();return{handleError:t=>{let r="An unexpected error occurred. Please try again.";(0,a.Ot)(t)?r=t.data.detail:(0,a.tB)(t)&&(r=t.data.detail[0].msg),e(r)}}};var l=r(27378),o=r(20682),u=r(21910);let c=e=>{let{data:t}=(0,o.$I)({}),r=(0,l.useMemo)(()=>(null==t?void 0:t.items)||[],[t]);return(0,l.useMemo)(()=>{var t;if(!e)return"";if(e.connection_type===u.Rj.SAAS&&(null===(t=e.saas_config)||void 0===t?void 0:t.type)){let t=r.find(t=>{var r;return t.identifier===(null===(r=e.saas_config)||void 0===r?void 0:r.type)});if(t)return t}return e},[e,r])};var d=r(40431);let p=()=>({search:d.Oi.withDefault("")}),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultSearchQuery:t,onSearchChange:r}=e,i=(0,l.useMemo)(()=>p(),[]),[n,a]=(0,d.XI)(i,{history:"push"}),s=(0,l.useMemo)(()=>({searchQuery:n.search||t||void 0}),[n,t]),o=(0,l.useCallback)(e=>{a({search:e||null})},[a]),u=(0,l.useCallback)(()=>{a({search:null})},[a]);return(0,l.useEffect)(()=>{r&&r(s)},[s,r]),{...s,updateSearch:o,resetSearch:u,searchProps:{value:s.searchQuery||"",onChange:o,onClear:()=>o("")}}},f=e=>({sortKey:e?(0,d.jx)([...e]):d.Oi.withDefault(""),sortOrder:(0,d.km)(["ascend","descend"])}),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultSortKey:t,defaultSortOrder:r,onSortingChange:i,validColumns:n}=e,a=(0,l.useMemo)(()=>f(n),[n]),[s,o]=(0,d.XI)(a,{history:"push"}),u=(0,l.useMemo)(()=>{var e;return{sortKey:s.sortKey||t,sortOrder:null!==(e=s.sortOrder)&&void 0!==e?e:r}},[s,t,r]),c=(0,l.useCallback)((e,t)=>{o({sortKey:e?String(e):null,sortOrder:null!=t?t:null})},[o]),p=(0,l.useCallback)(()=>{o({sortKey:null,sortOrder:null})},[o]);return(0,l.useEffect)(()=>{i&&i(u)},[u,i]),{...u,updateSorting:c,resetSorting:p,sortingProps:{sortDirections:["ascend","descend"],defaultSortOrder:u.sortOrder,sortedInfo:u.sortKey?{field:u.sortKey,order:u.sortOrder}:void 0}}}},84306:function(e,t,r){"use strict";r.d(t,{V:function(){return a}});var i=r(24246),n=r(96306);let a=()=>{let e=(0,n.pmc)();return{errorAlert:(t,r,a)=>{let s={...a,position:(null==a?void 0:a.position)||"top",render:e=>{let{onClose:a}=e;return(0,i.jsxs)(n.bZj,{alignItems:"normal",status:"error","data-testid":"error-alert",children:[(0,i.jsx)(n.zMQ,{}),(0,i.jsxs)(n.xuv,{children:[r&&(0,i.jsx)(n.CdC,{children:r}),(0,i.jsx)(n.XaZ,{children:t})]}),(0,i.jsx)(n.PZ7,{onClick:a,position:"relative",right:0,size:"sm",top:-1})]})}};(null==a?void 0:a.id)&&e.isActive(a.id)?e.update(a.id,s):e(s)},successAlert:(t,r,a)=>{let s={...a,position:(null==a?void 0:a.position)||"top",render:e=>{let{onClose:a}=e;return(0,i.jsxs)(n.bZj,{alignItems:"normal",status:"success",variant:"subtle","data-testid":"success-alert",children:[(0,i.jsx)(n.zMQ,{}),(0,i.jsxs)(n.xuv,{children:[r&&(0,i.jsx)(n.CdC,{children:r}),(0,i.jsx)(n.XaZ,{children:t})]}),(0,i.jsx)(n.PZ7,{onClick:a,position:"relative",right:0,size:"sm",top:-1})]})}};(null==a?void 0:a.id)&&e.isActive(a.id)?e.update(a.id,s):e(s)}}}},36866:function(e,t,r){"use strict";r.d(t,{h:function(){return u}});var i=r(40431),n=r(27378),a=r(55484);let s=(0,i.jo)({parse(e){let t=parseInt(e,10);try{return a.Rx().integer().positive().validateSync(t),t}catch(e){return null}},serialize:e=>e.toString()});var l=r(32735);let o=function(){var e,t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{page:s.withDefault(l.Ej),size:r.pageSizeOptions?(0,i.bJ)(r.pageSizeOptions).withDefault(null!==(e=r.pageSize)&&void 0!==e?e:l.L8):s.withDefault(null!==(t=r.pageSize)&&void 0!==t?t:l.L8)}},u=function(){var e,t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{defaultPageSize:a=l.L8,pageSizeOptions:s,showSizeChanger:u=!0}=r,c=null!=s?s:l.VZ,d=(0,n.useMemo)(()=>o({pageSize:a,pageSizeOptions:s}),[a,s]),[p,g]=(0,i.XI)(d,{history:"push"}),f={pageIndex:null!==(e=p.page)&&void 0!==e?e:l.Ej,pageSize:null!==(t=p.size)&&void 0!==t?t:a};return{...f,updatePageIndex:e=>{g({page:e})},updatePageSize:e=>{g({page:e!==f.pageSize?l.Ej:f.pageIndex,size:e})},resetPagination:()=>{g({page:l.Ej,size:a})},nextPage:()=>{g(e=>{let{page:t,size:r}=e;return{page:t+1,size:r}})},previousPage:()=>{g(e=>{let{page:t,size:r}=e;return{page:t-1,size:r}})},pageSizeOptions:c,showSizeChanger:u}}},81406:function(e,t,r){"use strict";var i=r(24246),n=r(96306);t.Z=()=>(0,i.jsxs)(n.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,i.jsx)(n.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,i.jsx)(n.xvT,{fontSize:"sm",children:"You're up to date!"})]})},25077:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var i=r(24246),n=r(59003),a=r(92222),s=r(96306),l=r(27378),o=r(30952),u=r(47935),c=r(81406),d=r(99763),p=r(72625),g=r(17245),f=r(28976),h=r(8151),v=r(70675),x=e=>{let{resource:t,onDetailClick:r}=e,{successAlert:n}=(0,g.VY)(),a=(0,h.u)(t),[l,{isLoading:o}]=(0,v.v8)(),[u,{isLoading:c}]=(0,v.cM)(),[d,{isLoading:p}]=(0,v.vi)(),x=async()=>{var e;await l({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),n("Started classification on ".concat(null!==(e=t.name)&&void 0!==e?e:"this resource"))},j=async()=>{var e;await u({staged_resource_urn:t.urn}),n("Approved ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},m=async()=>{var e;await d({staged_resource_urn:t.urn}),n("Hid ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},C=o||c||p;return(0,i.jsxs)(s.kCb,{gap:2,justify:"space-between",children:[a===h.e.ATTENTION_REQUIRED&&(0,i.jsx)(s.wpx,{size:"small",onClick:x,loading:o,disabled:C,"data-testid":"classify-btn",children:"Classify"}),a===h.e.IN_REVIEW&&(0,i.jsx)(s.wpx,{size:"small",onClick:j,loading:c,disabled:C,"data-testid":"approve-btn",children:"Approve"}),(0,i.jsx)(s.LZC,{}),(0,i.jsx)(f.Z,{onHideClick:m,onDetailClick:r})]})},j=r(89200),m=r(5945),C=r(61099),y=r(79947),I=r(21910);let S=(0,a.Cl)();var b=(e,t)=>{let r=[];return e?e===I.D$.TABLE?[S.display({id:"name",cell:e=>{let{row:t}=e;return(0,i.jsx)(j.Z,{resource:t.original})},header:"Table"}),S.display({id:"status",cell:e=>{let{row:t}=e;return(0,i.jsx)(m.Z,{status:(0,h.u)(t.original)})},header:"Status"}),S.display({id:"category",cell:e=>{let{row:t}=e;return(0,i.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),S.accessor(e=>e.description,{id:"description",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:"Description"}),S.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,i.jsx)(p.Cy,{time:e.getValue()}),header:"Updated"}),S.display({id:"actions",cell:e=>{let{row:r}=e;return(0,i.jsx)(x,{resource:r.original,onDetailClick:()=>t(r.original)})},header:"Actions",meta:{disableRowClick:!0}})]:e===I.D$.FIELD?[S.display({id:"name",cell:e=>{let{row:t}=e;return(0,i.jsx)(j.Z,{resource:t.original})},header:"Field"}),S.display({id:"status",cell:e=>{let{row:t}=e;return(0,i.jsx)(m.Z,{status:(0,h.u)(t.original)})},header:"Status"}),S.accessor(e=>e.data_type,{id:"dataType",cell:e=>(0,i.jsx)(y.Z,{type:e.getValue()}),header:"Data type"}),S.display({id:"category",cell:e=>{let{row:t}=e;return(0,i.jsx)(C.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),S.accessor(e=>e.description,{id:"description",cell:e=>(0,i.jsx)(u.G3,{value:e.getValue()}),header:"Description"}),S.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,i.jsx)(p.Cy,{time:e.getValue()}),header:"Updated"}),S.display({id:"actions",cell:e=>{let{row:r}=e;return(0,i.jsx)(x,{resource:r.original,onDetailClick:()=>t(r.original)})},header:"Actions",meta:{disableRowClick:!0}})]:r:r},L=r(7940),_=r(80356);let k=[I.LL.ADDITION,I.LL.CLASSIFYING,I.LL.CLASSIFICATION_ADDITION,I.LL.CLASSIFICATION_QUEUED,I.LL.CLASSIFICATION_UPDATE,I.LL.MONITORED,I.LL.PROMOTING,I.LL.REMOVAL,I.LL.REMOVING],z={items:[],total:0,page:1,size:50,pages:1};var w=e=>{let{resourceUrn:t,onRowClick:r}=e,{PAGE_SIZES:p,pageSize:g,setPageSize:f,onPreviousPageClick:h,isPreviousPageDisabled:x,onNextPageClick:j,isNextPageDisabled:m,startRange:C,endRange:y,pageIndex:I,setTotalPages:S,resetPageIndexToDefault:w}=(0,u.oi)(),[D,E]=(0,l.useState)("");(0,l.useEffect)(()=>{w()},[t,w]);let{isFetching:P,isLoading:O,data:R}=(0,v.z8)({staged_resource_urn:t,page:I,size:g,diff_status:k,search:D}),{items:A,total:T,pages:Z}=(0,l.useMemo)(()=>null!=R?R:z,[R]);(0,l.useEffect)(()=>{S(Z)},[Z,S]);let[M,N]=(0,l.useState)(void 0),V=b((0,L.G)(A[0]),N),K=(0,n.b7)({getCoreRowModel:(0,a.sC)(),getGroupedRowModel:(0,a.qe)(),getExpandedRowModel:(0,a.rV)(),columns:V,manualPagination:!0,data:A,columnResizeMode:"onChange",getRowId:e=>e.urn});return O||P?(0,i.jsx)(u.I4,{rowHeight:36,numRows:36}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Q$,{children:(0,i.jsx)(s.kCb,{gap:6,align:"center",children:(0,i.jsx)(s.xuv,{flexShrink:0,children:(0,i.jsx)(o.f,{value:D,onChange:E})})})}),(0,i.jsx)(u.ZK,{tableInstance:K,emptyTableNotice:(0,i.jsx)(c.Z,{}),getRowIsClickable:e=>(0,_.Z)(e),onRowClick:r}),(0,i.jsx)(u.s8,{totalRows:T||0,pageSizes:p,setPageSize:f,onPreviousPageClick:h,isPreviousPageDisabled:x,onNextPageClick:j,isNextPageDisabled:m,startRange:C,endRange:y}),(0,i.jsx)(d.Z,{resource:M,onClose:()=>N(void 0)})]})}},94780:function(e,t,r){"use strict";r.d(t,{X5:function(){return l},pN:function(){return o},sv:function(){return a}});var i=r(24246),n=r(96306);let a=e=>e.split(".")[1],s=[(0,i.jsx)(n.PJP.S9g,{},"layers"),(0,i.jsx)(n.PJP.iA_,{},"table"),(0,i.jsx)(n.PJP.$4y,{style:{transform:"rotate(-90deg)"}},"field")],l=(e,t)=>{if(!e)return[];let r=e.split(".");if(r.length<2)return[];let l=r.splice(0,2).join("."),o=[];return r.reduce((e,i,n)=>{let a=n===r.length-1,u="".concat(e).concat(".").concat(i);return o.push({title:i,href:a?void 0:"".concat(t,"/").concat(l,"/").concat(u),icon:s[n]}),u},l),[{title:a(l),href:"".concat(t,"/").concat(l),icon:(0,i.jsx)(n.PJP.ehp,{})},...o]},o=(e,t)=>{if(!e)return[];let r=e.split(".");if(r.length<2)return[];let i=r.shift(),n=[];return r.reduce((e,i,a)=>{let l=a===r.length-1,o="".concat(e).concat(".").concat(i);return n.push({title:i,href:l?void 0:"".concat(t,"/").concat(o),icon:s[a]}),o},i),n}},79947:function(e,t,r){"use strict";var i=r(24246),n=r(96306);t.Z=e=>{let{type:t}=e;return(0,i.jsx)(n.kCb,{align:"center",h:"full",children:!!t&&(0,i.jsx)(n.j8w,{children:t})})}}}]);