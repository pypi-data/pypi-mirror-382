(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1850],{75733:function(e){e.exports=function(e,n,t){var i=-1,r=e.length;n<0&&(n=-n>r?0:r+n),(t=t>r?r:t)<0&&(t+=r),r=n>t?0:t-n>>>0,n>>>=0;for(var s=Array(r);++i<r;)s[i]=e[i+n];return s}},74833:function(e,n,t){var i=t(56127),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},42383:function(e){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},57535:function(e,n,t){var i=t(85638),r=t(80068),s=t(42383),o=t(11611);e.exports=function(e,n,t){if(!o(t))return!1;var a=typeof n;return("number"==a?!!(r(t)&&s(n,t.length)):"string"==a&&n in t)&&i(t[n],e)}},56127:function(e){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},92875:function(e,n,t){var i=t(75733),r=t(57535),s=t(47991),o=Math.ceil,a=Math.max;e.exports=function(e,n,t){n=(t?r(e,n,t):void 0===n)?1:a(s(n),0);var l=null==e?0:e.length;if(!l||n<1)return[];for(var c=0,u=0,d=Array(o(l/n));c<l;)d[u++]=i(e,c,c+=n);return d}},85638:function(e){e.exports=function(e,n){return e===n||e!=e&&n!=n}},80068:function(e,n,t){var i=t(28338),r=t(84194);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},28338:function(e,n,t){var i=t(99736),r=t(11611);e.exports=function(e){if(!r(e))return!1;var n=i(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},84194:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},11611:function(e){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},55193:function(e,n,t){var i=t(99736),r=t(92360);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},94919:function(e,n,t){var i=t(91936),r=1/0;e.exports=function(e){return e?(e=i(e))===r||e===-r?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},47991:function(e,n,t){var i=t(94919);e.exports=function(e){var n=i(e),t=n%1;return n==n?t?n-t:n:0}},91936:function(e,n,t){var i=t(74833),r=t(11611),s=t(55193),o=0/0,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return o;if(r(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=r(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var t=l.test(e);return t||c.test(e)?u(e.slice(2),t?2:8):a.test(e)?o:+e}},98720:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datastore-connection",function(){return t(22285)}])},77867:function(e,n,t){"use strict";var i=t(24246),r=t(96306);n.Z=e=>{let{connected:n,...t}=e,s="red.500";return null==n?s="gray.300":n&&(s="green.500"),(0,i.jsx)(r.xuv,{width:"12px",height:"12px",borderRadius:"6px",backgroundColor:s,...t})}},77213:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var i=t(24246),r=t(96306),s=t(88038),o=t.n(s),a=t(86677);t(27378);var l=t(25980),c=t(90867),u=t(42478),d=t(77830),g=()=>{let e=(0,a.useRouter)();return(0,i.jsx)(r.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(r.xuv,{children:[(0,i.jsxs)(r.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(r.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(r.wpx,{onClick:()=>{e.push(d.AD)},children:"Configure"})]}),(0,i.jsxs)(r.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},x=e=>{let{children:n,title:t,padded:s=!0,mainProps:d}=e,x=(0,l.hz)(),f=(0,a.useRouter)(),h="/privacy-requests"===f.pathname||"/datastore-connection"===f.pathname,p=!(x.flags.messagingConfiguration&&h),{data:m}=(0,u.JE)(void 0,{skip:p}),{data:v}=(0,c.PW)(void 0,{skip:p}),y=x.flags.messagingConfiguration&&(!m||!v)&&h;return(0,i.jsxs)(r.kCb,{"data-testid":t,direction:"column",h:"100vh",children:[(0,i.jsxs)(o(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(r.kCb,{as:"main",direction:"column",py:s?6:0,px:s?10:0,h:s?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...d,children:[y?(0,i.jsx)(g,{}):null,n]})]})}},58754:function(e,n,t){"use strict";var i=t(24246),r=t(96306),s=t(70788);n.Z=e=>{let{heading:n,breadcrumbItems:t,isSticky:o=!0,children:a,rightContent:l,style:c,...u}=e;return(0,i.jsxs)("div",{...u,style:o?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...c}:{paddingBottom:"24px",...c},children:[(0,i.jsxs)(r.jqI,{justify:"space-between",children:["string"==typeof n?(0,i.jsx)(r.lQT,{className:t||a?"pb-4":void 0,level:1,"data-testid":"page-heading",children:n}):n,l&&(0,i.jsx)("div",{"data-testid":"page-header-right-content",children:l})]}),!!t&&(0,i.jsx)(s.m,{className:a?"pb-4":void 0,items:t,"data-testid":"page-breadcrumb"}),a]})}},96718:function(e,n,t){"use strict";t.d(n,{z:function(){return s}});var i=t(24246),r=t(96306);let s=e=>{let{...n}=e;return(0,i.jsx)(r.WPr,{defaultActiveFirstOption:!1,maxTagCount:"responsive",allowClear:!0,styles:n.mode?void 0:{popup:{root:{width:"auto",minWidth:"200px"}}},className:"w-auto","data-testid":"filter-select",...n})}},70788:function(e,n,t){"use strict";t.d(n,{m:function(){return c}});var i=t(24246),r=t(96306),s=t(79894),o=t.n(s),a=t(27378);let{Text:l}=r.AntTypography,c=e=>{let{items:n,...t}=e,s=(0,a.useMemo)(()=>null==n?void 0:n.map((e,t)=>{let s=t===n.length-1,a={...e},c=a.onClick&&!a.href;return("string"==typeof a.title&&(a.title=(0,i.jsx)(l,{style:{color:"inherit",maxWidth:s?void 0:400},ellipsis:!s,id:s?"breadcrumb-current-page":void 0,children:a.title})),c)?a.title=(0,i.jsx)(r.wpx,{type:"text",size:"small",icon:a.icon,onClick:a.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:a.title}):(a.icon&&(a.title=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"anticon align-text-bottom",children:a.icon}),a.title]})),a.href&&a.title&&(a.title=(0,i.jsx)(o(),{href:a.href,className:"ant-breadcrumb-link",children:a.title}),delete a.href)),a}),[n]);return(0,i.jsx)(r.zrq,{items:s,...t})}},41337:function(e,n,t){"use strict";var i=t(24246),r=t(96306);t(27378);var s=t(88337),o=t(16394),a=t(14746);let l=a.Ny+a.iW.get(s.R.WEBSITE),c=e=>void 0!==e.connection_type,u=e=>void 0!==e.encoded_icon,d=e=>(null==e?void 0:e.connection_type)===s.R.WEBSITE,g=e=>(null==e?void 0:e.connection_type)===s.R.SAAS;n.Z=e=>{let{data:n,...t}=e;return(0,i.jsx)(r.Eep,{boxSize:"32px",objectFit:"cover",src:(()=>{var e,t;let i;if(u(n)&&n.encoded_icon)return"data:image/svg+xml;base64,".concat(n.encoded_icon);if(d(n)){let t=null===(e=n.secrets)||void 0===e?void 0:e.url;if(!t)return l;let i=(0,o.ge)(t);return(0,o.tl)(i,100)}if(c(n)){if(g(n)&&(null===(t=n.saas_config)||void 0===t?void 0:t.type)){let e=n.saas_config.type,t=a.LN.get(e);return t?a.Ny+t:a.Ny+a.iW.get(s.R.SAAS)}i=[...a.iW].find(e=>{let[t]=e;return n.connection_type.toString()===t.toString()})}else if(u(n)){let{identifier:e}=n;i=[...a.iW].find(n=>{let[t]=n;return t.toLowerCase()===e.toLowerCase()})}return i?a.Ny+i[1]:a.VD})(),fallbackSrc:d(n)?l:a.VD,alt:(()=>{if(c(n)){var e;return null!==(e=n.name)&&void 0!==e?e:n.key}return u(n)?n.human_readable:n})(),...t})}},1226:function(e,n,t){"use strict";var i=t(24246);t(27378);var r=t(77213);n.Z=e=>{let{children:n}=e;return(0,i.jsx)(r.Z,{title:"Connections",children:n})}},15872:function(e,n,t){"use strict";var i=t(24246),r=t(96306),s=t(86677);t(27378);var o=t(77830),a=t(14207);n.Z=e=>{let{connection_key:n,showMenu:t}=e,{isOpen:l,onOpen:c,onClose:u}=(0,r.qY0)(),[d,g]=(0,a.R5)(),x=(0,s.useRouter)(),f=()=>{g.isLoading||u()};return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)(r.sNh,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:c,children:(0,i.jsx)(r.xvT,{fontSize:"sm",children:"Delete"})}),!t&&(0,i.jsx)(r.wpx,{onClick:c,children:"Delete integration"}),(0,i.jsxs)(r.u_l,{isCentered:!0,isOpen:l,onClose:f,children:[(0,i.jsx)(r.ZAr,{}),(0,i.jsxs)(r.hzk,{children:[(0,i.jsx)(r.xBx,{children:"Delete integration"}),(0,i.jsx)(r.olH,{}),(0,i.jsx)(r.fef,{pb:6,children:(0,i.jsx)(r.Kqy,{direction:"column",spacing:"15px",children:(0,i.jsx)(r.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:"Deleting an integration may impact any privacy request that is currently in progress. Do you wish to proceed?"})})}),(0,i.jsxs)(r.mzw,{className:"flex gap-4",children:[(0,i.jsx)(r.wpx,{onClick:f,className:"w-1/2",children:"Cancel"}),(0,i.jsx)(r.wpx,{onClick:()=>{n&&(d(n),t||x.push(o.KH))},loading:g.isLoading,type:"primary",className:"w-1/2",children:"Delete integration"})]})]})]})]})}},73183:function(e,n,t){"use strict";var i=t(24246),r=t(96306);t(27378);var s=t(14207);n.Z=e=>{let{connection_key:n,disabled:t,name:o,access_type:a,connection_type:l,isSwitch:c}=e,{isOpen:u,onOpen:d,onClose:g}=(0,r.qY0)(),[x,f]=(0,s.XX)(),h=async()=>{await x({key:n,name:o,disabled:!t,access:a,connection_type:l}),g()},p=()=>{f.isLoading||g()};return(0,i.jsxs)(i.Fragment,{children:[c?(0,i.jsxs)(r.kCb,{justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(r.xvT,{fontSize:"sm",children:"Enable integration"}),(0,i.jsx)(r.rAg,{className:"ml-2",checked:!t,onChange:()=>d()})]}):(0,i.jsx)(r.sNh,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:d,children:(0,i.jsx)(r.xvT,{fontSize:"sm",children:t?"Enable":"Disable"})}),(0,i.jsxs)(r.u_l,{isCentered:!0,isOpen:u,onClose:p,children:[(0,i.jsx)(r.ZAr,{}),(0,i.jsxs)(r.hzk,{children:[(0,i.jsxs)(r.xBx,{children:[t?"Enable":"Disable"," Connection"]}),(0,i.jsx)(r.olH,{}),(0,i.jsx)(r.fef,{pb:6,children:(0,i.jsx)(r.Kqy,{direction:"column",spacing:"15px",children:(0,i.jsxs)(r.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:[t?"Enabling":"Disabling"," a connection may impact any privacy request that is currently in progress. Do you wish to proceed?"]})})}),(0,i.jsxs)(r.mzw,{className:"flex gap-4",children:[(0,i.jsx)(r.wpx,{onClick:p,className:"w-1/2",children:"Cancel"}),(0,i.jsxs)(r.wpx,{onClick:h,loading:f.isLoading,className:"w-1/2",children:[t?"Enable":"Disable"," Connection"]})]})]})]})]})}},8627:function(e,n,t){"use strict";t.d(n,{s:function(){return a}});var i=t(24246),r=t(96306),s=t(77867),o=t(16394);let a=e=>{let{succeeded:n,timestamp:t}=e,a=t?(0,o.p6)(t):"";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{connected:n}),(0,i.jsx)(r.xvT,{color:"gray.500",fontSize:"xs",fontWeight:"semibold",lineHeight:"16px",ml:"10px",children:t?"Last tested on ".concat(a):"This connection has not been tested yet"})]})}},42478:function(e,n,t){"use strict";t.d(n,{FU:function(){return c},JE:function(){return r},Ki:function(){return d},SU:function(){return g},W:function(){return x},h9:function(){return s},jc:function(){return i},qt:function(){return l},sn:function(){return u}});let{useGetEmailInviteStatusQuery:i,useGetActiveMessagingProviderQuery:r,useCreateMessagingConfigurationMutation:s,useCreateMessagingConfigurationSecretsMutation:o,useGetMessagingConfigurationDetailsQuery:a,useGetMessagingConfigurationsQuery:l,useGetMessagingConfigurationByKeyQuery:c,useUpdateMessagingConfigurationByKeyMutation:u,useUpdateMessagingConfigurationSecretsByKeyMutation:d,useCreateTestConnectionMessageMutation:g,useDeleteMessagingConfigurationByKeyMutation:x}=t(78780).u.injectEndpoints({endpoints:e=>({getEmailInviteStatus:e.query({query:()=>({url:"/messaging/email-invite/status"}),providesTags:()=>["Email Invite Status"]}),createMessagingConfiguration:e.mutation({query:e=>({url:"messaging/config",method:"POST",body:e}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getActiveMessagingProvider:e.query({queryFn:async(e,n,t,i)=>{let r=await i({url:"messaging/default/active"});return r.error&&404===r.error.status?{data:null}:r},providesTags:["Messaging Config"]}),createMessagingConfigurationSecrets:e.mutation({query:e=>({url:"messaging/default/".concat(e.service_type,"/secret"),method:"PUT",body:e.details}),invalidatesTags:["Messaging Config","Configuration Settings"]}),getMessagingConfigurationDetails:e.query({query:e=>({url:"messaging/default/".concat(e.type)}),providesTags:["Messaging Config"]}),getMessagingConfigurations:e.query({query:()=>({url:"messaging/config"}),providesTags:["Messaging Config"]}),getMessagingConfigurationByKey:e.query({query:e=>({url:"messaging/config/".concat(e.key)}),providesTags:["Messaging Config"]}),createTestConnectionMessage:e.mutation({query:e=>({url:"messaging/test/".concat(e.service_type),method:"POST",body:e.details}),invalidatesTags:["Messaging Config"]}),updateMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"PATCH",body:e.config}),invalidatesTags:["Messaging Config","Configuration Settings"]}),updateMessagingConfigurationSecretsByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key,"/secret"),method:"PUT",body:e.secrets}),invalidatesTags:["Messaging Config","Configuration Settings"]}),deleteMessagingConfigurationByKey:e.mutation({query:e=>({url:"messaging/config/".concat(e.key),method:"DELETE"}),invalidatesTags:["Messaging Config","Configuration Settings"]})})})},22285:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return K}});var i=t(24246),r=t(16394),s=t(96306),o=t(27378),a=t(16134),l=t(20682),c=t(16125),u=t(14207),d=t(96718),g=()=>{let{connectionOptions:e}=(0,a.C)(l.ZZ),{connection_type:n}=(0,a.C)(u.dR),t=(0,o.useCallback)(()=>{let t=new Map;return e.forEach(e=>{let i=!1;(null==n?void 0:n.includes(e.identifier))&&(i=!0),t.set(e.human_readable,i)}),t},[e,n]),r=[...(0,o.useMemo)(()=>t(),[t])].map(e=>{let[n]=e;return{value:n,label:n}}),s=(0,a.T)();return(0,i.jsx)(d.z,{mode:"multiple",placeholder:"Connection Type",options:r,onChange:n=>{let t=e.filter(e=>n.includes(e.human_readable));s((0,u.Iw)(t.map(e=>e.identifier)))},defaultValue:(null==n?void 0:n.length)?n:[],className:"w-60","data-testid":"connection-type-filter"})},x=t(14746),f=()=>{let{disabled_status:e}=(0,c.v9)(u.dR),n=()=>{let e=new Map;return Object.values(x.QI).sort().forEach(n=>{e.set((0,r.kC)(n),{value:n})}),e},t=[...(0,o.useMemo)(()=>n(),[])].map(e=>{let[n,t]=e;return{value:t.value,label:n}}),s=(0,c.I0)();return(0,i.jsx)(d.z,{placeholder:"Status",options:t,onChange:e=>{s((0,u.Ru)(e||""))},defaultValue:(null==e?void 0:e.toString())||void 0,"data-testid":"disabled-status-filter"})},h=t(26788),p=()=>{let{system_type:e}=(0,c.v9)(u.dR),n=new Map(h.yI);n.delete("Show all");let t=[...n].map(e=>{let[n,t]=e;return{value:t.value,label:n}}),r=(0,a.T)();return(0,i.jsx)(d.z,{placeholder:"System Type",options:t,onChange:e=>{r((0,u.zq)(e||""))},defaultValue:(null==e?void 0:e.toString())||void 0,"data-testid":"system-type-filter"})},m=()=>{let{test_status:e}=(0,c.v9)(u.dR),n=()=>{let e=new Map;return Object.values(x.i0).sort().forEach(n=>{e.set((0,r.kC)(n),{value:n})}),e},t=[...(0,o.useMemo)(()=>n(),[])].map(e=>{let[n,t]=e;return{value:t.value,label:n}}),s=(0,c.I0)();return(0,i.jsx)(d.z,{placeholder:"Testing Status",options:t,onChange:e=>{s((0,u.Ri)(e||""))},defaultValue:(null==e?void 0:e.toString())||void 0,"data-testid":"testing-status-filter"})};let v=()=>{let e=(0,c.v9)(u.dR),n=(0,c.I0)();return{handleSearchChange:e=>n((0,u.qP)(e.target.value)),...e}};var y=()=>{let{handleSearchChange:e,search:n}=v();return(0,i.jsxs)(s.kCb,{minWidth:"fit-content",alignItems:"center",gap:"4",mb:6,flexWrap:"wrap",children:[(0,i.jsxs)(s.BZy,{size:"sm",minWidth:"308px",children:[(0,i.jsx)(s.Z8_,{pointerEvents:"none",children:(0,i.jsx)(s.PTu,{color:"gray.300",w:"17px",h:"17px"})}),(0,i.jsx)(s.IIB,{autoComplete:"off",autoFocus:!0,type:"search",minWidth:200,placeholder:"Search connection name or description",size:"sm",borderRadius:"md",value:n,name:"search",onChange:e})]}),(0,i.jsx)(g,{}),(0,i.jsx)(p,{}),(0,i.jsx)(m,{}),(0,i.jsx)(f,{})]})},j=e=>{let{page:n,size:t,total:r,handleNextPage:o,handlePreviousPage:a}=e,l=(n-1)*t+1,c=Math.min(r,n*t);return(0,i.jsxs)(s.kCb,{justifyContent:"space-between",mt:6,children:[(0,i.jsx)(s.xvT,{fontSize:"xs",color:"gray.600",children:r>0?(0,i.jsxs)(i.Fragment,{children:["Showing ",Number.isNaN(l)?0:l," to"," ",Number.isNaN(c)?0:c," of"," ",Number.isNaN(r)?0:r," results"]}):"0 results"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(s.wpx,{disabled:n<=1,onClick:a,className:"mr-2",children:"Previous"}),(0,i.jsx)(s.wpx,{disabled:n*t>=r,onClick:o,children:"Next"})]})]})},b=t(92875),C=t.n(b),w=t(40542),_=t.n(w),k=t(79894),S=t.n(k),T=t(77830),N=t(15872),z=t(73183),M=e=>{let{connection_key:n,disabled:t,connection_type:r,access_type:o,name:a}=e;return(0,i.jsxs)(s.v2r,{children:[(0,i.jsx)(s.j2t,{as:s.zxk,size:"xs",bg:"white","data-testid":"connection-menu-btn",children:(0,i.jsx)(s.nXP,{color:"gray.700",w:18,h:18})}),(0,i.jsx)(s.h_i,{children:(0,i.jsxs)(s.qyq,{fontSize:"sm",shadow:"xl","data-testid":"connection-menu-".concat(a),children:[(0,i.jsx)(s.sNh,{as:S(),href:"".concat(T.JR,"/").concat(encodeURIComponent(n)),_focus:{color:"complimentary.500",bg:"gray.100"},"data-testid":"configure-btn",children:"Configure"}),(0,i.jsx)(z.Z,{connection_key:n,disabled:t,connection_type:r,access_type:o,name:a,isSwitch:!1}),(0,i.jsx)(N.Z,{showMenu:!0,connection_key:n})]})})]})},q=e=>{let{disabled:n}=e;return(0,i.jsx)(s.j8w,{color:n?"marble":"success",className:"mr-1 text-center",children:n?"DISABLED":"ACTIVE"})},E=t(41337),Z=t(8627),I=e=>{var n;let{connectionData:t}=e,[c,d]=(0,u.h2)(),{connectionOptions:g}=(0,a.C)(l.ZZ),x=(0,o.useMemo)(()=>g.find(e=>e.identifier===t.connection_type||t.saas_config&&e.identifier===t.saas_config.type)||"ethyca",[t,g]);return(0,i.jsxs)(s.xuv,{width:"100%",height:136,p:"18px 16px 16px 16px","data-testid":"connection-grid-item-".concat(t.name),children:[(0,i.jsxs)(s.kCb,{justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(E.Z,{data:x}),(0,i.jsx)(s.xvT,{color:"gray.900",fontSize:"md",fontWeight:"medium",m:"8px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:t.name}),(0,i.jsx)(s.LZC,{}),(0,i.jsx)(q,{disabled:!!t.disabled}),(0,i.jsx)(M,{connection_key:t.key,disabled:!!t.disabled,name:null!==(n=t.name)&&void 0!==n?n:t.key,connection_type:t.connection_type,access_type:t.access})]}),(0,i.jsx)(s.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:t.description?t.description:(0,i.jsx)("br",{})}),(0,i.jsxs)(s.xvT,{color:"gray.600",fontSize:"sm",fontWeight:"sm",lineHeight:"20px",children:["Edited on ",(0,r.p6)(t.updated_at)]}),(0,i.jsxs)(s.kCb,{mt:"0px",justifyContent:"center",alignItems:"center",children:[(0,i.jsx)(Z.s,{succeeded:t.last_test_succeeded,timestamp:t.last_test_timestamp||""}),(0,i.jsx)(s.LZC,{}),(0,i.jsx)(s.wpx,{size:"small",onClick:()=>{c(t.key)},loading:d.isLoading||d.isFetching,children:"Test"})]})]})};let R=()=>{let e=(0,c.I0)(),n=(0,a.C)(u.dR);return{...n,handleNextPage:()=>{e((0,u.YA)(n.page+1))},handlePreviousPage:()=>{e((0,u.YA)(n.page-1))}}};var W=e=>{let{items:n=[],total:t=0}=e,{page:r,size:o,handleNextPage:a,handlePreviousPage:l}=R(),c=C()(n,3);return(0,i.jsxs)(i.Fragment,{children:[c.map((e,n,t)=>{let{length:r}=t;return(0,i.jsx)(s.xuv,{className:_()["grid-row"],borderBottomWidth:r>1&&n===r-1&&3===e.length?"0.5px":void 0,"data-testid":"connection-grid",children:(0,i.jsx)(s.MIq,{columns:3,children:e.map(e=>(0,i.jsx)(s.xuv,{className:_()["grid-item"],children:(0,i.jsx)(I,{connectionData:e})},e.key))})},JSON.stringify(e))}),(0,i.jsx)(j,{page:r,size:o,total:t,handleNextPage:a,handlePreviousPage:l})]})},P=e=>{let{hasFilters:n}=e;return(0,i.jsxs)(s.kCb,{bg:"gray.50",width:"100%",height:"340px",justifyContent:"center",alignItems:"center",flexDirection:"column","data-testid":"connections-empty-state",children:[(0,i.jsx)(s.xvT,{color:"black",fontSize:"x-large",lineHeight:"32px",fontWeight:"600",mb:"7px",children:n?"No connections found":"All of your connections have been linked!"}),(0,i.jsx)(s.xvT,{color:"gray.600",fontSize:"sm",lineHeight:"20px",mb:"11px",children:n?"Modify your search parameters":"You are ready to upgrade Fides"})]})},A=t(25980),D=t(58754),F=t(86677),B=()=>{let e=(0,F.useRouter)();return(0,i.jsx)(s.wpx,{onClick:()=>e.push(h.Ss[1].href),type:"primary",children:"Create new connection"})},L=()=>{let e=(0,A.hz)();return(0,i.jsx)(D.Z,{heading:"Unlinked Connections",rightContent:e.flags.standaloneConnections&&(0,i.jsx)(B,{}),children:(0,i.jsx)(s.xuv,{maxWidth:"450px",children:(0,i.jsxs)(s.xvT,{fontSize:"sm",children:["Connections are now created in the"," ",(0,i.jsx)(s.rUS,{color:"complimentary.500",href:T.xo,children:"system configuration"})," ","section. You can link existing connections to a new or existing system."]})})})},O=()=>{var e;let n=(0,o.useRef)(!1),t=(0,a.T)(),{connectionOptions:c}=(0,a.C)(l.ZZ),d=(0,a.C)(u.dR),[g,x]=(0,o.useState)(d),f=(0,o.useRef)((0,r.Ds)(e=>x(e),250)),{data:h}=(0,l.$I)({search:""},{skip:c.length>0}),{data:p,isFetching:m,isLoading:v,isSuccess:j}=(0,u.AZ)(g),b=(null==p?void 0:null===(e=p.items)||void 0===e?void 0:e.length)>0,C=!!d.search||!!d.connection_type||!!d.system_type||!!d.disabled_status||!!d.test_status;return(0,o.useEffect)(()=>{t((0,u.um)(!0))},[t]),(0,o.useEffect)(()=>(n.current=!0,0===c.length&&(null==h?void 0:h.items)&&t((0,l.fP)(h.items)),f.current(d),()=>{n.current=!1}),[c.length,null==h?void 0:h.items,t,d]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L,{}),n.current&&(0,i.jsx)(y,{}),(m||v)&&(0,i.jsx)(s.M5Y,{children:(0,i.jsx)(s.$jN,{})}),n.current&&j&&(b?(0,i.jsx)(W,{items:null==p?void 0:p.items,total:null==p?void 0:p.total}):(0,i.jsx)(P,{hasFilters:C}))]})},H=t(1226),K=()=>(0,i.jsx)(H.Z,{children:(0,i.jsx)(O,{})})},40542:function(e){e.exports={"grid-row":"ConnectionGrid_grid-row__Cv_Zf","grid-item":"ConnectionGrid_grid-item__xP7eK"}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=98720)}),_N_E=e.O()}]);