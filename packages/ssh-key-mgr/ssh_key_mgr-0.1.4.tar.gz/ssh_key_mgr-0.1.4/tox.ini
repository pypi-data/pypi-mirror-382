[tox]
requires =
    tox >= 4.20
env_list =
    clean
    3.13
    3.13-nocrypto

[testenv:3.13]
runner = uv-venv-lock-runner
extras =
    crypto
dependency_groups =
    test

commands =
    uv run --active pytest -vv --cov-append

[testenv:3.13-nocrypto]
runner = uv-venv-lock-runner
dependency_groups =
    test

commands =
    uv run --active pytest -vv --cov-append

[testenv:clean]
deps = coverage
skip_install = true
commands = coverage erase
