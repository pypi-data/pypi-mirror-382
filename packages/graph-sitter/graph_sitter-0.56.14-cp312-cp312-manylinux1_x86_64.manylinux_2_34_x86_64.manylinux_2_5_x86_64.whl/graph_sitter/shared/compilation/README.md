Utils around compiling a user's codeblock into a function.

This includes:

- Raising on any dangerous operations in the codeblock
- Catching and logging any compilation errors
- Monkey patching built-ins like print
- etc
