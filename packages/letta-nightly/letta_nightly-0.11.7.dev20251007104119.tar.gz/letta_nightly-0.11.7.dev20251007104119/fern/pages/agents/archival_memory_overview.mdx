---
title: Archival Memory
subtitle: Long-term semantic storage for agent knowledge
slug: guides/agents/archival-memory
---

## What is archival memory?

Archival memory is a semantically searchable database where agents store facts, knowledge, and information for long-term retrieval. Unlike memory blocks that are always visible, archival memory is queried on-demand when relevant.

**Key characteristics:**
- **Agent-immutable** - Agents cannot easily modify or delete archival memories (though developers can via SDK)
- **Unlimited storage** - No practical size limits
- **Semantic search** - Find information by meaning, not exact keywords
- **Tagged organization** - Agents can categorize memories with tags

**Best for:** Event descriptions, reports, articles, historical records, and reference material that doesn't change frequently.

## When to use archival memory

**Use archival memory for:**
- Document repositories (API docs, technical guides, research papers)
- Conversation logs beyond the context window
- Customer interaction history and support tickets
- Reports, articles, and written content
- Code examples and technical references
- Training materials and educational content
- User research data and feedback
- Historical records and event logs

**Don't use archival memory for:**
- Information that should always be visible → Use memory blocks
- Frequently changing state → Use memory blocks
- Current working memory → Use scratchpad blocks
- Information that needs frequent modification → Use memory blocks

## How agents interact with archival memory

Agents have two primary tools for archival memory: `archival_memory_insert` and `archival_memory_search`.

### Inserting information

Agents can insert memories during conversations:

<CodeGroup>
```typescript TypeScript
// Agent inserts after learning something
archival_memory_insert(
    content: "Deckard retired six replicants in the off-world colonies before returning to Los Angeles",
    tags: ["replicant", "history", "retirement"]
)
```
```python Python
# Agent inserts after learning something
archival_memory_insert(
    content="Deckard retired six replicants in the off-world colonies before returning to Los Angeles",
    tags=["replicant", "history", "retirement"]
)
```
</CodeGroup>

Developers can also insert programmatically:

<CodeGroup>
```typescript TypeScript
await client.agents.passages.insert(agent.id, {
    content: "The Tyrell Corporation's motto: 'More human than human'",
    tags: ["company", "motto", "tyrell"]
});
```
```python Python
client.agents.passages.insert(
    agent_id=agent.id,
    content="The Tyrell Corporation's motto: 'More human than human'",
    tags=["company", "motto", "tyrell"]
)
```
</CodeGroup>

### Searching for information

<CodeGroup>
```typescript TypeScript
// Agent searches semantically
const results = archival_memory_search(
    query: "replicant lifespan",
    tags: ["technical"],  // Optional: filter by tags
    page: 0
)
```
```python Python
# Agent searches semantically
results = archival_memory_search(
    query="replicant lifespan",
    tags=["technical"],  # Optional: filter by tags
    page=0
)
```
</CodeGroup>

Results return **semantically relevant** information - meaning the search understands concepts and meaning, not just exact keywords. For example, searching for "artificial memories" will find "implanted memories" even though the exact words don't match.

[Learn more about search and querying →](/guides/agents/archival-search)

## Real-world examples

### Example 1: Personal knowledge manager
An agent with 30k+ archival memories tracking:
- Personal preferences and history
- Technical learnings and insights
- Article summaries and research notes
- Conversation highlights

### Example 2: Social media agent
An agent with 32k+ memories tracking interactions:
- User preferences and conversation history
- Common topics and interests
- Interaction patterns and communication styles
- Tags by user, topic, and interaction type

### Example 3: Customer support agent
- Stores ticket resolutions and common issues
- Tags by product, issue type, priority
- Searches archival for similar past issues
- Learns from successful resolutions over time

### Example 4: Research assistant
- Stores paper summaries with key findings
- Tags by topic, methodology, author
- Cross-references related research
- Builds a semantic knowledge graph

## Archival memory vs other memory types

| Feature | Memory Blocks | Archival Memory | Conversation Search |
|---------|--------------|-----------------|-------------------|
| **Always visible** | ✅ Yes | ❌ No (searched) | ❌ No (searched) |
| **Search type** | N/A | Semantic | Full-text + semantic |
| **Storage limit** | Character limit | Unlimited | Unlimited |
| **Agent modifiable** | ✅ Full edit control | ❌ Insert + search only | ❌ Search only |
| **SDK modifiable** | ✅ Yes | ✅ Yes | ❌ No |
| **Use case** | Current state | Long-term facts | Past messages |
| **Best for** | Active context | Historical records | Conversation history |

### When to use archival vs conversation search

<Tip>
**Archival memory** is for **intentional** storage:
- Agents decide what's worth remembering long-term
- Used for facts, knowledge, and reference material
- Curated by the agent through active insertion

**Conversation search** is for **historical** retrieval:
- Searches through actual past messages
- Used to recall what was said in previous conversations
- Automatic - no agent curation needed

**Example:**
- User says: "I prefer Python for data science projects"
- **Archival:** Agent inserts "User prefers Python for data science" as a fact
- **Conversation search:** Agent can search for the original message later

Use archival for structured knowledge, conversation search for historical context.
</Tip>

## Next steps

<CardGroup cols={2}>
  <Card
    title="Searching & Querying"
    href="/guides/agents/archival-search"
  >
    Learn how to write effective queries and filter results
  </Card>
  <Card
    title="Best Practices"
    href="/guides/agents/archival-best-practices"
  >
    Patterns, pitfalls, and advanced usage
  </Card>
  <Card
    title="Memory Blocks"
    href="/guides/agents/memory-blocks"
  >
    Learn about always-visible memory
  </Card>
  <Card
    title="Agent Memory Overview"
    href="/guides/agents/memory"
  >
    Understand Letta's memory system
  </Card>
</CardGroup>
