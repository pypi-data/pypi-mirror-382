[build-system]
requires = ["setuptools", "wheel"]
build-backend = "setuptools.build_meta"


[project]
name = "logician"
version = "0.0.0.dev7"
description = "Fully typed, simple, intuitive, sensible and pragmatic logger configurator for standard python logging."
readme = "README.md"
keywords = ["log", "logging", "logger"]
authors = [
    {name = "Suhas Krishna Srivastava", email = "suhas.srivastava@vaastav.tech"}
]
maintainers = [
    {name = "Suhas Krishna Srivastava", email = "suhas.srivastava@vaastav.tech"}
]
requires-python = ">=3.12"
license = "Apache-2.0"

classifiers = [
  "Development Status :: 1 - Planning",

  "Intended Audience :: Developers",
  "Intended Audience :: Education",
  "Intended Audience :: End Users/Desktop",

  "Topic :: Education",
  "Topic :: System :: Logging",

  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Programming Language :: Python :: 3 :: Only",

  "Typing :: Typed"
]
dependencies = [
    "vt-err-hndlr >= 0.0.0dev3",
    "vt-commons >= 0.0.1.dev4"
]

[dependency-groups]
lint = ["ruff"]
typecheck = ["mypy"]
dev = [{include-group = "lint"}, {include-group = "typecheck"}]
test = ["pytest"]
cover = [{include-group = "test"}, "pytest-cov"]
multitest = ["tox"]
doc = ["sphinx", "sphinx-argparse"]

[project.scripts]
lgcn = "logician.__main__:main_cli"

[project.urls]
homepage = "https://github.com/Vaastav-Technologies/py-logician"
source = "https://github.com/Vaastav-Technologies/py-logician"
issues = "https://github.com/Vaastav-Technologies/py-logician/issues"

[tool.setuptools.packages.find]
where = ["src"]

[tool.tox]
legacy_tox_ini = """
    [tox]
    env_list =
        py312

    [testenv]
    deps =
      pytest
      sphinx
      sphinx-argparse
    commands =
      python -m pytest --doctest-glob=*.rst --doctest-modules .
      python -m doctest README.md
      sphinx-build -q -b doctest docs/source docs/build/doctest

    [testenv:docs]
    deps =
      sphinx
      sphinx-argparse
    commands =
      sphinx-build -q -b html docs/source docs/build/html
"""

[tool.pytest.ini_options]
addopts = ["--doctest-modules", # Test all the doctests
    "--doctest-glob=*.md"] # Test doctests included as examples in the md files.

[tool.coverage.run]
omit = [
    "logician/_repo.py" # as this will soon be a separate project
]
