# Default configuration for ssiamb
# This file contains all configurable values that were previously hardcoded

# Analysis thresholds for ambiguous site detection
thresholds:
  dp_min: 10              # Minimum depth to consider a site
  maf_min: 0.1            # Minimum minor allele frequency 
  dp_cap: 100             # Maximum depth (cap for calculation)
  mapq_min: 20            # Minimum mapping quality
  baseq_min: 20           # Minimum base quality

# Quality control thresholds
qc:
  min_breadth_10x: 0.80         # Minimum breadth of coverage at 10x depth
  min_callable_bases: 1000000   # Minimum callable bases (1M)
  min_mapping_rate_ref: 0.70    # Minimum mapping rate for ref mode

# Depth analysis parameters
depth:
  min_contig_length: 500        # Minimum contig length to include
  default_mapq_threshold: 30    # Default MAPQ threshold for mosdepth
  default_threads: 4            # Default thread count for depth analysis

# VCF processing parameters
vcf:
  dp_cap: 100                   # Maximum depth value (higher values capped)
  maf_bins: 51                  # Number of MAF bins (0.00 to 0.50 in 0.01 increments)
  maf_max: 0.50                 # Maximum MAF value to track

# RefSeq API configuration
refseq:
  rate_limit_delay: 0.4         # Delay between API calls (seconds)
  api_timeout: 30               # Timeout for search requests (seconds)
  batch_timeout: 60             # Timeout for batch metadata requests (seconds)
  user_agent: "ssiamb/0.8.0 (https://github.com/ssi-dk/ssiamb)"
  max_retries: 3                # Maximum API retry attempts

# Variant calling defaults
calling:
  default_threads: 1            # Default thread count for variant calling
  default_mapq_min: 20          # Default minimum mapping quality
  default_baseq_min: 20         # Default minimum base quality
  default_minallelefraction: 0.0 # Default minimum allele fraction
  ploidy: 1                     # Organism ploidy (1 = haploid)

# Resource management
resources:
  default_threads: 4            # Default thread count when not specified
  default_memory: "16g"         # Default memory allocation (as per spec.md ยง14)
  timeout_short: 30             # Short operation timeout (seconds)
  timeout_long: 300             # Long operation timeout (seconds)
  walltime_hint: "2h"           # Default walltime hint for Galaxy

# Species name aliases for reference resolution
# Maps user-friendly names to canonical names or different species
species_aliases:
  # Common Shigella -> E. coli mappings
  "Shigella sonnei": "Escherichia coli"
  "Shigella flexneri": "Escherichia coli"
  "Shigella dysenteriae": "Escherichia coli"
  "Shigella boydii": "Escherichia coli"
  
  # Common abbreviations
  "E. coli": "Escherichia coli"
  "L. monocytogenes": "Listeria monocytogenes"
  "S. enterica": "Salmonella enterica"
  "C. jejuni": "Campylobacter jejuni"
  
  # Alternative naming schemes
  "Salmonella enterica subsp. enterica": "Salmonella enterica"
  "Campylobacter jejuni subsp. jejuni": "Campylobacter jejuni"

# Output formatting options
output:
  tsv:
    float_precision: 3    # Decimal places for float values
    
  json:
    indent: 2             # JSON indentation
    
  vcf:
    include_filters: true # Include FILTER field info
    
  bed:
    track_name: "ambiguous_sites"  # Track name for BED files