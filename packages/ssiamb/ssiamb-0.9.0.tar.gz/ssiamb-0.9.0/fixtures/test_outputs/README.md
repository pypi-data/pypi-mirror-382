# Test Output Fixtures

This directory contains realistic BAM and VCF files used for integration testing of the `summarize` command and dry-run functionality.

## Files

### `2508H52931_bwa_bbtools.sorted.bam`

- **Source**: Copied from `fixtures/reuse/pre_mapped.bam`
- **Purpose**: Used for testing `summarize` command with real BAM data
- **Format**: Sorted, indexed BAM file from BWA mapping
- **Size**: ~1.4MB
- **Tests**:
  - `test_dry_run.py::TestDryRunRealFiles::test_dry_run_with_real_files_exits_zero`
  - `test_error_handling.py::TestCLIExitCodes::test_cli_dry_run_exits_zero_on_success`
  - `test_summarize.py::TestSummarizeIntegration::test_summarize_with_real_files`
  - `test_summarize.py::TestSummarizeIntegration::test_summarize_dry_run_with_real_files`

### `2508H52931_bwa_bbtools.sorted.bam.bai`

- **Source**: Copied from `fixtures/reuse/pre_mapped.bam.bai`
- **Purpose**: BAM index file required by `mosdepth` and other tools
- **Format**: Standard BAM index (.bai)
- **Size**: ~1.5KB

### `2508H52931_bwa_bbtools.normalized.vcf.gz`

- **Source**: Copied from `fixtures/reuse/pre_called.vcf.gz`
- **Purpose**: Used for testing `summarize` command with real VCF data
- **Format**: bgzip-compressed, normalized VCF with variant calls
- **Size**: ~5.7MB
- **Tests**: Same as BAM file above

## Why These Files Exist

Previously, these tests were skipped because they looked for files in a `test_output/` directory that was generated by actual tool runs but was cleaned up as temporary data. By providing proper fixture files in `fixtures/test_outputs/`, we ensure:

1. **Consistent Testing**: Integration tests run reliably without depending on external tool execution
2. **Real Data Testing**: Tests use realistic BAM/VCF files with proper formats and content
3. **No Skipped Tests**: All integration tests execute and validate functionality
4. **Maintainable**: Files are properly versioned and documented

## File Origins

The source files (`pre_mapped.bam` and `pre_called.vcf.gz`) in `fixtures/reuse/` are real output files from the SSIAMB pipeline, providing authentic test data for comprehensive integration testing.
