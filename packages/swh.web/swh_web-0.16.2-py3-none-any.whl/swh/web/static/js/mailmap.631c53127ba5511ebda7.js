/*! For license information please see mailmap.631c53127ba5511ebda7.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.swh=t():(e.swh=e.swh||{},e.swh.mailmap=t())}(self,function(){return function(){var __webpack_modules__={887:function(e,t,n){var r=n(16993),o=n(11791);e.exports=function(e,t,n,a,i){return new o(r().w(e,t,n,a),i||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},4373:function(e){e.exports=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},4633:function(e,t,n){var r=n(25172),o=n(16993),a=n(55869),i=n(887),u=n(11791),c=n(4373),s=n(30579);function p(){"use strict";var t=o(),n=t.m(p),l=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function f(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var _={throw:1,return:2,break:3,continue:3};function d(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,_[e],t)},delegateYield:function(e,o,a){return t.resultName=o,n(r.d,s(e),a)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(e.exports=p=function(){return{wrap:function(e,n,r,o){return t.w(d(e),n,r,o&&o.reverse())},isGeneratorFunction:f,mark:t.m,awrap:function(e,t){return new r(e,t)},AsyncIterator:u,async:function(e,t,n,r,o){return(f(t)?i:a)(d(e),t,n,r,o)},keys:c,values:s}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=p,e.exports.__esModule=!0,e.exports.default=e.exports},8545:function(e,t,n){"use strict";n.d(t,{Jq:function(){return i},Tv:function(){return o},lY:function(){return a}});n(54756);var r=n(18987);function o(e){if(!e.ok)throw e;return e}function a(e,t){var n="/static/"+e;return n.startsWith("/")&&t&&(n=t+n),n}function i(e,t,n){return void 0===t&&(t={}),void 0===n&&(n=null),t["X-CSRFToken"]=r.A.get("csrftoken"),fetch(e,{credentials:"include",headers:t,method:"POST",body:n})}},10467:function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function u(e){r(i,o,a,u,c,"next",e)}function c(e){r(i,o,a,u,c,"throw",e)}u(void 0)})}}n.d(t,{A:function(){return o}})},11791:function(e,t,n){var r=n(25172),o=n(75546);e.exports=function e(t,n){function a(e,o,i,u){try{var c=t[e](o),s=c.value;return s instanceof r?n.resolve(s.v).then(function(e){a("next",e,i,u)},function(e){a("throw",e,i,u)}):n.resolve(s).then(function(e){c.value=e,i(c)},function(e){return a("throw",e,i,u)})}catch(e){u(e)}}var i;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),o(this,"_invoke",function(e,t,r){function o(){return new n(function(t,n){a(e,r,t,n)})}return i=i?i.then(o,o):o()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},16993:function(e,t,n){var r=n(75546);function o(){var t,n,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",u=a.toStringTag||"@@toStringTag";function c(e,o,a,i){var u=o&&o.prototype instanceof p?o:p,c=Object.create(u.prototype);return r(c,"_invoke",function(e,r,o){var a,i,u,c=0,p=o||[],l=!1,f={p:0,n:0,v:t,a:_,f:_.bind(t,4),d:function(e,n){return a=e,i=0,u=t,f.n=n,s}};function _(e,r){for(i=e,u=r,n=0;!l&&c&&!o&&n<p.length;n++){var o,a=p[n],_=f.p,d=a[2];e>3?(o=d===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=_&&((o=e<2&&_<a[1])?(i=0,f.v=r,f.n=a[1]):_<d&&(o=e<3||a[0]>r||r>d)&&(a[4]=e,a[5]=r,f.n=d,i=0))}if(o||e>1)return s;throw l=!0,r}return function(o,p,d){if(c>1)throw TypeError("Generator is already running");for(l&&1===p&&_(p,d),i=p,u=d;(n=i<2?t:u)||!l;){a||(i?i<3?(i>1&&(f.n=-1),_(i,u)):f.n=u:f.v=u);try{if(c=2,a){if(i||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,i<2&&(i=0)}else 1===i&&(n=a.return)&&n.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((n=(l=f.n<0)?u:e.call(r,f))!==s)break}catch(e){a=t,i=1,u=e}finally{c=1}}return{value:n,done:l}}}(e,a,i),!0),c}var s={};function p(){}function l(){}function f(){}n=Object.getPrototypeOf;var _=[][i]?n(n([][i]())):(r(n={},i,function(){return this}),n),d=f.prototype=p.prototype=Object.create(_);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,u,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,r(d,"constructor",f),r(f,"constructor",l),l.displayName="GeneratorFunction",r(f,u,"GeneratorFunction"),r(d),r(d,u,"Generator"),r(d,i,function(){return this}),r(d,"toString",function(){return"[object Generator]"}),(e.exports=o=function(){return{w:c,m:m}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},18987:function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{A:function(){return o}});var o=function e(t,n){function o(e,o,a){if("undefined"!=typeof document){"number"==typeof(a=r({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var u in a)a[u]&&(i+="; "+u,!0!==a[u]&&(i+="="+a[u].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+i}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var a=n[o].split("="),i=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(r[u]=t.read(i,u),e===u)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){o(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},23717:function(e,t,n){"use strict";n.d(t,{_k:function(){return r}});var r={serverSide:!0,processing:!0,language:{processing:'<img src="'+(0,n(8545).lY)("img/swh-spinner.gif")+'"></img>'},fixedHeader:!0,lengthMenu:[10,25,50,100,1e3],scrollCollapse:!0,searchDelay:1e3}},25172:function(e){e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},30579:function(e,t,n){var r=n(73738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(r(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},54756:function(e,t,n){var r=n(4633)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},55869:function(e,t,n){var r=n(887);e.exports=function(e,t,n,o,a){var i=r(e,t,n,o,a);return i.next().then(function(e){return e.done?e.value:i.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},58168:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:function(){return r}})},73738:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},75546:function(e){function t(n,r,o,a){var i=Object.defineProperty;try{i({},"",{})}catch(n){i=0}e.exports=t=function(e,n,r,o){function a(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?i?i(e,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[n]=r:(a("next",0),a("throw",1),a("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r,o,a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},84597:function(module){module.exports=function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return null==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){null!=e&&(__output+=e)}with(locals||{})__append('\n\n<form id="swh-mailmap-form" class="text-start">\n  <div>\n    <label class="form-label" for="swh-mailmap-from-email">Email address</label>\n    <input type="email" class="form-control" id="swh-mailmap-from-email" value="'),__append(escapeFn(email)),__append('"\n           '),updateForm&&__append(' readonly="readonly" '),__append(' required>\n  </div>\n  <div class="mt-3">\n    <label class="form-label" for="swh-mailmap-display-name">Display name</label>\n    <input class="form-control" id="swh-mailmap-display-name" value="'),__append(escapeFn(displayName)),__append('" placeholder="John Doe <jdoe@example.org>" required>\n  </div>\n  <div class="form-check mt-3">\n    <input class="form-check-input" type="checkbox" value="" id="swh-mailmap-display-name-activated"\n           '),displayNameActivated&&__append(' checked="checked" '),__append('>\n    <label class="form-check-label pt-0" for="swh-mailmap-display-name-activated">Activate display name</label>\n  </div>\n  <div class="d-flex justify-content-center mt-3">\n    <input id="swh-mailmap-form-submit" type="submit" value="'),__append(escapeFn(buttonText)),__append('">\n  </div>\n</form>');return __output}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return function(){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{addNewMailmap:function(){return f},initMailmapUI:function(){return v},mailmapForm:function(){return s},updateMailmap:function(){return _}});var e,t=__webpack_require__(58168),n=__webpack_require__(10467),r=__webpack_require__(54756),o=__webpack_require__.n(r),a=__webpack_require__(8545),i=__webpack_require__(23717),u=__webpack_require__(84597),c=__webpack_require__.n(u);function s(e,t,n,r,o){return void 0===t&&(t=""),void 0===n&&(n=""),void 0===r&&(r=!1),void 0===o&&(o=!1),c()({buttonText:e,email:t,displayName:n,displayNameActivated:r,updateForm:o})}function p(){return{from_email:$("#swh-mailmap-from-email").val(),display_name:$("#swh-mailmap-display-name").val(),display_name_activated:$("#swh-mailmap-display-name-activated").prop("checked")}}function l(t,r,i){swh.webapp.showModalHtml(t,r),$("#swh-mailmap-form").on("submit",function(){var t=(0,n.A)(o().mark(function t(n){var r,u,c,s;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),n.stopPropagation(),r=p(),t.prev=1,t.next=2,(0,a.Jq)(i,{"Content-Type":"application/json"},JSON.stringify(r));case 2:u=t.sent,$("#swh-web-modal-html").modal("hide"),(0,a.Tv)(u),e.draw(),t.next=5;break;case 3:return t.prev=3,s=t.catch(1),t.next=4,s.text();case 4:c=t.sent,swh.webapp.showModalMessage("Error",c);case 5:case"end":return t.stop()}},t,null,[[1,3]])}));return function(e){return t.apply(this,arguments)}}())}function f(){l("Add new mailmap",s("Add mailmap"),Urls.profile_mailmap_add())}function _(t){for(var n,r=e.rows().data(),o=0;o<r.length;++o){var a=r[o];if(a.id===t){n=a;break}}l("Update existing mailmap",s("Update mailmap",n.from_email,n.display_name,n.display_name_activated,!0),Urls.profile_mailmap_update())}var d='<i class="mdi mdi-check-bold" aria-hidden="true"></i>',m='<i class="mdi mdi-close-thick" aria-hidden="true"></i>';function v(){$(document).ready(function(){e=$("#swh-mailmaps-table").on("error.dt",function(e,t,n,r){$("#swh-mailmaps-list-error").text("An error occurred while retrieving the mailmaps list"),console.log(r)}).DataTable((0,t.A)({},i._k,{ajax:Urls.profile_mailmap_list_datatables(),columns:[{data:"from_email",name:"from_email",render:$.fn.dataTable.render.text()},{data:"from_email_verified",name:"from_email_verified",render:function(e,t,n){return e?d:m},className:"dt-center"},{data:"display_name",name:"display_name",render:$.fn.dataTable.render.text()},{data:"display_name_activated",name:"display_name_activated",render:function(e,t,n){return e?d:m},className:"dt-center"},{data:"last_update_date",name:"last_update_date",render:function(e,t,n){return"display"===t?new Date(e).toLocaleString():e}},{render:function(e,t,n){var r=new Date(n.last_update_date),o=new Date(n.mailmap_last_processing_date);return!o||o<r?m:d},className:"dt-center",orderable:!1},{render:function(e,t,n){return'<button class="btn btn-secondary"\n                         onclick="swh.mailmap.updateMailmap('+n.id+')">\n                  Edit\n                </button>'},orderable:!1}],ordering:!0,searching:!0}))})}}(),__webpack_exports__}()});
//# sourceMappingURL=mailmap.631c53127ba5511ebda7.js.map