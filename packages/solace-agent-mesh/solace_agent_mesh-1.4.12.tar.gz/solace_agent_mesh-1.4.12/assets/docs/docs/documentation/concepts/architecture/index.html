<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-documentation/concepts/architecture" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Architecture | Solace Agent Mesh</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://solacelabs.github.io/solace-agent-mesh/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://solacelabs.github.io/solace-agent-mesh/img/logo.png"><meta data-rh="true" property="og:url" content="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/concepts/architecture"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Architecture | Solace Agent Mesh"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/solace-agent-mesh/img/logo.png"><link data-rh="true" rel="canonical" href="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/concepts/architecture"><link data-rh="true" rel="alternate" href="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/concepts/architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://solacelabs.github.io/solace-agent-mesh/docs/documentation/concepts/architecture" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Architecture","item":"https://solacelabs.github.io/solace-agent-mesh/docs/documentation/concepts/architecture"}]}</script><link rel="stylesheet" href="/solace-agent-mesh/assets/css/styles.906a1503.css">
<script src="/solace-agent-mesh/assets/js/runtime~main.40527046.js" defer="defer"></script>
<script src="/solace-agent-mesh/assets/js/main.c0e4ecef.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/solace-agent-mesh/img/logo.png"><link rel="preload" as="image" href="/solace-agent-mesh/img/solace-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/solace-agent-mesh/docs/documentation/getting-started/introduction"><div class="navbar__logo"><img src="/solace-agent-mesh/img/logo.png" alt="Solace Agent Mesh Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/solace-agent-mesh/img/logo.png" alt="Solace Agent Mesh Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Solace Agent Mesh</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/solace-agent-mesh/docs/documentation/getting-started/introduction">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/SolaceLabs/solace-agent-mesh/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/solace-agent-mesh/docs/documentation/getting-started/introduction">Getting Started</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/component-overview">Component Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/configurations/">Configurations</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/getting-started/configurations/litellm_models">LLM Models</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/solace-agent-mesh/docs/documentation/concepts/architecture">Components and Concepts</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/solace-agent-mesh/docs/documentation/concepts/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/concepts/cli">Solace Agent Mesh CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/concepts/gateways">Gateways</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/concepts/agents">Agents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/concepts/orchestrator">Orchestrator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/solace-agent-mesh/docs/documentation/concepts/plugins">Plugins</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/solace-agent-mesh/docs/documentation/user-guide/solace-ai-connector">User Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/solace-agent-mesh/docs/documentation/deployment/deploy">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/solace-agent-mesh/docs/documentation/tutorials/custom-agent">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/solace-agent-mesh/docs/documentation/Migrations/A2A Upgrade To 0.3.0/a2a-gateway-upgrade-to-0.3.0">Migrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/solace-agent-mesh/docs/documentation/Enterprise/installation">Enterprise</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><span class="breadcrumbs__link">Components and Concepts</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Architecture</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Solace Agent Mesh Architecture</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>Solace Agent Mesh is an event-driven framework for creating a distributed ecosystem of collaborative AI agents. The architecture is designed to decouple agent logic from communication and orchestration, enabling scalability, resilience, and modularity.</p>
<p>It integrates three primary technologies:</p>
<ul>
<li><strong>Solace Event Broker</strong>: Provides the messaging fabric for all asynchronous communication, utilizing topic-based routing for the Agent-to-Agent (A2A) protocol.</li>
<li><strong>Solace AI Connector (SAC)</strong>: Serves as the runtime environment for hosting and managing the lifecycle of all system components (Agents and Gateways).</li>
<li><strong>Google Agent Development Kit (ADK)</strong>: Provides the core logic for individual agents, including LLM interaction, tool execution, and state management.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="architectural-principles">Architectural Principles<a href="#architectural-principles" class="hash-link" aria-label="Direct link to Architectural Principles" title="Direct link to Architectural Principles">​</a></h2>
<p>The design of Solace Agent Mesh is founded on several key architectural principles:</p>
<ul>
<li><strong>Event-Driven Architecture (EDA)</strong>: All interactions between major components are asynchronous and mediated by the event broker. This eliminates direct dependencies, allowing components to be developed, deployed, and scaled independently.</li>
<li><strong>Component Decoupling</strong>: Gateways, Agent Hosts, and other services communicate through standardized A2A protocol messages over the event mesh. They do not require knowledge of each other&#x27;s network location, implementation language, or internal logic.</li>
<li><strong>Scalability and Resilience</strong>: The architecture supports horizontal scaling of Agent Hosts and Gateways. The event broker provides fault tolerance and guaranteed message delivery, ensuring system resilience even if individual components fail or are restarted.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-components">System Components<a href="#system-components" class="hash-link" aria-label="Direct link to System Components" title="Direct link to System Components">​</a></h2>
<p>The architecture comprises several distinct types of components that interact through the Solace broker.</p>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="solace-event-broker">Solace Event Broker<a href="#solace-event-broker" class="hash-link" aria-label="Direct link to Solace Event Broker" title="Direct link to Solace Event Broker">​</a></h3>
<p>The broker is the central messaging fabric. It is responsible for routing all A2A protocol messages between components using a hierarchical topic structure. This enables patterns like request/reply, streaming updates, and publish/subscribe for discovery.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gateways">Gateways<a href="#gateways" class="hash-link" aria-label="Direct link to Gateways" title="Direct link to Gateways">​</a></h3>
<p>Gateways are SAC applications that act as bridges between external systems and the agent mesh. Their primary responsibilities are:</p>
<ul>
<li><strong>Protocol Translation</strong>: Convert external protocols (for example, HTTP, WebSockets, Slack RTM) into the standardized A2A protocol, and vice-versa.</li>
<li><strong>Authentication and Authorization</strong>: Authenticate incoming requests and, using a pluggable <code>AuthorizationService</code>, retrieve the user&#x27;s permission scopes.</li>
<li><strong>Session Management</strong>: Manage external user sessions and map them to A2A task lifecycles.</li>
<li><strong>Response Handling</strong>: Receive asynchronous A2A responses and status updates from agents and deliver them to the external client.</li>
</ul>
<p>The <strong>Gateway Development Kit (GDK)</strong> provides <code>BaseGatewayApp</code> and <code>BaseGatewayComponent</code> classes to abstract common gateway logic, such as A2A protocol handling, agent discovery, and late-stage embed resolution, simplifying the creation of new gateways.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agent-hosts">Agent Hosts<a href="#agent-hosts" class="hash-link" aria-label="Direct link to Agent Hosts" title="Direct link to Agent Hosts">​</a></h3>
<p>An Agent Host is a SAC application (<code>SamAgentApp</code>) that hosts a single ADK-based agent. Its key architectural functions include:</p>
<ul>
<li><strong>Hosting the ADK Runtime</strong>: It manages the lifecycle of the ADK <code>Runner</code> and <code>LlmAgent</code>.</li>
<li><strong>A2A Protocol Handling</strong>: The internal <code>SamAgentComponent</code> translates incoming A2A requests into ADK <code>Task</code> objects and converts ADK <code>Event</code> objects into outgoing A2A <code>TaskStatusUpdateEvent</code>, <code>TaskArtifactUpdateEvent</code>, or final response messages.</li>
<li><strong>Scope Enforcement</strong>: It extracts permission scopes from incoming message properties and filters the agent&#x27;s available tools accordingly.</li>
<li><strong>Service Initialization</strong>: It initializes ADK services like the <code>ArtifactService</code> and <code>MemoryService</code> based on its configuration.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agents">Agents<a href="#agents" class="hash-link" aria-label="Direct link to Agents" title="Direct link to Agents">​</a></h3>
<p>An agent is the logical entity within an Agent Host that performs tasks. It is defined by its configuration, which includes:</p>
<ul>
<li><strong>Instructions</strong>: The base prompt that defines its persona, capabilities, and constraints.</li>
<li><strong>LLM Configuration</strong>: The specific large language model to use.</li>
<li><strong>Toolset</strong>: A collection of available tools, which can be built-in, custom Python functions, or MCP Toolsets.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-architectural-flows">Key Architectural Flows<a href="#key-architectural-flows" class="hash-link" aria-label="Direct link to Key Architectural Flows" title="Direct link to Key Architectural Flows">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-task-processing-flow">User Task Processing Flow<a href="#user-task-processing-flow" class="hash-link" aria-label="Direct link to User Task Processing Flow" title="Direct link to User Task Processing Flow">​</a></h3>
<ol>
<li>An external client sends a request to a <strong>Gateway</strong>.</li>
<li>The Gateway authenticates the request, retrieves the user&#x27;s permission scopes via its <code>AuthorizationService</code>, and translates the request into an A2A task message. It includes the scopes in the Solace message&#x27;s user properties.</li>
<li>The Gateway publishes the message to the target agent&#x27;s request topic on the <strong>Solace Broker</strong>.</li>
<li>The corresponding <strong>Agent Host</strong> receives the message. The <code>SamAgentComponent</code> extracts the scopes and initiates an ADK task.</li>
<li>The ADK <code>LlmAgent</code> processes the task. Before invoking the LLM, a <code>before_model_callback</code> filters the available tools based on the user&#x27;s scopes.</li>
<li>As the agent executes, the <code>SamAgentComponent</code> translates ADK events into A2A status and artifact update messages, publishing them to the originating Gateway&#x27;s status topic.</li>
<li>The Gateway receives these streaming updates, performs any necessary late-stage processing (like resolving <code>artifact_content</code> embeds), and forwards them to the client.</li>
<li>Upon completion, the Agent Host sends a final A2A response message to the Gateway, which delivers it to the client.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agent-to-agent-delegation-flow">Agent-to-Agent Delegation Flow<a href="#agent-to-agent-delegation-flow" class="hash-link" aria-label="Direct link to Agent-to-Agent Delegation Flow" title="Direct link to Agent-to-Agent Delegation Flow">​</a></h3>
<ol>
<li><strong>Agent A</strong>, while processing a task, determines a sub-task should be delegated to <strong>Agent B</strong>.</li>
<li>Agent A uses its <code>PeerAgentTool</code> to construct a new A2A task request for Agent B. It propagates the original user&#x27;s permission scopes to maintain the security context.</li>
<li>The request is published to Agent B&#x27;s request topic.</li>
<li><strong>Agent B&#x27;s Host</strong> receives and processes the sub-task, enforcing the propagated scopes on its own toolset.</li>
<li>Agent B sends status updates and a final response to topics designated by Agent A.</li>
<li>Agent A receives the results and incorporates them into its ongoing task.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agent-discovery-flow">Agent Discovery Flow<a href="#agent-discovery-flow" class="hash-link" aria-label="Direct link to Agent Discovery Flow" title="Direct link to Agent Discovery Flow">​</a></h3>
<ol>
<li>On startup and periodically, each <strong>Agent Host</strong> publishes an <code>AgentCard</code> (a JSON document describing its agent&#x27;s capabilities) to a well-known discovery topic (for example, <code>{namespace}/a2a/v1/discovery/agentcards</code>).</li>
<li><strong>Gateways</strong> and other <strong>Agent Hosts</strong> subscribe to this topic.</li>
<li>Upon receiving an <code>AgentCard</code>, components update their local <code>AgentRegistry</code>, making them aware of available agents for user selection (at the Gateway) or peer delegation (at the Agent).</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="a2a-protocol-and-topic-structure">A2A Protocol and Topic Structure<a href="#a2a-protocol-and-topic-structure" class="hash-link" aria-label="Direct link to A2A Protocol and Topic Structure" title="Direct link to A2A Protocol and Topic Structure">​</a></h2>
<p>The A2A protocol is based on JSON-RPC 2.0 and defines the message formats for all interactions. Communication is routed via a hierarchical topic structure on the Solace broker.</p>
<table><thead><tr><th>Purpose</th><th>Topic Pattern</th></tr></thead><tbody><tr><td><strong>Agent Discovery</strong></td><td><code>{namespace}/a2a/v1/discovery/agentcards</code></td></tr><tr><td><strong>Task Requests</strong></td><td><code>{namespace}/a2a/v1/agent/request/{target_agent_name}</code></td></tr><tr><td><strong>Status Updates</strong></td><td><code>{namespace}/a2a/v1/gateway/status/{gateway_id}/{task_id}</code></td></tr><tr><td><strong>Final Responses</strong></td><td><code>{namespace}/a2a/v1/gateway/response/{gateway_id}/{task_id}</code></td></tr><tr><td><strong>Peer Delegation Status</strong></td><td><code>{namespace}/a2a/v1/agent/status/{delegating_agent_name}/{sub_task_id}</code></td></tr><tr><td><strong>Peer Delegation Response</strong></td><td><code>{namespace}/a2a/v1/agent/response/{delegating_agent_name}/{sub_task_id}</code></td></tr></tbody></table>
<p>This topic structure allows for precise, point-to-point routing in a decoupled, asynchronous environment.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/SolaceLabs/solace-agent-mesh/edit/main/docs/docs/documentation/concepts/architecture.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/solace-agent-mesh/docs/documentation/getting-started/configurations/litellm_models"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">LLM Models</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/solace-agent-mesh/docs/documentation/concepts/cli"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Solace Agent Mesh CLI</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#architectural-principles" class="table-of-contents__link toc-highlight">Architectural Principles</a></li><li><a href="#system-components" class="table-of-contents__link toc-highlight">System Components</a><ul><li><a href="#solace-event-broker" class="table-of-contents__link toc-highlight">Solace Event Broker</a></li><li><a href="#gateways" class="table-of-contents__link toc-highlight">Gateways</a></li><li><a href="#agent-hosts" class="table-of-contents__link toc-highlight">Agent Hosts</a></li><li><a href="#agents" class="table-of-contents__link toc-highlight">Agents</a></li></ul></li><li><a href="#key-architectural-flows" class="table-of-contents__link toc-highlight">Key Architectural Flows</a><ul><li><a href="#user-task-processing-flow" class="table-of-contents__link toc-highlight">User Task Processing Flow</a></li><li><a href="#agent-to-agent-delegation-flow" class="table-of-contents__link toc-highlight">Agent-to-Agent Delegation Flow</a></li><li><a href="#agent-discovery-flow" class="table-of-contents__link toc-highlight">Agent Discovery Flow</a></li></ul></li><li><a href="#a2a-protocol-and-topic-structure" class="table-of-contents__link toc-highlight">A2A Protocol and Topic Structure</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Solace Agent Mesh</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/solace-agent-mesh/docs/documentation/getting-started/introduction">Documentation</a></li><li class="footer__item"><a href="https://github.com/SolaceLabs/solace-agent-mesh/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SolaceLabs/solace-agent-mesh-core-plugins/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Official Plugins<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://solace.com/products/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Products<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://solace.com/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://solace.com/support/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://solace.com/legal/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy and Legal<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/solacedotcom/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/SolaceLabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/SolaceSystems" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/solacedotcom" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/solace-agent-mesh/img/solace-logo.png" alt="Solace Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="10%" height="10%"><img src="/solace-agent-mesh/img/solace-logo.png" alt="Solace Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="10%" height="10%"></div><div class="footer__copyright">Solace Agent Mesh. Copyright © 2025 Solace. Version: 1.4.12</div></div></div></footer></div>
</body>
</html>