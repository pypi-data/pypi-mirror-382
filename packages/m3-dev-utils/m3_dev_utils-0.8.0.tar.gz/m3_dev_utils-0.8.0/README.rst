================================================================
Инструментарий разработчика веб-приложений на базе платформы M3.
================================================================

Пакет ``m3-dev-utils`` содержит инструменты для просмотра объектов Системы,
анализа её архитектуры и поиска в ней ошибок.

В состав пакета входит:

1. Средство просмотра зарегистрированных в Системе слушателей пакета
   ``m3-objectpack`` (listeners).

   Отображает список слушателей, их регулярные выражения (параметр ``listen``),
   а также действия M3 (actions), соответствующие этим регулярным выражениям.
   Красным выделяются объекты с предупреждениями о возможных ошибках,
   предупреждения для выбранного объекта отображаются в нижней части окна.

Требования к ПО
---------------

Работа пакета проверялась в Системе на базе Django 1.10 и M3 2.2.

Подключение пакета к Системе
----------------------------

Для подключения пакета к Системе необходимо добавить его в список приложений
Django:

::

  INSTALLED_APPS = [
      ...,
      'm3_dev_utils',
      ...
  ]

Т.к. приложению для работы нужна информация о некоторых объектах Системы,
необходимо его настроить. Для этого нужно:

1. Создать где-либо в проекте класс с конфигурацией приложения. Этот класс
   должен быть потомком ``m3_dev_utils.Config`` и реализовывать интерфейс этого
   класса.
2. Сохранить экземпляр класса с конфигурацией в переменной
   ``m3_dev_utils.config``.

Пример реализации класса с конфигурацией и настройки приложения:

::

  class AppConfig(AppConfig):

      def _init_m3_dev_utils(self):
          if 'm3_dev_utils' in settings.INSTALLED_APPS:
              import m3_dev_utils

              class Config(m3_dev_utils.Config):

                  @cached_property
                  def controller(self):
                      from extedu.controllers import main_controller
                      return main_controller

                  @cached_property
                  def observer(self):
                      from extedu.controllers import core_observer
                      return core_observer

              m3_dev_utils.config = Config()

      def ready(self):
          self._init_m3_dev_utils()

          super(AppConfig, self).ready()

Помните, что использование пакета должно осуществляться только в конфигурации
системы, предназначенной для разработки. Ни в коем случае не подключайте его в
production-конфигурациях, т.к. в этом случае пользователи смогут получить
доступ к системной информации, что нежелательно в т.ч. из-за возникновения
угроз информационной безопасности.

Использование
-------------

Все инструменты пакета доступны в подменю "Инструментарий разработчика" в меню
Пуск.
