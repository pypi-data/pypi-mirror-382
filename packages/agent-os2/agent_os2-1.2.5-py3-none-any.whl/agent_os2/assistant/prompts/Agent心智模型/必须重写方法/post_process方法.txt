*Agent心智模型-必须重写方法-post_process方法[base_agent,内置命令,apply_command方法,运行时上下文,批处理]
self.post_process是**必须重写**的方法
作用:
1.将source_context,shared_context,extra_contexts与model_result进行处理与合并
2.并返回给下游传递的源上下文(source_context)和副作用命令(agent_command)
该方法的返回值:tuple[Any,dict[str,Any]] e.g.return {"result":"xxx"},{}
post_process是将多种来源的数据进行处理与整合的方法
!!方法体内部不应该存在任何副作用(修改来源于外部的引用对象,通过I/O或http请求对外部资源进行修改)!!
!!所有的副作用出口应该在post_process方法的第二个返回值中用apply_command方法执行!!