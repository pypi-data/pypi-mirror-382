Metadata-Version: 2.1
Name: homer
Version: 0.11.0
Summary: Configuration manager for network devices
Home-page: https://gerrit.wikimedia.org/r/plugins/gitiles/operations/software/homer
Author: Riccardo Coccioli
Author-email: rcoccioli@wikimedia.org
License: GPLv3+
Keywords: network,switch,router,configuration,deploy
Platform: GNU/Linux
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: Console
Classifier: Intended Audience :: System Administrators
Classifier: License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)
Classifier: Operating System :: MacOS :: MacOS X
Classifier: Operating System :: POSIX :: BSD
Classifier: Operating System :: POSIX :: Linux
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: Topic :: System :: Systems Administration
Classifier: Topic :: System :: Networking
Requires-Python: >=3.9
Description-Content-Type: text/x-rst
License-File: LICENSE
Requires-Dist: Jinja2 (>=2.10)
Requires-Dist: junos-eznc (<3,>=2.2.1)
Requires-Dist: paramiko
Requires-Dist: pynetbox
Requires-Dist: pyyaml (>=3.11)
Requires-Dist: aerleon
Requires-Dist: python-dateutil (>=2.8.1)
Requires-Dist: pytz (>=2021.1)
Provides-Extra: prospector
Requires-Dist: prospector[with_everything] (==1.16.1) ; extra == 'prospector'
Requires-Dist: pytest (>=3.3.0) ; extra == 'prospector'
Provides-Extra: tests
Requires-Dist: bandit (>=1.1.0) ; extra == 'tests'
Requires-Dist: flake8 (>=3.2.1) ; extra == 'tests'
Requires-Dist: flake8-import-order (>=0.18.1) ; extra == 'tests'
Requires-Dist: mypy (>=0.470) ; extra == 'tests'
Requires-Dist: pytest-cov (>=1.8.0) ; extra == 'tests'
Requires-Dist: pytest-xdist (>=1.15.0) ; extra == 'tests'
Requires-Dist: pytest (>=3.3.0) ; extra == 'tests'
Requires-Dist: requests-mock ; extra == 'tests'
Requires-Dist: sphinx-rtd-theme (>=0.1.6) ; extra == 'tests'
Requires-Dist: sphinx-argparse (>=0.1.15) ; extra == 'tests'
Requires-Dist: sphinx-autodoc-typehints (>=1.9.0) ; extra == 'tests'
Requires-Dist: Sphinx (>=1.4.9) ; extra == 'tests'
Requires-Dist: types-PyYAML ; extra == 'tests'
Requires-Dist: types-requests ; extra == 'tests'

Homer - Configuration manager for network devices
-------------------------------------------------

Homer allows to manage the lifecycle of the configuration for network devices, generating and deploying their
configuration.

The configuration generation is based on ``YAML`` files to define variables and ``Jinja2`` templates.
The ``YAML`` files allow for hierarchical override of variables based on the device role, site or hostname.
Once generated, the configuration can be deployed to the selected devices.

The device list can either live hardcoded in the configuration files or be dynamically gathered from Netbox.
When using Netbox as inventory both the Virtual Chassis endpoint and the Device endpoint are used to select
all the devices that matches the configured whitelist of device roles and statuses.

Also when using Netbox as inventory for each device additional metadata is exposed to the templates, namely:

- ``role``: device role slug
- ``site``: device site slug
- ``type``: device type slug
- ``ip4``: primary IPv4 without netmask
- ``ip6``: primary IPv6 without netmask
- ``netbox_object``: the Netbox device object. Directly exposed data should always be preferred in templates.
  It is exposed to not be a blocker in case some additional data is needed that is not yet exposed by
  Homer explicitely. It could be removed in a future release.

If any metadata is present in the ``YAML`` inventory file when using Netbox as inventory, this additional metadata
ie exposed too to the templates, with the Netbox values having precedence in case of overlapping keys.

When using Netbox to gather dynamic configuration, it's also possible to write a custom plugin in the form of a
Python module that implements a class called ``NetboxDeviceDataPlugin`` that inherits from
`homer.netbox.BaseNetboxDeviceData` and is in the Python ``PATH``.
Assuming that the plugin class implements a method named ``_get_name``, it will be accessible within the templates
with ``netbox.device_plugin.name``.

Homer can use GraphQL to fetch Netbox data. For that, store your query in the ``basepath``/public/graphql directory.
And reference it using ``_gql_execute(filename, variables)``.
