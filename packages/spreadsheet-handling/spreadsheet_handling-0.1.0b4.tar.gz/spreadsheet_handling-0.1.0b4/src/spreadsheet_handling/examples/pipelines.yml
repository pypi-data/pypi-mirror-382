io:
  profiles:
    pack_json_to_xlsx:
      input:  { kind: json_dir, path: scripts/spreadsheet_handling/examples/roundtrip_start_json }
      output: { kind: xlsx,     path: scripts/spreadsheet_handling/tmp/world_out.xlsx }

    unpack_xlsx_to_json:
      input:  { kind: xlsx,     path: scripts/spreadsheet_handling/tmp/world.xlsx }
      output: { kind: json_dir, path: scripts/spreadsheet_handling/tmp/json_out }

pipelines:
  basic:
    - step: validate
      mode_duplicate_ids: warn
      mode_missing_fk: warn
      defaults:
        id_field: id
        label_field: name
        detect_fk: true
        helper_prefix: "_"

    - step: apply_fks
      defaults:
        id_field: id
        label_field: name
        detect_fk: true

    - step: drop_helpers
      prefix: "_"
