# -*- coding: UTF-8 -*-
"""
{{project_name}}.spiders.{{spider_name}}
=======================================
由 `crawlo genspider` 命令生成的爬虫。
"""

from crawlo.spider import Spider
from crawlo import Request
from ..items import {{item_class}}


class {{class_name}}(Spider):
    """
    爬虫：{{spider_name}}
    """
    name = '{{spider_name}}'
    allowed_domains = ['{{domain}}']
    start_urls = ['https://{{domain}}/']
    
    # 自定义设置（可选）
    custom_settings = {}

    def start_requests(self):
        """
        生成初始请求。
        """
        for url in self.start_urls:
            yield Request(url=url, callback=self.parse)

    def parse(self, response):
        """
        解析响应的主方法。
        """
        self.logger.info(f'正在解析页面: {response.url}')
        
        yield {
            'title': response.xpath('//title/text()').get(default=''),
            'url': response.url,
            'status_code': response.status_code,
        }