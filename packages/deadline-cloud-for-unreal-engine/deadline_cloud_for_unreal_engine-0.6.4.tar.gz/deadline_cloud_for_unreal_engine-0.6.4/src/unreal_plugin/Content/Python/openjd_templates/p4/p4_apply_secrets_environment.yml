# OpenJD Environment for getting Perforce credentials from AWS SecretManager and applying them for connection.
# When using environment variables to connect to Perforce, they will appear in the logs with
# the prefix "openjd_env". Use with caution because sensitive data, such as the password, port,
# and user, will be reflected in the job execution history."

name: P4ApplySecrets
variables:
  AWS_SECRET_P4INFO: ""
script:
  actions:
    onEnter:
      command: unreal-engine-p4-utils
      args:
      - apply_perforce_secrets
      cancelation:
        mode: NOTIFY_THEN_TERMINATE