[build-system]
requires = [
  "setuptools>=61",
  "setuptools-scm[toml]>=7,<8",
  "wheel"
]
build-backend = "setuptools.build_meta"

[project]
name = "pybenchx"
dynamic = ["version"]
description = "A tiny, precise microbenchmarking framework for Python"
readme = { file = "README.md", content-type = "text/markdown" }
requires-python = ">=3.7"
license = { text = "MIT" }
authors = [{ name = "fullzer4", email = "gabrielpelizzaro@gmail.com" }]
keywords = ["benchmark", "microbenchmark", "performance", "timeit"]
classifiers = [
  "Development Status :: 3 - Alpha",
  "Intended Audience :: Developers",
  "Topic :: Software Development :: Testing",
  "Environment :: Console",
  "License :: OSI Approved :: MIT License",
  "Programming Language :: Python",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3 :: Only",
  "Programming Language :: Python :: 3.7",
  "Programming Language :: Python :: 3.8",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Programming Language :: Python :: 3.13",
  "Operating System :: OS Independent",
]
dependencies = []

[dependency-groups]
dev = [
  "pytest>=7.4,<8 ; python_version < '3.8'",
  "pytest>=8      ; python_version >= '3.8'",
  "ruff",
]

[project.urls]
Homepage = "https://github.com/fullzer4/pybenchx"
Repository = "https://github.com/fullzer4/pybenchx"
Issues = "https://github.com/fullzer4/pybenchx/issues"

[project.scripts]
pybench = "pybench.cli:main"
pyb = "pybench.cli:main"

[tool.setuptools]
include-package-data = true

[tool.setuptools.packages.find]
include = ["pybench*"]
exclude = ["tests*", "docs*"]

[tool.setuptools_scm]
tag_regex = '^[vV]?(?P<version>\d+(?:\.\d+){2,})$'
version_scheme = "guess-next-dev"
local_scheme = "node-and-date"
fallback_version = "0.0.0"

[tool.ruff]
target-version = "py37"
line-length = 88

[tool.ruff.format]
quote-style = "double"
indent-style = "space"
line-ending = "lf"

[tool.ruff.lint]
select = ["E", "F", "W", "B", "I", "UP", "N", "D"]
ignore = ["D104", "D107"]

[tool.ruff.lint.pydocstyle]
convention = "google"

[tool.pytest.ini_options]
addopts = "-q -ra"
testpaths = ["tests"]
