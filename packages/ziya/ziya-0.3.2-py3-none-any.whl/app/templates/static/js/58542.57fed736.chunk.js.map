{"version":3,"file":"static/js/58542.57fed736.chunk.js","mappings":"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","sources":["../node_modules/@ant-design/icons-svg/es/asn/WarningOutlined.js","../node_modules/@ant-design/icons/es/icons/WarningOutlined.js","components/ShellConfigModal.tsx","../node_modules/antd/es/checkbox/useBubbleLock.js","../node_modules/rc-checkbox/es/index.js"],"sourcesContent":["// This icon file is generated automatically.\nvar WarningOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z\" } }] }, \"name\": \"warning\", \"theme\": \"outlined\" };\nexport default WarningOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport WarningOutlinedSvg from \"@ant-design/icons-svg/es/asn/WarningOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar WarningOutlined = function WarningOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: WarningOutlinedSvg\n  }));\n};\n\n/**![warning](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ2NCA3MjBhNDggNDggMCAxMDk2IDAgNDggNDggMCAxMC05NiAwem0xNi0zMDR2MTg0YzAgNC40IDMuNiA4IDggOGg0OGM0LjQgMCA4LTMuNiA4LThWNDE2YzAtNC40LTMuNi04LTgtOGgtNDhjLTQuNCAwLTggMy42LTggOHptNDc1LjcgNDQwbC00MTYtNzIwYy02LjItMTAuNy0xNi45LTE2LTI3LjctMTZzLTIxLjYgNS4zLTI3LjcgMTZsLTQxNiA3MjBDNTYgODc3LjQgNzEuNCA5MDQgOTYgOTA0aDgzMmMyNC42IDAgNDAtMjYuNiAyNy43LTQ4em0tNzgzLjUtMjcuOUw1MTIgMjM5LjlsMzM5LjggNTg4LjJIMTcyLjJ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(WarningOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'WarningOutlined';\n}\nexport default RefIcon;","import React, { useState, useEffect } from 'react';\nimport { Modal, Switch, Input, Button, List, Tag, Space, message, Divider, Checkbox, Collapse, Alert, Slider } from 'antd';\nimport { PlusOutlined, DeleteOutlined, WarningOutlined } from '@ant-design/icons';\n\ninterface ShellConfigModalProps {\n    visible: boolean;\n    onClose: () => void;\n}\n\ninterface ShellConfig {\n    enabled: boolean;\n    allowedCommands: string[];\n    gitOperationsEnabled: boolean;\n    safeGitOperations: string[];\n    timeout: number;\n}\n\nconst { Panel } = Collapse;\n\nconst ShellConfigModal: React.FC<ShellConfigModalProps> = ({ visible, onClose }) => {\n    const [config, setConfig] = useState<ShellConfig | null>(null);\n    const [newCommand, setNewCommand] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        if (visible) {\n            fetchShellConfig();\n        }\n    }, [visible]);\n\n    const fetchShellConfig = async () => {\n        try {\n            const response = await fetch('/api/mcp/shell-config');\n            if (response.ok) {\n                const data = await response.json();\n                setConfig(data);\n            }\n        } catch (error) {\n            console.error('Failed to fetch shell config:', error);\n            setConfig({\n                enabled: true,\n                allowedCommands: [],\n                gitOperationsEnabled: true,\n                safeGitOperations: [],\n                timeout: 30\n            });\n        }\n    };\n\n    const syncMCPServerToggle = async (enabled: boolean) => {\n        try {\n            await fetch('/api/mcp/toggle-server', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    server_name: 'shell',\n                    enabled: enabled\n                }),\n            });\n        } catch (error) {\n            console.warn('Failed to sync MCP server toggle:', error);\n        }\n    };\n\n    const saveConfig = async () => {\n        if (!config) return;\n\n        setLoading(true);\n        try {\n            const response = await fetch('/api/mcp/shell-config', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(config),\n            });\n\n            if (response.ok) {\n                const result = await response.json();\n                if (result.success) {\n                    await syncMCPServerToggle(config.enabled);\n\n                    window.dispatchEvent(new CustomEvent('mcpStatusChanged', {\n                        detail: {\n                            serverName: 'shell',\n                            enabled: config.enabled\n                        }\n                    }));\n\n                    message.success(result.message || 'Shell configuration updated instantly');\n                } else {\n                    message.error(result.message || 'Failed to update shell configuration');\n                }\n                onClose();\n            } else {\n                message.error('Failed to save shell configuration');\n            }\n        } catch (error) {\n            message.error('Failed to save shell configuration');\n            console.error('Save error:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const addCommand = () => {\n        if (!config) return;\n\n        if (newCommand.trim() && !config.allowedCommands.includes(newCommand.trim())) {\n            setConfig(prev => ({\n                ...prev!,\n                allowedCommands: [...prev!.allowedCommands, newCommand.trim()]\n            }));\n            setNewCommand('');\n        }\n    };\n\n    const removeCommand = (command: string) => {\n        if (!config) return;\n\n        setConfig(prev => ({\n            ...prev!,\n            allowedCommands: prev!.allowedCommands.filter(cmd => cmd !== command)\n        }));\n    };\n\n    const toggleGitOperation = (operation: string) => {\n        if (!config) return;\n\n        setConfig(prev => ({\n            ...prev!,\n            safeGitOperations: prev!.safeGitOperations.includes(operation)\n                ? prev!.safeGitOperations.filter(op => op !== operation)\n                : [...prev!.safeGitOperations, operation]\n        }));\n    };\n\n    const dangerousCommands = ['rm', 'rmdir', 'mv', 'cp', 'chmod', 'chown', 'sudo', 'su'];\n    const allGitOperations = ['status', 'log', 'show', 'diff', 'branch', 'remote', 'config --get', 'ls-files', 'ls-tree', 'blame', 'tag', 'stash list', 'reflog', 'rev-parse', 'describe', 'shortlog', 'whatchanged'];\n\n    const isDangerous = (command: string) =>\n        dangerousCommands.some(dangerous =>\n            command.toLowerCase().includes(dangerous.toLowerCase())\n        );\n\n    if (!config) {\n        return (\n            <Modal title=\"Shell Command Configuration\" open={visible} onCancel={onClose} footer={null}>\n                <div style={{ textAlign: 'center', padding: '40px' }}>Loading configuration...</div>\n            </Modal>\n        );\n    }\n\n    return (\n        <Modal\n            title=\"Shell Command Configuration\"\n            open={visible}\n            onCancel={onClose}\n            onOk={saveConfig}\n            confirmLoading={loading}\n            width={600}\n            okText=\"Save Configuration\"\n        >\n            <Space direction=\"vertical\" style={{ width: '100%' }} size=\"large\">\n                <div>\n                    <Space align=\"center\">\n                        <Switch\n                            checked={config.enabled}\n                            onChange={async (checked) => {\n                                setConfig(prev => ({ ...prev!, enabled: checked }));\n                                await syncMCPServerToggle(checked);\n                            }}\n                        />\n                        <span>Enable shell command execution</span>\n                    </Space>\n                    <div style={{ marginTop: 8, color: '#666', fontSize: '12px' }}>\n                        When enabled, the AI agent can execute whitelisted shell commands\n                    </div>\n                </div>\n\n                <Divider />\n\n                <Alert\n                    message=\"Security Notice\"\n                    description=\"Only enable commands that are safe for AI execution. Git operations are limited to read-only and safe operations by default.\"\n                    type=\"info\"\n                    showIcon\n                    style={{ marginBottom: 16 }}\n                />\n\n                <Collapse defaultActiveKey={['1']} ghost>\n                    <Panel header=\"Basic Configuration\" key=\"1\">\n                        <div>\n                            <h4>Allowed Commands</h4>\n                            <div style={{ marginBottom: 12, color: '#666', fontSize: '12px' }}>\n                                Commands that the AI agent can execute. These are loaded from the server configuration.\n                            </div>\n\n                            <div style={{ marginBottom: 12 }}>\n                                <Input.Group compact>\n                                    <Input\n                                        placeholder=\"Add additional command\"\n                                        value={newCommand}\n                                        onChange={(e) => setNewCommand(e.target.value)}\n                                        onPressEnter={addCommand}\n                                        style={{ width: 'calc(100% - 80px)' }}\n                                    />\n                                    <Button\n                                        type=\"primary\"\n                                        icon={<PlusOutlined />}\n                                        onClick={addCommand}\n                                        style={{ width: 80 }}\n                                    >\n                                        Add\n                                    </Button>\n                                </Input.Group>\n                            </div>\n\n                            {config.allowedCommands && config.allowedCommands.length > 0 && (\n                                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginBottom: 16 }}>\n                                    {config.allowedCommands.map((command) => (\n                                        <Tag\n                                            key={command}\n                                            closable\n                                            color={isDangerous(command) ? 'red' : 'blue'}\n                                            onClose={() => removeCommand(command)}\n                                            style={{ marginBottom: '4px' }}\n                                        >\n                                            {command}\n                                            {isDangerous(command) && (\n                                                <WarningOutlined style={{ marginLeft: 4, color: '#ff4d4f' }} />\n                                            )}\n                                        </Tag>\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n\n                        <Divider />\n\n                        <div>\n                            <h4>Command Timeout: {config.timeout}s</h4>\n                            <Slider\n                                min={10}\n                                max={600}\n                                value={config.timeout}\n                                onChange={(value) => setConfig(prev => ({ ...prev!, timeout: value }))}\n                                marks={{\n                                    10: '10s',\n                                    60: '1m',\n                                    120: '2m',\n                                    300: '5m',\n                                    600: '10m'\n                                }}\n                                style={{ width: '100%', marginBottom: 20 }}\n                            />\n                        </div>\n\n                        <Divider />\n\n                        <div>\n                            <Space align=\"center\" style={{ marginBottom: 12 }}>\n                                <Switch\n                                    checked={config.gitOperationsEnabled}\n                                    onChange={(checked) => setConfig(prev => ({ ...prev!, gitOperationsEnabled: checked }))}\n                                />\n                                <span>Enable safe Git operations</span>\n                            </Space>\n                            <div style={{ marginBottom: 12, color: '#666', fontSize: '12px' }}>\n                                When enabled, allows read-only and safe Git commands\n                            </div>\n\n                            {config.gitOperationsEnabled && (\n                                <div style={{ marginLeft: 24 }}>\n                                    <h5>Allowed Git Operations:</h5>\n                                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>\n                                        {allGitOperations.map(operation => (\n                                            <Checkbox\n                                                key={operation}\n                                                checked={config.safeGitOperations.includes(operation)}\n                                                onChange={() => toggleGitOperation(operation)}\n                                            >\n                                                git {operation}\n                                            </Checkbox>\n                                        ))}\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                    </Panel>\n\n                    <Panel header=\"Advanced Configuration\" key=\"2\">\n                        <Alert\n                            message=\"Advanced Configuration\"\n                            description=\"This section is reserved for future advanced shell configuration options.\"\n                            type=\"info\"\n                            showIcon\n                        />\n                    </Panel>\n                </Collapse>\n            </Space>\n        </Modal>\n    );\n};\n\nexport default ShellConfigModal;\n","import React from 'react';\nimport raf from \"rc-util/es/raf\";\n/**\n * When click on the label,\n * the event will be stopped to prevent the label from being clicked twice.\n * label click -> input click -> label click again\n */\nexport default function useBubbleLock(onOriginInputClick) {\n  const labelClickLockRef = React.useRef(null);\n  const clearLock = () => {\n    raf.cancel(labelClickLockRef.current);\n    labelClickLockRef.current = null;\n  };\n  const onLabelClick = () => {\n    clearLock();\n    labelClickLockRef.current = raf(() => {\n      labelClickLockRef.current = null;\n    });\n  };\n  const onInputClick = e => {\n    if (labelClickLockRef.current) {\n      e.stopPropagation();\n      clearLock();\n    }\n    onOriginInputClick === null || onOriginInputClick === void 0 ? void 0 : onOriginInputClick(e);\n  };\n  return [onLabelClick, onInputClick];\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"className\", \"style\", \"checked\", \"disabled\", \"defaultChecked\", \"type\", \"title\", \"onChange\"];\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport * as React from 'react';\nimport { forwardRef, useImperativeHandle, useRef } from 'react';\nexport var Checkbox = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-checkbox' : _props$prefixCls,\n    className = props.className,\n    style = props.style,\n    checked = props.checked,\n    disabled = props.disabled,\n    _props$defaultChecked = props.defaultChecked,\n    defaultChecked = _props$defaultChecked === void 0 ? false : _props$defaultChecked,\n    _props$type = props.type,\n    type = _props$type === void 0 ? 'checkbox' : _props$type,\n    title = props.title,\n    onChange = props.onChange,\n    inputProps = _objectWithoutProperties(props, _excluded);\n  var inputRef = useRef(null);\n  var holderRef = useRef(null);\n  var _useMergedState = useMergedState(defaultChecked, {\n      value: checked\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    rawValue = _useMergedState2[0],\n    setRawValue = _useMergedState2[1];\n  useImperativeHandle(ref, function () {\n    return {\n      focus: function focus(options) {\n        var _inputRef$current;\n        (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || _inputRef$current.focus(options);\n      },\n      blur: function blur() {\n        var _inputRef$current2;\n        (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 || _inputRef$current2.blur();\n      },\n      input: inputRef.current,\n      nativeElement: holderRef.current\n    };\n  });\n  var classString = classNames(prefixCls, className, _defineProperty(_defineProperty({}, \"\".concat(prefixCls, \"-checked\"), rawValue), \"\".concat(prefixCls, \"-disabled\"), disabled));\n  var handleChange = function handleChange(e) {\n    if (disabled) {\n      return;\n    }\n    if (!('checked' in props)) {\n      setRawValue(e.target.checked);\n    }\n    onChange === null || onChange === void 0 || onChange({\n      target: _objectSpread(_objectSpread({}, props), {}, {\n        type: type,\n        checked: e.target.checked\n      }),\n      stopPropagation: function stopPropagation() {\n        e.stopPropagation();\n      },\n      preventDefault: function preventDefault() {\n        e.preventDefault();\n      },\n      nativeEvent: e.nativeEvent\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classString,\n    title: title,\n    style: style,\n    ref: holderRef\n  }, /*#__PURE__*/React.createElement(\"input\", _extends({}, inputProps, {\n    className: \"\".concat(prefixCls, \"-input\"),\n    ref: inputRef,\n    onChange: handleChange,\n    disabled: disabled,\n    checked: !!rawValue,\n    type: type\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-inner\")\n  }));\n});\nexport default Checkbox;"],"names":["WarningOutlined","props","ref","React","AntdIcon","_extends","icon","WarningOutlinedSvg","Panel","Collapse","_ref","visible","onClose","config","setConfig","useState","newCommand","setNewCommand","loading","setLoading","useEffect","fetchShellConfig","async","response","fetch","ok","data","json","error","console","enabled","allowedCommands","gitOperationsEnabled","safeGitOperations","timeout","syncMCPServerToggle","method","headers","body","JSON","stringify","server_name","warn","addCommand","trim","includes","prev","_objectSpread","dangerousCommands","isDangerous","command","some","dangerous","toLowerCase","_jsx","Modal","title","open","onCancel","onOk","result","success","window","dispatchEvent","CustomEvent","detail","serverName","message","confirmLoading","width","okText","children","_jsxs","Space","direction","style","size","align","Switch","checked","onChange","marginTop","color","fontSize","Divider","Alert","description","type","showIcon","marginBottom","defaultActiveKey","ghost","header","Input","Group","compact","placeholder","value","e","target","onPressEnter","Button","PlusOutlined","onClick","length","display","flexWrap","gap","map","Tag","closable","filter","cmd","removeCommand","marginLeft","Slider","min","max","marks","operation","Checkbox","op","toggleGitOperation","footer","textAlign","padding","useBubbleLock","onOriginInputClick","labelClickLockRef","clearLock","raf","cancel","current","onLabelClick","stopPropagation","_excluded","forwardRef","_props$prefixCls","prefixCls","className","disabled","_props$defaultChecked","defaultChecked","_props$type","inputProps","_objectWithoutProperties","inputRef","useRef","holderRef","_useMergedState","useMergedState","_useMergedState2","_slicedToArray","rawValue","setRawValue","useImperativeHandle","focus","options","_inputRef$current","blur","_inputRef$current2","input","nativeElement","classString","classNames","_defineProperty","concat","preventDefault","nativeEvent"],"sourceRoot":""}