---
description: When user says any of these phrases, activate this workflow (even if spoken in non-english languages): - "start workflow" - "begin analysis" - "run agents" - "start process" - "execute workflow"
alwaysApply: false
---
# Agent Workflow Orchestrator

## Global Guardrails
**CRITICAL: These rules apply to ALL agents throughout the entire workflow**

### Data Integrity Rules
1. **No Invented Numbers**: Never create business metrics, costs, percentages, or quantitative data not found in source files
2. **AI Estimation Tagging**: If any quantitative estimate is necessary, tag it as `[AI estimation]`
3. **Source Attribution**: Every claim, finding, or data point must reference its source file
4. **Factual Accuracy**: Only state what is explicitly documented or directly inferable from sources
5. **Assumption Transparency**: Clearly mark all assumptions as `[Assumption: ...]`

### Examples of Proper Usage
‚úÖ **Correct**: "Users report frequent delays in the approval process `[Source: performance-team.md]`"
‚úÖ **Correct**: "Estimated 15-20% efficiency loss `[AI estimation based on described delays]`"
‚ùå **Incorrect**: "This costs the company $50,000 annually"
‚ùå **Incorrect**: "85% of users experience this issue"

### Quality Standards
- **Evidence-Based**: All insights must be traceable to source material
- **Conservative Estimates**: When estimation is needed, err on the conservative side
- **Clear Uncertainty**: Mark uncertain information as `[Uncertain: requires validation]`
- **No Speculation**: Avoid speculative statements about business impact without data

## Trigger Keywords
When user says any of these phrases, activate this workflow:
- "start workflow"
- "begin analysis"
- "run agents"
- "start process"
- "execute workflow"
- "comece" (Portuguese)

## Workflow Phases

### Phase 1: Problem Analysis (Agents 0-5)
**Data Requirements:** Qualitative interviews and documentation
**Guardrails:** Strict - no quantitative speculation
**Output:** Problem definition, pain points, journey mapping

### Phase 2: Solution Ideation (Agents 6-8)
**Data Requirements:** Qualitative insights from Phase 1
**Guardrails:** Conservative estimates only, clearly tagged
**Output:** Strategic opportunities, optimized processes, communication plans

## Initial User Choice
For Phase 1, ALWAYS ask the user to choose execution mode:

```
ü§ñ **Agent Workflow Orchestrator - Phase 1**

I'll guide you through the 5-agent problem analysis process. Please choose your execution mode:

**Option A: End-to-End Execution**
- All 5 agents run sequentially without interruption
- Faster completion, less control
- Recommended for: Complete datasets, trusted process

**Option B: Step-by-Step Execution**
- Each agent completes and waits for your approval to continue
- More control, ability to review each step
- Recommended for: First-time use, quality control, partial datasets

Which mode would you prefer? (A or B)
```

For Phase 2, different choice:
```
ü§ñ **Solution Ideation Workflow - Phase 2**

Based on your problem analysis, I can now run solution ideation agents:

**Agent 6: Strategic Analysis** - Transform pain points into opportunities
**Agent 7: Process Optimization** - Design optimized workflows
**Agent 8: Communication** - Create stakeholder presentations and change management

This phase stays within qualitative analysis bounds. Continue? (Y/N)
```

## Execution Modes

### Mode A: End-to-End Execution
```
üîÑ **Running End-to-End Workflow**

I'll execute all 5 agents sequentially:
Agent 0 ‚Üí Agent 1 ‚Üí Agent 2 ‚Üí Agent 3 ‚Üí Agent 4 ‚Üí Agent 5

Starting now...
```

Then execute all agents in sequence without stopping.

### Mode B: Step-by-Step Execution
Execute one agent at a time, then show completion message and wait for user confirmation.

## Agent Execution Sequence

### Agent Activation System
Each agent is configured as "Apply Intelligently" in Cursor rules. The orchestrator activates specific agents by:
1. **Using trigger phrases** that match agent descriptions  
2. **Mentioning agent context** (e.g., "pain point analysis", "journey mapping")
3. **Explicit activation** via "Execute Agent [X] for [purpose]" statements

**Example Activation:**
- "Execute Agent 1 for interview analysis and qualitative data processing" 
- This phrase triggers Agent 1's "Apply Intelligently" rule
- Agent 1 becomes active and follows its detailed instructions

### Pre-Execution Reminder Template
Before each agent execution, display:
```
üõ°Ô∏è **Guardrails Reminder for Agent [X]**

**Data Integrity Rules:**
- ‚ùå NO invented numbers, costs, or percentages
- ‚úÖ Tag estimates as `[AI estimation]`
- ‚úÖ Reference sources: `[Source: filename.md]`
- ‚úÖ Mark assumptions: `[Assumption: ...]`
- ‚úÖ Mark uncertainty: `[Uncertain: requires validation]`

**Source Attribution Rules:**
- ‚ùå FORBIDDEN: Adding quotes not found in source files
- ‚ùå FORBIDDEN: Attributing interpretations to wrong source files
- ‚ùå FORBIDDEN: Using interpretative language as direct quotes
- ‚úÖ REQUIRED: Quote exact source text, then add interpretation separately
- ‚úÖ REQUIRED: Verify source file contains referenced information
- ‚úÖ REQUIRED: Use [Analysis: ...] or [Interpretation: ...] tags for insights

**Evidence-Based Analysis:**
- Quote first, interpret second
- Separate direct quotes from analytical insights
- Always link interpretations back to specific evidence
- Verify source attribution accuracy before proceeding

**Quality Standards:** Evidence-based, conservative estimates, no speculation, rigorous source verification
```

### Agent 0: Product & Service Design Specialist
**Agent Location:** `.cursor/rules/problem-space/agent-0-product-service-specialist.mdc`
**Agent Activation:** "Execute Agent 0 for project context analysis and documentation review"
**Dependencies:** None (entry point)
**Completion Check:** Verify `broad-context.md` exists and is populated

**Step-by-Step Completion Message:**
```
‚úÖ **Agent 0 Complete**

**Deliverables Created:**
- `/0-documentation/broad-context.md` - Project context and scope
- `/1-problem/` directory structure scaffolded

**Key Findings:**
- [Brief summary of context findings]
- [Interview files detected: X files] OR [No interviews found]

**Ready for Agent 1?** Agent 1 will analyze interview files and create structured analyses.
Type 'continue' to proceed or 'stop' to pause the workflow.
```

### Agent 1: Qualitative Research Specialist
**Agent Location:** `.cursor/rules/problem-space/agent-1-qualitative-research-specialist.mdc`
**Agent Activation:** "Execute Agent 1 for interview analysis and qualitative data processing"
**Dependencies:** Agent 0 complete, interviews in `/0-documentation/0b-Interviews/`
**Completion Check:** All interview files processed, analysis files created

**Step-by-Step Completion Message:**
```
‚úÖ **Agent 1 Complete**

**Deliverables Created:**
- [X] interview analysis files in `/1-problem/1a-interview-analysis/`
- Processed interviews: [list filenames]

**Key Findings:**
- [X] stakeholders identified
- [X] pain points extracted
- [X] process stages documented

**Ready for Agent 2?** Agent 2 will cluster and analyze pain points.
Type 'continue' to proceed or 'stop' to pause the workflow.
```

### Agent 2: Pain Point Analysis Specialist
**Agent Location:** `.cursor/rules/problem-space/agent-2-painpoint-analysis-specialist.mdc`
**Agent Activation:** "Execute Agent 2 for pain point identification, clustering, and impact assessment"
**Dependencies:** Agent 1 complete, analysis files exist
**Completion Check:** Pain point clusters created, consolidated mapping exists

**Step-by-Step Completion Message:**
```
‚úÖ **Agent 2 Complete**

**Deliverables Created:**
- [X] pain point cluster files in `/1-problem/1b-painpoints/1b1-painpoints-breakdown/`
- Consolidated mapping: `/1-problem/1b-painpoints/painpoint-mapping.md`

**Key Findings:**
- [X] pain point clusters identified
- Priority pain points: [list top 3]
- Process stages most affected: [list stages]

**Ready for Agent 3?** Agent 3 will map As-Is journeys for each source.
Type 'continue' to proceed or 'stop' to pause the workflow.
```

### Agent 3: As-Is Journey Mapper
**Agent Location:** `.cursor/rules/problem-space/agent-3-asis-journey-mapper.mdc`
**Agent Activation:** "Execute Agent 3 for current state journey mapping and process documentation"
**Dependencies:** Agent 2 complete, pain point analyses exist
**Completion Check:** Journey files created for all sources

**Step-by-Step Completion Message:**
```
‚úÖ **Agent 3 Complete**

**Deliverables Created:**
- [X] individual journey files in `/1-problem/1c-asis-journey/1c2-asis-breakdown/`
- Journey sources processed: [list source names]

**Key Findings:**
- [X] process stages mapped
- [X] tools and systems identified
- [X] pain points integrated into journey stages

**Ready for Agent 4?** Agent 4 will consolidate all journeys into unified As-Is journey.
‚ö†Ô∏è **IMPORTANT**: Agent 4 requires explicit user confirmation before proceeding.
Type 'continue' to proceed or 'stop' to pause the workflow.
```

### Agent 4: Journey Consolidation Specialist
**Agent Location:** `.cursor/rules/problem-space/agent-4-journey-consolidation-specialist.mdc`
**Agent Activation:** "Execute Agent 4 for journey harmonization and consolidated process creation"
**Dependencies:** Agent 3 complete, individual journey files exist
**Completion Check:** Consolidated journey exists

**Step-by-Step Completion Message:**
```
‚úÖ **Agent 4 Complete**

**Deliverables Created:**
- Consolidated As-Is journey: `/1-problem/1c-asis-journey/asis-journey.md`

**Key Findings:**
- [X] unified process stages identified
- [X] common patterns consolidated
- [X] tools and systems mapped
- Cross-journey insights: [brief summary]

**Ready for Agent 5?** Agent 5 will generate strategic reports and Figma specifications.
Type 'continue' to proceed or 'stop' to pause the workflow.
```

### Agent 5: Strategic Report Generator
**Agent Location:** `.cursor/rules/problem-space/agent-5-strategic-report-generator.mdc`
**Agent Activation:** "Execute Agent 5 for executive reporting and strategic synthesis"
**Dependencies:** Agent 4 complete, consolidated journey and pain mapping exist
**Completion Check:** All three reports created

**Final Completion Message:**
```
üéâ **Phase 1 Complete - Problem Analysis Finished**

**Final Deliverables:**
- Pain Point Report: `/1-problem/1d-problem-output/pain-report.md`
- Problem Report: `/1-problem/1d-problem-output/problem-report.md`
- Journey Output (Figma-ready): `/1-problem/1d-problem-output/journey-output.md`

**Phase 1 Summary:**
- [X] interviews analyzed
- [X] pain points clustered and prioritized
- [X] As-Is journey consolidated
- [X] strategic reports generated
- [X] Figma specifications created

**Next Steps:**
Phase 1 (Problem) is complete. You can now:
1. Review the strategic reports for insights
2. Use journey-output.md to create Figma visualizations
3. Proceed to Phase 2 (Solution Design) when ready

**Quality Check:** All deliverables are cross-referenced and consistent.
```

## Phase 2: Solution Ideation Agents

### Agent 6: Strategic Analysis Specialist
**Agent Location:** `.cursor/rules/solution-space/agent-6-strategic-analysis-specialist.mdc`
**Agent Activation:** "Execute Agent 6 for opportunity identification and strategic planning"
**Dependencies:** Phase 1 complete, problem reports exist
**Completion Check:** Strategic opportunities and roadmap created

**Completion Message:**
```
‚úÖ **Agent 6 Complete**

**Deliverables Created:**
- Strategic Opportunities: `/2-solution/2a-ideation/opportunities-identification.md`
- Prioritization Matrix: `/2-solution/2a-ideation/prioritization-matrix.md`
- Strategic Roadmap: `/2-solution/2a-ideation/strategic-roadmap.md`

**Key Findings:**
- [X] strategic opportunities identified from pain points
- [X] opportunities prioritized by impact and feasibility
- [X] implementation roadmap created

**Ready for Agent 7?** Agent 7 will design optimized processes and automation assessment.
Type 'continue' to proceed or 'stop' to pause the workflow.
```

### Agent 7: Process Optimization Specialist
**Agent Location:** `.cursor/rules/solution-space/agent-7-process-optimization-specialist.mdc`
**Agent Activation:** "Execute Agent 7 for process redesign and automation assessment"
**Dependencies:** Agent 6 complete, strategic opportunities exist
**Completion Check:** Process optimization designs created

**Step-by-Step Completion Message:**
```
‚úÖ **Agent 7 Complete**

**Deliverables Created:**
- Current vs Future State: `/2-solution/2b-validation/current-vs-future-state.md`
- Process Flows: `/2-solution/2b-validation/optimized-process-flows.md`
- Automation Assessment: `/2-solution/2b-validation/automation-assessment.md`

**Key Findings:**
- [X] process optimization designs completed
- [X] automation opportunities identified
- [X] current vs future state transformation mapped

**Ready for Agent 8?** Agent 8 will create stakeholder communications and change management plans.
Type 'continue' to proceed or 'stop' to pause the workflow.
```

### Agent 8: Communication Specialist
**Agent Location:** `.cursor/rules/solution-space/agent-8-communication-specialist.mdc`
**Agent Activation:** "Execute Agent 8 for stakeholder communications and change management"
**Dependencies:** Agent 7 complete, process optimization designs exist
**Completion Check:** Communication plans and change management strategy created

**Phase 2 Completion Message:**
```
üéâ **Phase 2 Complete - Solution Ideation Finished**

**Final Phase 2 Deliverables:**
- Strategic Opportunities Analysis with prioritization
- Optimized Process Flows and automation assessment
- Current vs Future State transformation design
- Executive presentation materials and stakeholder communications
- Change management strategy and adoption planning

**Phase 2 Summary:**
- ‚úÖ Pain points transformed into strategic opportunities
- ‚úÖ Processes optimized based on qualitative insights
- ‚úÖ Automation opportunities identified (within evidence bounds)
- ‚úÖ Executive communications and change management plans created
- ‚úÖ All estimates properly tagged and sourced

**Next Steps:**
Solution ideation is complete. You can now:
1. Present executive materials to leadership for approval
2. Implement stakeholder communication strategies
3. Execute change management and adoption plans
4. Begin solution implementation based on strategic roadmap

**Quality Assurance:** All Phase 2 outputs stay within qualitative analysis bounds with proper source attribution.
```

## Error Handling

### Missing Dependencies
If required input files are missing:
```
‚ùå **Workflow Error - Missing Dependencies**

Agent [X] cannot proceed because required inputs are missing:
- Missing: [list missing files/directories]
- Required for: [explain what agent needs these for]

**Options:**
1. Create missing files manually and restart from Agent [X]
2. Skip to Agent [Y] if dependencies can be bypassed
3. Stop workflow and address data gaps

Which option would you prefer?
```

### Agent Failure
If an agent fails to complete:
```
‚ùå **Agent [X] Failed**

**Error:** [description of what went wrong]
**Impact:** [what this means for the workflow]

**Recovery Options:**
1. Retry Agent [X] with current inputs
2. Skip Agent [X] and proceed (may affect quality)
3. Stop workflow for manual intervention

Which option would you prefer?
```

## Workflow State Management

### Resuming Interrupted Workflow
If user returns to an interrupted workflow:
```
üîÑ **Workflow Resume Detected**

I found an incomplete workflow:
- Last completed: Agent [X]
- Next step: Agent [Y]
- Missing deliverables: [list]

**Resume Options:**
1. Continue from Agent [Y]
2. Restart from Agent [X] (overwrite existing)
3. Start completely fresh (clear all outputs)

Which option would you prefer?
```

### Quality Validation
Before each agent execution, verify:
1. Required input files exist and are not empty
2. Previous agent's outputs are complete
3. Directory structure matches expected format

## Implementation Rules

### Workflow Management
1. **Always ask for execution mode first** - never assume
2. **Wait for explicit user confirmation** in step-by-Step mode
3. **Validate dependencies** before each agent execution
4. **Provide clear status updates** with deliverables and findings
5. **Handle errors gracefully** with recovery options
6. **Maintain workflow state** for resumption capability
7. **Cross-reference outputs** for consistency
8. **Use agent-specific messaging** (e.g., [Agent0], [Agent1])

### Data Quality Enforcement
9. **Enforce guardrails** - Remind agents of data integrity rules before execution
10. **Validate outputs** - Check for proper tagging of estimations and assumptions
11. **Source verification** - Ensure all claims reference source files
12. **Flag violations** - Stop workflow if guardrails are violated and request correction

## Execution Commands
- `continue` or `yes` or `proceed` ‚Üí Continue to next agent
- `stop` or `pause` or `halt` ‚Üí Pause workflow
- `restart` ‚Üí Start workflow from beginning
- `resume` ‚Üí Continue from last completed agent
- `status` ‚Üí Show current workflow state